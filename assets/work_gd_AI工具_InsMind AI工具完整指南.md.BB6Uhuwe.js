import{_ as i,c as a,o as n,a7 as l}from"./chunks/framework.BQb8NfN9.js";const c=JSON.parse('{"title":"InsMind AIå·¥å…·å®Œæ•´æŒ‡å—","description":"","frontmatter":{},"headers":[],"relativePath":"work/gd/AIå·¥å…·/InsMind AIå·¥å…·å®Œæ•´æŒ‡å—.md","filePath":"work/gd/AIå·¥å…·/InsMind AIå·¥å…·å®Œæ•´æŒ‡å—.md","lastUpdated":1770085732000}'),p={name:"work/gd/AIå·¥å…·/InsMind AIå·¥å…·å®Œæ•´æŒ‡å—.md"};function e(h,s,t,k,r,d){return n(),a("div",null,s[0]||(s[0]=[l(`<h1 id="insmind-aiå·¥å…·å®Œæ•´æŒ‡å—" tabindex="-1">InsMind AIå·¥å…·å®Œæ•´æŒ‡å— <a class="header-anchor" href="#insmind-aiå·¥å…·å®Œæ•´æŒ‡å—" aria-label="Permalink to &quot;InsMind AIå·¥å…·å®Œæ•´æŒ‡å—&quot;">â€‹</a></h1><blockquote><p><strong>æ–‡æ¡£è¯´æ˜ï¼š</strong> æœ¬æ–‡æ¡£è¯¦ç»†ä»‹ç»InsMindé¡¹ç›®ä¸­çš„æ‰€æœ‰AIå·¥å…·ï¼ŒåŒ…æ‹¬å·¥å…·åŠŸèƒ½ã€æŠ€æœ¯å®ç°ã€åº”ç”¨åœºæ™¯ç­‰å®Œæ•´ä¿¡æ¯ã€‚</p></blockquote><h2 id="ğŸ“š-ç›®å½•" tabindex="-1">ğŸ“š ç›®å½• <a class="header-anchor" href="#ğŸ“š-ç›®å½•" aria-label="Permalink to &quot;ğŸ“š ç›®å½•&quot;">â€‹</a></h2><ol><li><a href="#ä¸€å·¥å…·åˆ†ç±»æ¦‚è§ˆ">å·¥å…·åˆ†ç±»æ¦‚è§ˆ</a></li><li><a href="#äºŒaiç”Ÿæˆç±»å·¥å…·">AIç”Ÿæˆç±»å·¥å…·</a></li><li><a href="#ä¸‰aiå›¾åƒå¤„ç†å·¥å…·">AIå›¾åƒå¤„ç†å·¥å…·</a></li><li><a href="#å››aiè§†é¢‘å·¥å…·">AIè§†é¢‘å·¥å…·</a></li><li><a href="#äº”åŸºç¡€ç¼–è¾‘å·¥å…·">åŸºç¡€ç¼–è¾‘å·¥å…·</a></li><li><a href="#å…­æŠ€æœ¯æ¶æ„">æŠ€æœ¯æ¶æ„</a></li><li><a href="#ä¸ƒå•†ä¸šåŒ–é…ç½®">å•†ä¸šåŒ–é…ç½®</a></li></ol><hr><h2 id="ä¸€ã€å·¥å…·åˆ†ç±»æ¦‚è§ˆ" tabindex="-1">ä¸€ã€å·¥å…·åˆ†ç±»æ¦‚è§ˆ <a class="header-anchor" href="#ä¸€ã€å·¥å…·åˆ†ç±»æ¦‚è§ˆ" aria-label="Permalink to &quot;ä¸€ã€å·¥å…·åˆ†ç±»æ¦‚è§ˆ&quot;">â€‹</a></h2><h3 id="_1-1-å·¥å…·æ€»è§ˆ" tabindex="-1">1.1 å·¥å…·æ€»è§ˆ <a class="header-anchor" href="#_1-1-å·¥å…·æ€»è§ˆ" aria-label="Permalink to &quot;1.1 å·¥å…·æ€»è§ˆ&quot;">â€‹</a></h3><p>InsMindé¡¹ç›®å…±åŒ…å«<strong>19ä¸ªå·¥å…·</strong>ï¼Œå…¶ä¸­<strong>12ä¸ªAIå·¥å…·</strong>å’Œ<strong>7ä¸ªåŸºç¡€ç¼–è¾‘å·¥å…·</strong>ã€‚</p><p><strong>å·¥å…·ç»Ÿè®¡ï¼š</strong></p><table tabindex="0"><thead><tr><th>ç±»åˆ«</th><th>æ•°é‡</th><th>å·¥å…·åˆ—è¡¨</th></tr></thead><tbody><tr><td><strong>AIç”Ÿæˆç±»</strong></td><td>4ä¸ª</td><td>AIç»˜å›¾ã€AIç»˜å›¾é€šç”¨ã€AIèƒŒæ™¯ã€AIè§†é¢‘</td></tr><tr><td><strong>AIå›¾åƒå¤„ç†</strong></td><td>6ä¸ª</td><td>æŠ å›¾ã€æ™ºèƒ½æ¶ˆé™¤ã€AIæ‰©å›¾ã€æ¶‚æŠ¹æ›¿æ¢ã€AIæ»¤é•œã€AIå˜æ¸…æ™°</td></tr><tr><td><strong>AIè§†é¢‘å¤„ç†</strong></td><td>2ä¸ª</td><td>AIè§†é¢‘ç”Ÿæˆã€è§†é¢‘å˜æ¸…æ™°</td></tr><tr><td><strong>åŸºç¡€ç¼–è¾‘</strong></td><td>7ä¸ª</td><td>è£å‰ªã€è°ƒæ•´å¤§å°ã€æ ¼å¼è½¬æ¢ã€å‹ç¼©ã€æ¢è‰²ã€æ¨¡æ¿ã€åšåŒæ¬¾</td></tr></tbody></table><h3 id="_1-2-å·¥å…·ç±»å‹æšä¸¾" tabindex="-1">1.2 å·¥å…·ç±»å‹æšä¸¾ <a class="header-anchor" href="#_1-2-å·¥å…·ç±»å‹æšä¸¾" aria-label="Permalink to &quot;1.2 å·¥å…·ç±»å‹æšä¸¾&quot;">â€‹</a></h3><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// apps/insmind/routes/(vue3)/services/editor/const/config.ts</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> enum</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ToolType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ============ AIå·¥å…·ï¼ˆå•†ä¸šåŒ–ï¼‰ ============</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // AIç”Ÿæˆç±»</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    AiDraw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;aiDraw&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,                    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// AIç»˜å›¾</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    AiDrawGeneral</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;aiDrawGeneral&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// AIç»˜å›¾é€šç”¨</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    AiBackground</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;aiBackground&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,        </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// AIèƒŒæ™¯</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    AiVideoGeneral</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;aiVideo&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,           </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// AIè§†é¢‘</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // AIå›¾åƒå¤„ç†ç±»</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    Matting</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;matting&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,                  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æŠ å›¾</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    MagicEraser</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;magicEraser&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,          </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ™ºèƒ½æ¶ˆé™¤</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    OutPaintExpand</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;outPaintExpand&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// AIæ‰©å›¾</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    AiReplace</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;aiReplace&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,              </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ¶‚æŠ¹æ›¿æ¢</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    AiFilter</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;aiFilter&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,                </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// AIæ»¤é•œ</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    SuperResolution</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;superResolution&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// AIå˜æ¸…æ™°</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // AIè§†é¢‘å¤„ç†ç±»</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    AiVideoInspiration</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;aiVideoInspiration&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// AIåšåŒæ¬¾è§†é¢‘</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    AiVideoEnhance</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;aiVideoEnhance&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,          </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è§†é¢‘å˜æ¸…æ™°</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ============ åŸºç¡€å·¥å…·ï¼ˆéå•†ä¸šåŒ–ï¼‰ ============</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    Crop</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;crop&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,                        </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è£å‰ª</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    Resize</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;resize&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,                    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å°ºå¯¸è°ƒæ•´</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    Convert</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;convert&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,                  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ ¼å¼è½¬æ¢</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    Compress</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;compress&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,                </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å›¾ç‰‡å‹ç¼©</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    ChangeColor</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;changeColor&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,          </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ¢è‰²</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    Template</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;template&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,                </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ¨¡ç‰ˆå·¥å…·</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    Inspiration</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;inspiration&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,          </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åšåŒæ¬¾å·¥å…·</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ============ å…¶ä»– ============</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    Upload</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;upload&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,                    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä¸Šä¼ </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><hr><h2 id="äºŒã€aiç”Ÿæˆç±»å·¥å…·" tabindex="-1">äºŒã€AIç”Ÿæˆç±»å·¥å…· <a class="header-anchor" href="#äºŒã€aiç”Ÿæˆç±»å·¥å…·" aria-label="Permalink to &quot;äºŒã€AIç”Ÿæˆç±»å·¥å…·&quot;">â€‹</a></h2><h3 id="_2-1-aiç»˜å›¾-aidraw" tabindex="-1">2.1 AIç»˜å›¾ï¼ˆAiDrawï¼‰ <a class="header-anchor" href="#_2-1-aiç»˜å›¾-aidraw" aria-label="Permalink to &quot;2.1 AIç»˜å›¾ï¼ˆAiDrawï¼‰&quot;">â€‹</a></h3><p><strong>åŠŸèƒ½æè¿°ï¼š</strong> åŸºäºæ–‡æœ¬æè¿°ç”Ÿæˆå›¾åƒçš„AIå·¥å…·</p><p><strong>æ ¸å¿ƒç‰¹æ€§ï¼š</strong></p><ul><li>âœ¨ æ–‡æœ¬ç”Ÿæˆå›¾åƒï¼ˆText-to-Imageï¼‰</li><li>ğŸ¨ æ”¯æŒå¤šç§é£æ ¼å’Œåœºæ™¯</li><li>ğŸ”§ å¯è°ƒæ•´ç”Ÿæˆå‚æ•°ï¼ˆå°ºå¯¸ã€é£æ ¼å¼ºåº¦ç­‰ï¼‰</li><li>ğŸ“¦ æ‰¹é‡ç”Ÿæˆæ”¯æŒ</li></ul><p><strong>æŠ€æœ¯å®ç°ï¼š</strong></p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>æ–‡ä»¶ä½ç½®ï¼š</span></span>
<span class="line"><span>apps/insmind/routes/(vue3)/services/editor/editors/ai-draw/</span></span>
<span class="line"><span>â”œâ”€â”€ services.ts          # æ ¸å¿ƒæœåŠ¡ç±»</span></span>
<span class="line"><span>â”œâ”€â”€ editor.vue           # ç¼–è¾‘å™¨UI</span></span>
<span class="line"><span>â”œâ”€â”€ index.vue            # å…¥å£ç»„ä»¶</span></span>
<span class="line"><span>â””â”€â”€ components/          # UIç»„ä»¶</span></span>
<span class="line"><span>    â”œâ”€â”€ prompt-input.vue     # æç¤ºè¯è¾“å…¥</span></span>
<span class="line"><span>    â”œâ”€â”€ style-selector.vue   # é£æ ¼é€‰æ‹©å™¨</span></span>
<span class="line"><span>    â””â”€â”€ params-panel.vue     # å‚æ•°é¢æ¿</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><strong>å®ç°æ¥å£ï¼š</strong></p><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IAiDrawService</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IAiPipelineService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ç”Ÿæˆå›¾åƒ</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    start</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">prompt</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">params</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> GenerationParams</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // åœºæ™¯ç®¡ç†</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    loadScenes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IScene</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[]&gt;;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    switchScene</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">sceneCode</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // å‚æ•°é…ç½®</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    setSize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">width</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">height</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    setStyle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">style</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p><strong>åº”ç”¨åœºæ™¯ï¼š</strong></p><ul><li>ğŸ¨ åˆ›æ„è®¾è®¡ï¼šå¿«é€Ÿç”Ÿæˆè®¾è®¡çµæ„Ÿ</li><li>ğŸ“¸ ç¤¾äº¤åª’ä½“ï¼šç”Ÿæˆå¸å¼•äººçš„é…å›¾</li><li>ğŸ–¼ï¸ è‰ºæœ¯åˆ›ä½œï¼šè¾…åŠ©è‰ºæœ¯å®¶åˆ›ä½œ</li></ul><p><strong>å•†ä¸šåŒ–é…ç½®ï¼š</strong></p><ul><li>å•†ä¸šåŒ–ç±»å‹ï¼š<code>BusinessType.generate</code></li><li>æ¶ˆè€—é«˜æ–¯å¸ï¼šæ˜¯</li><li>æ°´å°æ”¯æŒï¼šæ˜¯</li></ul><hr><h3 id="_2-2-aiç»˜å›¾é€šç”¨-aidrawgeneral" tabindex="-1">2.2 AIç»˜å›¾é€šç”¨ï¼ˆAiDrawGeneralï¼‰ <a class="header-anchor" href="#_2-2-aiç»˜å›¾é€šç”¨-aidrawgeneral" aria-label="Permalink to &quot;2.2 AIç»˜å›¾é€šç”¨ï¼ˆAiDrawGeneralï¼‰&quot;">â€‹</a></h3><p><strong>åŠŸèƒ½æè¿°ï¼š</strong> æ›´é€šç”¨çš„AIç»˜å›¾å·¥å…·ï¼Œæ”¯æŒæ›´å¤šç”Ÿæˆæ¨¡å¼</p><p><strong>æ ¸å¿ƒç‰¹æ€§ï¼š</strong></p><ul><li>ğŸ¯ æ”¯æŒå›¾ç”Ÿå›¾ï¼ˆImage-to-Imageï¼‰</li><li>ğŸ–Œï¸ æ”¯æŒå±€éƒ¨é‡ç»˜ï¼ˆInpaintingï¼‰</li><li>ğŸ”„ æ”¯æŒå›¾åƒå˜ä½“ï¼ˆVariationï¼‰</li><li>ğŸ“ æ›´å¤šå°ºå¯¸å’Œæ¯”ä¾‹é€‰é¡¹</li></ul><p><strong>ä¸AiDrawçš„åŒºåˆ«ï¼š</strong></p><table tabindex="0"><thead><tr><th>ç‰¹æ€§</th><th>AiDraw</th><th>AiDrawGeneral</th></tr></thead><tbody><tr><td>æ–‡ç”Ÿå›¾</td><td>âœ…</td><td>âœ…</td></tr><tr><td>å›¾ç”Ÿå›¾</td><td>âŒ</td><td>âœ…</td></tr><tr><td>å±€éƒ¨é‡ç»˜</td><td>âŒ</td><td>âœ…</td></tr><tr><td>å›¾åƒå˜ä½“</td><td>âŒ</td><td>âœ…</td></tr><tr><td>åœºæ™¯æ•°é‡</td><td>åŸºç¡€</td><td>ä¸°å¯Œ</td></tr><tr><td>å‚æ•°é…ç½®</td><td>ç®€åŒ–</td><td>å®Œæ•´</td></tr></tbody></table><p><strong>æŠ€æœ¯å®ç°ï¼š</strong></p><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ”¯æŒå¤šç§ç”Ÿæˆç­–ç•¥</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">enum</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> GenerationStrategy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    TEXT_TO_IMAGE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;text-to-image&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    IMAGE_TO_IMAGE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;image-to-image&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    INPAINTING</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;inpainting&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    VARIATION</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;variation&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> AiDrawGeneralService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    async</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> generate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">strategy</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> GenerationStrategy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">params</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        switch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (strategy) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            case</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> GenerationStrategy.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">TEXT_TO_IMAGE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">textToImage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(params);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            case</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> GenerationStrategy.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">IMAGE_TO_IMAGE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">imageToImage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(params);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            case</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> GenerationStrategy.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">INPAINTING</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">inpainting</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(params);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            case</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> GenerationStrategy.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">VARIATION</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">variation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(params);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><hr><h3 id="_2-3-aièƒŒæ™¯-aibackground" tabindex="-1">2.3 AIèƒŒæ™¯ï¼ˆAiBackgroundï¼‰ <a class="header-anchor" href="#_2-3-aièƒŒæ™¯-aibackground" aria-label="Permalink to &quot;2.3 AIèƒŒæ™¯ï¼ˆAiBackgroundï¼‰&quot;">â€‹</a></h3><p><strong>åŠŸèƒ½æè¿°ï¼š</strong> æ™ºèƒ½ç”Ÿæˆå›¾åƒèƒŒæ™¯çš„AIå·¥å…·</p><p><strong>æ ¸å¿ƒç‰¹æ€§ï¼š</strong></p><ul><li>ğŸ¯ è‡ªåŠ¨æŠ å›¾+èƒŒæ™¯ç”Ÿæˆ</li><li>ğŸŒˆ å¤šç§èƒŒæ™¯é£æ ¼ï¼ˆçº¯è‰²ã€æ¸å˜ã€åœºæ™¯ï¼‰</li><li>ğŸ“¦ å•†å“æ‘„å½±ä¸“ç”¨åœºæ™¯</li><li>ğŸ” æ™ºèƒ½ä¸»ä½“è¯†åˆ«å’Œå®šä½</li></ul><p><strong>å·¥ä½œæµç¨‹ï¼š</strong></p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>ç”¨æˆ·ä¸Šä¼ å›¾ç‰‡</span></span>
<span class="line"><span>    â†“</span></span>
<span class="line"><span>è‡ªåŠ¨æŠ å›¾ï¼ˆSAM/Mattingï¼‰</span></span>
<span class="line"><span>    â†“</span></span>
<span class="line"><span>ä¸»ä½“è¯†åˆ«ä¸åœºæ™¯åˆ†ç±»</span></span>
<span class="line"><span>    â†“</span></span>
<span class="line"><span>è°ƒæ•´ä¸»ä½“å¤§å°å’Œä½ç½®</span></span>
<span class="line"><span>    â†“</span></span>
<span class="line"><span>AIç”ŸæˆèƒŒæ™¯</span></span>
<span class="line"><span>    â†“</span></span>
<span class="line"><span>åˆæˆæœ€ç»ˆå›¾åƒ</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><strong>æŠ€æœ¯å®ç°ï¼š</strong></p><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// services.ts</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> AiBackgroundService</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> BaseEditorService</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> implements</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IAiPipelineService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    async</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> start</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // 1. æŠ å›¾å¤„ç†</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isTransparentPixelRatioOverThreshold</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(originResult)) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.mattingRes </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> mattingImage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(productImage);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // 2. è°ƒæ•´ä¸»ä½“</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> resultCanvas </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">adjustMainImage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            mainResult,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            originResult,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            productImage,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        );</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // 3. ç”ŸæˆèƒŒæ™¯</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">task</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> executeAiPipeline</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(params);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> res</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> task</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // 4. è¿”å›ç»“æœ</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.aiBgResult </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> res.url;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p><strong>åº”ç”¨åœºæ™¯ï¼š</strong></p><ul><li>ğŸ›ï¸ ç”µå•†äº§å“å›¾ï¼šå¿«é€Ÿç”Ÿæˆäº§å“åœºæ™¯å›¾</li><li>ğŸ“¸ äººåƒæ‘„å½±ï¼šæ›´æ¢äººåƒèƒŒæ™¯</li><li>ğŸ¨ è®¾è®¡ç´ æï¼šä¸ºè®¾è®¡å…ƒç´ æ·»åŠ èƒŒæ™¯</li></ul><p><strong>æ–‡ä»¶ä½ç½®ï¼š</strong></p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>ai-background/</span></span>
<span class="line"><span>â”œâ”€â”€ services.ts          # æ ¸å¿ƒæœåŠ¡ï¼ˆ753è¡Œï¼‰</span></span>
<span class="line"><span>â”œâ”€â”€ editor.vue           # ç¼–è¾‘å™¨UI</span></span>
<span class="line"><span>â””â”€â”€ index.vue            # å…¥å£ç»„ä»¶</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><hr><h3 id="_2-4-aiè§†é¢‘ç”Ÿæˆ-aivideogeneral" tabindex="-1">2.4 AIè§†é¢‘ç”Ÿæˆï¼ˆAiVideoGeneralï¼‰ <a class="header-anchor" href="#_2-4-aiè§†é¢‘ç”Ÿæˆ-aivideogeneral" aria-label="Permalink to &quot;2.4 AIè§†é¢‘ç”Ÿæˆï¼ˆAiVideoGeneralï¼‰&quot;">â€‹</a></h3><p><strong>åŠŸèƒ½æè¿°ï¼š</strong> å¤šæ¨¡å¼AIè§†é¢‘ç”Ÿæˆå·¥å…·</p><p><strong>æ”¯æŒçš„ç”Ÿæˆæ¨¡å¼ï¼š</strong></p><h4 id="æ¨¡å¼1-å›¾ç”Ÿè§†é¢‘-image-to-video" tabindex="-1">æ¨¡å¼1ï¼šå›¾ç”Ÿè§†é¢‘ï¼ˆImage-to-Videoï¼‰ <a class="header-anchor" href="#æ¨¡å¼1-å›¾ç”Ÿè§†é¢‘-image-to-video" aria-label="Permalink to &quot;æ¨¡å¼1ï¼šå›¾ç”Ÿè§†é¢‘ï¼ˆImage-to-Videoï¼‰&quot;">â€‹</a></h4><ul><li>ğŸ“¸ é™æ€å›¾ç‰‡è½¬åŠ¨æ€è§†é¢‘</li><li>ğŸ¬ æ·»åŠ åŠ¨ç”»æ•ˆæœ</li><li>â±ï¸ æ”¯æŒ3-10ç§’æ—¶é•¿</li></ul><h4 id="æ¨¡å¼2-æ–‡ç”Ÿè§†é¢‘-text-to-video" tabindex="-1">æ¨¡å¼2ï¼šæ–‡ç”Ÿè§†é¢‘ï¼ˆText-to-Videoï¼‰ <a class="header-anchor" href="#æ¨¡å¼2-æ–‡ç”Ÿè§†é¢‘-text-to-video" aria-label="Permalink to &quot;æ¨¡å¼2ï¼šæ–‡ç”Ÿè§†é¢‘ï¼ˆText-to-Videoï¼‰&quot;">â€‹</a></h4><ul><li>ğŸ“ æ–‡æœ¬æè¿°ç”Ÿæˆè§†é¢‘</li><li>ğŸ¨ æ”¯æŒå¤šç§é£æ ¼</li><li>ğŸ­ åœºæ™¯è‡ªåŠ¨ç”Ÿæˆ</li></ul><h4 id="æ¨¡å¼3-è§†é¢‘ç‰¹æ•ˆ-video-effects" tabindex="-1">æ¨¡å¼3ï¼šè§†é¢‘ç‰¹æ•ˆï¼ˆVideo-Effectsï¼‰ <a class="header-anchor" href="#æ¨¡å¼3-è§†é¢‘ç‰¹æ•ˆ-video-effects" aria-label="Permalink to &quot;æ¨¡å¼3ï¼šè§†é¢‘ç‰¹æ•ˆï¼ˆVideo-Effectsï¼‰&quot;">â€‹</a></h4><ul><li>âœ¨ ä¸ºç°æœ‰è§†é¢‘æ·»åŠ ç‰¹æ•ˆ</li><li>ğŸŒŸ æ»¤é•œå’Œè½¬åœºæ•ˆæœ</li><li>ğŸª åŠ¨ç”»å åŠ </li></ul><h4 id="æ¨¡å¼4-è§†é¢‘ç¼–è¾‘-video-edit" tabindex="-1">æ¨¡å¼4ï¼šè§†é¢‘ç¼–è¾‘ï¼ˆVideo-Editï¼‰ <a class="header-anchor" href="#æ¨¡å¼4-è§†é¢‘ç¼–è¾‘-video-edit" aria-label="Permalink to &quot;æ¨¡å¼4ï¼šè§†é¢‘ç¼–è¾‘ï¼ˆVideo-Editï¼‰&quot;">â€‹</a></h4><ul><li>âœ‚ï¸ æ™ºèƒ½å‰ªè¾‘</li><li>ğŸ”„ è§†é¢‘æ‹¼æ¥</li><li>ğŸµ éŸ³é¢‘å¤„ç†</li></ul><p><strong>æŠ€æœ¯æ¶æ„ï¼š</strong></p><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç­–ç•¥æ¨¡å¼å®ç°</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> VideoGenerationStrategy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    validate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">params</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    generate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">params</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">VideoResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ImageToVideoStrategy</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> implements</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> VideoGenerationStrategy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    async</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> generate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">params</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ImageToVideoParams</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // å›¾ç”Ÿè§†é¢‘é€»è¾‘</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TextToVideoStrategy</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> implements</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> VideoGenerationStrategy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    async</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> generate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">params</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TextToVideoParams</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // æ–‡ç”Ÿè§†é¢‘é€»è¾‘</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æœåŠ¡ç±»</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> AiVideoGeneralService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    private</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> strategies</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">VideoGenerationMode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">VideoGenerationStrategy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    async</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> generate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">mode</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> VideoGenerationMode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">params</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> strategy</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.strategies.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(mode);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> strategy.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">generate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(params);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><p><strong>æ–‡ä»¶ç»“æ„ï¼š</strong></p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>ai-video-general/</span></span>
<span class="line"><span>â”œâ”€â”€ services/</span></span>
<span class="line"><span>â”‚   â”œâ”€â”€ index.ts                          # ä¸»æœåŠ¡ç±»</span></span>
<span class="line"><span>â”‚   â””â”€â”€ strategies/</span></span>
<span class="line"><span>â”‚       â”œâ”€â”€ image-to-video-strategy.ts    # å›¾ç”Ÿè§†é¢‘</span></span>
<span class="line"><span>â”‚       â”œâ”€â”€ text-to-video-strategy.ts     # æ–‡ç”Ÿè§†é¢‘</span></span>
<span class="line"><span>â”‚       â”œâ”€â”€ video-edit-strategy.ts        # è§†é¢‘ç¼–è¾‘</span></span>
<span class="line"><span>â”‚       â””â”€â”€ video-effects-strategy.ts     # è§†é¢‘ç‰¹æ•ˆ</span></span>
<span class="line"><span>â””â”€â”€ components/</span></span>
<span class="line"><span>    â”œâ”€â”€ ai-video.vue                      # ä¸»ç»„ä»¶</span></span>
<span class="line"><span>    â”œâ”€â”€ preview-video-edit.vue            # é¢„è§ˆç»„ä»¶</span></span>
<span class="line"><span>    â””â”€â”€ ...ï¼ˆ17ä¸ªç»„ä»¶ï¼‰</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><hr><h2 id="ä¸‰ã€aiå›¾åƒå¤„ç†å·¥å…·" tabindex="-1">ä¸‰ã€AIå›¾åƒå¤„ç†å·¥å…· <a class="header-anchor" href="#ä¸‰ã€aiå›¾åƒå¤„ç†å·¥å…·" aria-label="Permalink to &quot;ä¸‰ã€AIå›¾åƒå¤„ç†å·¥å…·&quot;">â€‹</a></h2><h3 id="_3-1-æŠ å›¾-matting" tabindex="-1">3.1 æŠ å›¾ï¼ˆMattingï¼‰ <a class="header-anchor" href="#_3-1-æŠ å›¾-matting" aria-label="Permalink to &quot;3.1 æŠ å›¾ï¼ˆMattingï¼‰&quot;">â€‹</a></h3><p><strong>åŠŸèƒ½æè¿°ï¼š</strong> æ™ºèƒ½å»é™¤å›¾åƒèƒŒæ™¯ï¼Œæå–ä¸»ä½“</p><p><strong>æ ¸å¿ƒç‰¹æ€§ï¼š</strong></p><ul><li>ğŸ¯ è‡ªåŠ¨è¯†åˆ«ä¸»ä½“</li><li>ğŸ–¼ï¸ é«˜ç²¾åº¦è¾¹ç¼˜å¤„ç†</li><li>ğŸ¨ æ”¯æŒèƒŒæ™¯æ›¿æ¢ï¼ˆçº¯è‰²/æ¸å˜/å›¾ç‰‡ï¼‰</li><li>ğŸ“ è¾¹ç¼˜ä¼˜åŒ–å’Œç¾½åŒ–</li></ul><p><strong>æŠ€æœ¯å®ç°ï¼š</strong></p><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// services.ts</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MattingService</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> BaseEditorService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    async</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> matting</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // è°ƒç”¨@lego/matting-service</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> result</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> legoMattingService.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">matting</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            url: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.imageUrl,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;auto&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è‡ªåŠ¨æŠ å›¾</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // å¤„ç†ç»“æœ</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.mattingResult </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> result;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // èƒŒæ™¯æ›¿æ¢</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    async</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> changeBackground</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">background</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IBackground</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (background.type </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;color&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            // çº¯è‰²èƒŒæ™¯</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">applyColorBackground</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(background.color);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (background.type </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;gradient&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            // æ¸å˜èƒŒæ™¯</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">applyGradientBackground</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(background.gradient);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (background.type </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;image&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            // å›¾ç‰‡èƒŒæ™¯</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">applyImageBackground</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(background.imageUrl);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><p><strong>åº”ç”¨åœºæ™¯ï¼š</strong></p><ul><li>ğŸ›ï¸ ç”µå•†ï¼šå•†å“å›¾èƒŒæ™¯å»é™¤</li><li>ğŸ“± ç¤¾äº¤ï¼šè¯ä»¶ç…§æ¢èƒŒæ™¯</li><li>ğŸ¨ è®¾è®¡ï¼šç´ ææå–</li></ul><p><strong>é›†æˆçš„æŠ€æœ¯ï¼š</strong></p><ul><li><code>@lego/matting-service</code>ï¼šæŠ å›¾æœåŠ¡åº“</li><li>SAMæ¨¡å‹ï¼šä¸»ä½“è¯†åˆ«</li><li>è¾¹ç¼˜ä¼˜åŒ–ç®—æ³•ï¼šæå‡æŠ å›¾è´¨é‡</li></ul><hr><h3 id="_3-2-æ™ºèƒ½æ¶ˆé™¤-magiceraser" tabindex="-1">3.2 æ™ºèƒ½æ¶ˆé™¤ï¼ˆMagicEraserï¼‰ <a class="header-anchor" href="#_3-2-æ™ºèƒ½æ¶ˆé™¤-magiceraser" aria-label="Permalink to &quot;3.2 æ™ºèƒ½æ¶ˆé™¤ï¼ˆMagicEraserï¼‰&quot;">â€‹</a></h3><p><strong>åŠŸèƒ½æè¿°ï¼š</strong> æ™ºèƒ½æ“¦é™¤å›¾åƒä¸­ä¸éœ€è¦çš„å¯¹è±¡</p><p><strong>æ ¸å¿ƒç‰¹æ€§ï¼š</strong></p><ul><li>ğŸ–±ï¸ ä¸‰ç§é€‰æ‹©æ¨¡å¼ï¼š <ul><li><strong>ç”»ç¬”æ¨¡å¼</strong>ï¼šæ‰‹åŠ¨æ¶‚æŠ¹é€‰æ‹©</li><li><strong>æ©¡çš®æ“¦æ¨¡å¼</strong>ï¼šæ“¦é™¤é€‰æ‹©åŒºåŸŸ</li><li><strong>æ™ºèƒ½ç‚¹å‡»</strong>ï¼šåŸºäºSAMçš„æ™ºèƒ½é€‰æ‹©</li></ul></li><li>ğŸ¯ AIæ™ºèƒ½å¡«å……</li><li>ğŸ”„ æ”¯æŒæ’¤é”€/é‡åš</li><li>ğŸ“ å¯é€‰æ–‡æœ¬æç¤ºè¯å¢å¼º</li></ul><p><strong>å·¥ä½œæ¨¡å¼ï¼š</strong></p><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">enum</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MaskType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    Paint</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;paint&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç”»ç¬”æ¨¡å¼</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    Erase</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;erase&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ©¡çš®æ“¦æ¨¡å¼</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    QuickSelect</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;quickSelect&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ™ºèƒ½ç‚¹å‡»ï¼ˆSAMï¼‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">enum</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ActionModeEnum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    Paint</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;paint&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç¬”åˆ·æ¨¡å¼ï¼šæ¶‚æŠ¹åŒºåŸŸ+æç¤ºè¯</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    Dialogue</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;dialogue&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å¯¹è¯æ¨¡å¼ï¼šç›´æ¥è¾“å…¥æç¤ºè¯</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><strong>æŠ€æœ¯å®ç°ï¼š</strong></p><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// SelectionCanvasï¼šæ™ºèƒ½é€‰åŒº</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SelectionCanvas</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> BaseCanvas</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // SAMæ™ºèƒ½é€‰æ‹©</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    drawHoverMask</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">x</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">y</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> layer</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> autoMaskModel.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pickLayer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(x, y);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // é«˜äº®æ˜¾ç¤º</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    async</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> toggleLayerMode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">x</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">y</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        autoMaskModel.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toggleLayerMode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(x, y);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> maskResult?.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getMask</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AUTO_MASK_COLOR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç”»ç¬”/æ©¡çš®æ“¦</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PaintCanvas</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> BaseCanvas</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    drawBrush</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">points</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Point</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[]) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // ä½¿ç”¨è´å¡å°”æ›²çº¿å¹³æ»‘è·¯å¾„</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> path</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createSmoothPathWithQuadratic</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(points);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ctx.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">stroke</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(path);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p><strong>åº”ç”¨åœºæ™¯ï¼š</strong></p><ul><li>ğŸ“¸ ä¿®å›¾ï¼šå»é™¤è·¯äººã€æ‚ç‰©</li><li>ğŸ¨ è®¾è®¡ï¼šæ¸…ç†ä¸éœ€è¦çš„å…ƒç´ </li><li>ğŸ“± ç¤¾äº¤ï¼šç¾åŒ–ç…§ç‰‡</li></ul><p><strong>æ–‡ä»¶ç»“æ„ï¼š</strong></p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>magic-eraser/</span></span>
<span class="line"><span>â”œâ”€â”€ services/</span></span>
<span class="line"><span>â”‚   â”œâ”€â”€ index.ts                    # ä¸»æœåŠ¡ï¼ˆ234è¡Œï¼‰</span></span>
<span class="line"><span>â”‚   â”œâ”€â”€ canvas/</span></span>
<span class="line"><span>â”‚   â”‚   â”œâ”€â”€ selection.ts            # SAMæ™ºèƒ½é€‰åŒºï¼ˆ339è¡Œï¼‰</span></span>
<span class="line"><span>â”‚   â”‚   â”œâ”€â”€ paint.ts                # ç”»ç¬”Canvasï¼ˆ188è¡Œï¼‰</span></span>
<span class="line"><span>â”‚   â”‚   â””â”€â”€ base.ts                 # åŸºç±»ï¼ˆ72è¡Œï¼‰</span></span>
<span class="line"><span>â”‚   â””â”€â”€ utils/</span></span>
<span class="line"><span>â”‚       â”œâ”€â”€ mask.ts                 # æè¾¹ç®—æ³•ï¼ˆ434è¡Œï¼‰</span></span>
<span class="line"><span>â”‚       â”œâ”€â”€ canvas.ts               # Canvaså·¥å…·</span></span>
<span class="line"><span>â”‚       â””â”€â”€ color.ts                # é¢œè‰²é…ç½®</span></span>
<span class="line"><span>â””â”€â”€ capability/</span></span>
<span class="line"><span>    â””â”€â”€ ai-in-paint.ts              # AIå¡«å……èƒ½åŠ›ï¼ˆ564è¡Œï¼‰</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><hr><h3 id="_3-3-aiæ‰©å›¾-outpaintexpand" tabindex="-1">3.3 AIæ‰©å›¾ï¼ˆOutPaintExpandï¼‰ <a class="header-anchor" href="#_3-3-aiæ‰©å›¾-outpaintexpand" aria-label="Permalink to &quot;3.3 AIæ‰©å›¾ï¼ˆOutPaintExpandï¼‰&quot;">â€‹</a></h3><p><strong>åŠŸèƒ½æè¿°ï¼š</strong> æ™ºèƒ½æ‰©å±•å›¾åƒè¾¹ç•Œï¼Œç”Ÿæˆè‡ªç„¶è¡”æ¥çš„å†…å®¹</p><p><strong>æ ¸å¿ƒç‰¹æ€§ï¼š</strong></p><ul><li>ğŸ“ å››å‘æ‰©å±•ï¼ˆä¸Šä¸‹å·¦å³ï¼‰</li><li>ğŸ¯ æ™ºèƒ½å†…å®¹ç”Ÿæˆ</li><li>ğŸ–¼ï¸ ä¿æŒåŸå›¾é£æ ¼</li><li>ğŸ“ å¯é€‰æç¤ºè¯å¼•å¯¼</li></ul><p><strong>æ‰©å±•æ¨¡å¼ï¼š</strong></p><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">enum</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ExpandDirection</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    TOP</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;top&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,        </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å‘ä¸Šæ‰©å±•</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    BOTTOM</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;bottom&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å‘ä¸‹æ‰©å±•</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    LEFT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;left&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å‘å·¦æ‰©å±•</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    RIGHT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;right&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å‘å³æ‰©å±•</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ‰©å±•å‚æ•°</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ExpandParams</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    direction</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ExpandDirection</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    expandSize</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ‰©å±•åƒç´ æ•°</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    prompt</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;         </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å¯é€‰æç¤ºè¯</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><strong>æŠ€æœ¯å®ç°ï¼š</strong></p><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> OutPaintExpandService</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> BaseEditorService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    async</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> expand</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">params</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ExpandParams</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // 1. è®¡ç®—æ‰©å±•åŒºåŸŸ</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> expandedCanvas</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createExpandedCanvas</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(params);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // 2. ç”Ÿæˆmaskï¼ˆæ ‡è®°æ‰©å±•åŒºåŸŸï¼‰</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> mask</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">generateExpandMask</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(params);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // 3. è°ƒç”¨AI Pipelineç”Ÿæˆå†…å®¹</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> result</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">executeAiPipeline</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            image: expandedCanvas,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            mask: mask,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            prompt: params.prompt,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> result;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p><strong>åº”ç”¨åœºæ™¯ï¼š</strong></p><ul><li>ğŸ“± é€‚é…ï¼šæ‰©å±•å›¾ç‰‡é€‚é…ä¸åŒæ¯”ä¾‹</li><li>ğŸ¨ åˆ›ä½œï¼šæ‹“å±•ç”»é¢è¾¹ç•Œ</li><li>ğŸ“¸ ä¿®å¤ï¼šè¡¥å…¨è¢«è£åˆ‡çš„å†…å®¹</li></ul><hr><h3 id="_3-4-æ¶‚æŠ¹æ›¿æ¢-aireplace" tabindex="-1">3.4 æ¶‚æŠ¹æ›¿æ¢ï¼ˆAiReplaceï¼‰ <a class="header-anchor" href="#_3-4-æ¶‚æŠ¹æ›¿æ¢-aireplace" aria-label="Permalink to &quot;3.4 æ¶‚æŠ¹æ›¿æ¢ï¼ˆAiReplaceï¼‰&quot;">â€‹</a></h3><p><strong>åŠŸèƒ½æè¿°ï¼š</strong> æ™ºèƒ½æ›¿æ¢å›¾åƒä¸­çš„æŒ‡å®šåŒºåŸŸ</p><p><strong>æ ¸å¿ƒç‰¹æ€§ï¼š</strong></p><ul><li>ğŸ–±ï¸ ä¸MagicEraserç›¸åŒçš„é€‰æ‹©æ¨¡å¼ï¼ˆç”»ç¬”/æ©¡çš®æ“¦/æ™ºèƒ½ç‚¹å‡»ï¼‰</li><li>ğŸ“ æ–‡æœ¬æè¿°ç›®æ ‡å†…å®¹</li><li>ğŸ¯ AIç”Ÿæˆæ›¿æ¢å†…å®¹</li><li>ğŸ”„ ä¿æŒå‘¨è¾¹ä¸€è‡´æ€§</li></ul><p><strong>å·¥ä½œæµç¨‹ï¼š</strong></p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>ç”¨æˆ·é€‰æ‹©åŒºåŸŸ</span></span>
<span class="line"><span>    â†“</span></span>
<span class="line"><span>è¾“å…¥æ›¿æ¢å†…å®¹æè¿°</span></span>
<span class="line"><span>    â†“</span></span>
<span class="line"><span>AIç†è§£æ„å›¾</span></span>
<span class="line"><span>    â†“</span></span>
<span class="line"><span>ç”Ÿæˆæ›¿æ¢å†…å®¹</span></span>
<span class="line"><span>    â†“</span></span>
<span class="line"><span>æ™ºèƒ½èåˆåˆ°åŸå›¾</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><strong>æŠ€æœ¯å®ç°ï¼š</strong></p><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> AiReplaceService</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> BaseEditorService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    async</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> replace</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">maskCanvas</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> HTMLCanvasElement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">prompt</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // 1. ä¸Šä¼ mask</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> maskUrl</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">uploadMask</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(maskCanvas);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // 2. è°ƒç”¨AIæ›¿æ¢</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> result</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> executeAiPipeline</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            url: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.originImageUrl,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            mask_url: maskUrl,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            prompt: prompt,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            project_type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;AI_INPAINT&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> result.url;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p><strong>åº”ç”¨åœºæ™¯ï¼š</strong></p><ul><li>ğŸ‘— æ—¶å°šï¼šæ›´æ¢æœè£…é¢œè‰²/æ ·å¼</li><li>ğŸ  è®¾è®¡ï¼šæ›¿æ¢å®¤å†…è£…é¥°</li><li>ğŸ“¸ ä¿®å›¾ï¼šæ›´æ¢èƒŒæ™¯å…ƒç´ </li></ul><hr><h3 id="_3-5-aiæ»¤é•œ-aifilter" tabindex="-1">3.5 AIæ»¤é•œï¼ˆAiFilterï¼‰ <a class="header-anchor" href="#_3-5-aiæ»¤é•œ-aifilter" aria-label="Permalink to &quot;3.5 AIæ»¤é•œï¼ˆAiFilterï¼‰&quot;">â€‹</a></h3><p><strong>åŠŸèƒ½æè¿°ï¼š</strong> å°†ç…§ç‰‡è½¬æ¢ä¸ºå„ç§è‰ºæœ¯é£æ ¼</p><p><strong>æ”¯æŒçš„é£æ ¼ï¼š</strong></p><ul><li>ğŸ¨ <strong>è‰ºæœ¯é£æ ¼</strong>ï¼šç´ æã€æ°´å½©ã€æ²¹ç”»ã€æ¼«ç”»</li><li>ğŸ“¸ <strong>æ‘„å½±é£æ ¼</strong>ï¼šé»‘ç™½ã€å¤å¤ã€ç”µå½±æ„Ÿ</li><li>ğŸŒŸ <strong>ç‰¹æ•ˆé£æ ¼</strong>ï¼šèµ›åšæœ‹å…‹ã€æ¢¦å¹»ã€ç§‘æŠ€æ„Ÿ</li><li>ğŸ­ <strong>åŠ¨æ¼«é£æ ¼</strong>ï¼šäºŒæ¬¡å…ƒã€åŠ¨ç”»ç‰‡</li></ul><p><strong>æŠ€æœ¯å®ç°ï¼š</strong></p><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IFilterScene</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    scene_code</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åœºæ™¯ç¼–ç </span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    scene_name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åœºæ™¯åç§°</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    category</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åˆ†ç±»</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    cover_url</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;     </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// é¢„è§ˆå›¾</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    model_version</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ¨¡å‹ç‰ˆæœ¬</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> AiFilterService</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> BaseEditorService</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> implements</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IAiPipelineService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    async</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> applyFilter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">sceneCode</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> result</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> executeAiPipeline</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            url: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.imageUrl,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            scene_code: sceneCode,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            project_type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;REDRAW&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> result.url;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p><strong>ç‰¹æ®Šé…ç½®ï¼š</strong></p><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ”¯æŒè§£é”æ•°é‡é™åˆ¶</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tool_config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    ai_filter_limit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,           </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å…è´¹ç”¨æˆ·é™åˆ¶3ä¸ª</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    ai_filter_category</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;sketch&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// é»˜è®¤åˆ†ç±»</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    ai_filter_id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;sketch_001&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,   </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// é»˜è®¤åœºæ™¯</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>åº”ç”¨åœºæ™¯ï¼š</strong></p><ul><li>ğŸ“± ç¤¾äº¤ï¼šå¿«é€Ÿç¾åŒ–ç…§ç‰‡</li><li>ğŸ¨ è®¾è®¡ï¼šç”Ÿæˆè‰ºæœ¯æ•ˆæœ</li><li>ğŸ“¸ æ‘„å½±ï¼šé£æ ¼åŒ–å¤„ç†</li></ul><hr><h3 id="_3-6-aiå˜æ¸…æ™°-superresolution" tabindex="-1">3.6 AIå˜æ¸…æ™°ï¼ˆSuperResolutionï¼‰ <a class="header-anchor" href="#_3-6-aiå˜æ¸…æ™°-superresolution" aria-label="Permalink to &quot;3.6 AIå˜æ¸…æ™°ï¼ˆSuperResolutionï¼‰&quot;">â€‹</a></h3><p><strong>åŠŸèƒ½æè¿°ï¼š</strong> ä½¿ç”¨AIæŠ€æœ¯æå‡å›¾åƒåˆ†è¾¨ç‡å’Œæ¸…æ™°åº¦</p><p><strong>æ ¸å¿ƒç‰¹æ€§ï¼š</strong></p><ul><li>ğŸ“ˆ æ”¯æŒ2x/4xæ”¾å¤§</li><li>ğŸ¯ æ™ºèƒ½é™å™ª</li><li>ğŸ–¼ï¸ ç»†èŠ‚å¢å¼º</li><li>ğŸ“ è¾¹ç¼˜é”åŒ–</li></ul><p><strong>æ”¾å¤§æ¨¡å¼ï¼š</strong></p><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">enum</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> UpscaleMode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    X2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;2x&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 2å€æ”¾å¤§</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    X4</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;4x&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 4å€æ”¾å¤§</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ”¾å¤§å‚æ•°</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> UpscaleParams</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    mode</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> UpscaleMode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    denoise</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ˜¯å¦é™å™ª</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    sharpen</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;       </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// é”åŒ–å¼ºåº¦ 0-100</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><strong>æŠ€æœ¯å®ç°ï¼š</strong></p><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SuperResolutionService</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> BaseEditorService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    async</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> upscale</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">params</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> UpscaleParams</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> result</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> executeAiPipeline</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            url: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.imageUrl,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            scale: params.mode </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> UpscaleMode.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">X2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ?</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> :</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            denoise: params.denoise,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            sharpen: params.sharpen,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            project_type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;SUPER_RESOLUTION&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> result.url;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><strong>åº”ç”¨åœºæ™¯ï¼š</strong></p><ul><li>ğŸ“¸ è€ç…§ç‰‡ä¿®å¤</li><li>ğŸ–¼ï¸ ä½åˆ†è¾¨ç‡å›¾ç‰‡å¤„ç†</li><li>ğŸ¨ æ‰“å°ç´ æå‡†å¤‡</li></ul><hr><h2 id="å››ã€aiè§†é¢‘å·¥å…·" tabindex="-1">å››ã€AIè§†é¢‘å·¥å…· <a class="header-anchor" href="#å››ã€aiè§†é¢‘å·¥å…·" aria-label="Permalink to &quot;å››ã€AIè§†é¢‘å·¥å…·&quot;">â€‹</a></h2><h3 id="_4-1-è§†é¢‘å˜æ¸…æ™°-aivideoenhance" tabindex="-1">4.1 è§†é¢‘å˜æ¸…æ™°ï¼ˆAiVideoEnhanceï¼‰ <a class="header-anchor" href="#_4-1-è§†é¢‘å˜æ¸…æ™°-aivideoenhance" aria-label="Permalink to &quot;4.1 è§†é¢‘å˜æ¸…æ™°ï¼ˆAiVideoEnhanceï¼‰&quot;">â€‹</a></h3><p><strong>åŠŸèƒ½æè¿°ï¼š</strong> AIè§†é¢‘å¢å¼ºå’Œè¶…åˆ†è¾¨ç‡</p><p><strong>æ”¯æŒçš„å¢å¼ºæ¨¡å¼ï¼š</strong></p><h4 id="æ¨¡å¼1-æ ‡æ¸…è½¬é«˜æ¸…-sd-to-hd" tabindex="-1">æ¨¡å¼1ï¼šæ ‡æ¸…è½¬é«˜æ¸…ï¼ˆSD to HDï¼‰ <a class="header-anchor" href="#æ¨¡å¼1-æ ‡æ¸…è½¬é«˜æ¸…-sd-to-hd" aria-label="Permalink to &quot;æ¨¡å¼1ï¼šæ ‡æ¸…è½¬é«˜æ¸…ï¼ˆSD to HDï¼‰&quot;">â€‹</a></h4><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    mode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;sd-to-hd&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    input</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;480p/540p&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    output</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;720p/1080p&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    useCase</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;è€æ—§è§†é¢‘ã€ä½åˆ†è¾¨ç‡æ‹æ‘„&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="æ¨¡å¼2-é«˜æ¸…è½¬4k-hd-to-4k" tabindex="-1">æ¨¡å¼2ï¼šé«˜æ¸…è½¬4Kï¼ˆHD to 4Kï¼‰ <a class="header-anchor" href="#æ¨¡å¼2-é«˜æ¸…è½¬4k-hd-to-4k" aria-label="Permalink to &quot;æ¨¡å¼2ï¼šé«˜æ¸…è½¬4Kï¼ˆHD to 4Kï¼‰&quot;">â€‹</a></h4><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    mode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;hd-to-4k&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    input</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;1080p&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    output</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;4K (3840x2160)&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    useCase</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ä¸“ä¸šçº§è§†é¢‘åˆ¶ä½œ&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="æ¨¡å¼3-å¸§ç‡æå‡-fps-boost" tabindex="-1">æ¨¡å¼3ï¼šå¸§ç‡æå‡ï¼ˆFPS Boostï¼‰ <a class="header-anchor" href="#æ¨¡å¼3-å¸§ç‡æå‡-fps-boost" aria-label="Permalink to &quot;æ¨¡å¼3ï¼šå¸§ç‡æå‡ï¼ˆFPS Boostï¼‰&quot;">â€‹</a></h4><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    mode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;fps-boost&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    input</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;24/30 FPS&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    output</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;60 FPS&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    useCase</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;è®©è§†é¢‘æ›´æµç•…&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>æŠ€æœ¯å®ç°ï¼š</strong></p><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">enum</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> VideoEnhanceMode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    SD_TO_HD</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;sd-to-hd&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    HD_TO_4K</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;hd-to-4k&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    FPS_BOOST</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;fps-boost&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> VideoEnhanceParams</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    mode</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> VideoEnhanceMode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    targetResolution</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;720p&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;1080p&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;4k&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    targetFrameRate</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 24</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 30</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 60</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    modelScene</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// AIæ¨¡å‹åœºæ™¯</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> VideoEnhanceService</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> BaseEditorService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    async</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> enhance</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">params</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> VideoEnhanceParams</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // 1. éªŒè¯å‚æ•°</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">validateParams</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(params);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // 2. ä¸Šä¼ è§†é¢‘</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> videoUrl</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">uploadVideo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // 3. æ‰§è¡Œå¢å¼º</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> result</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> executeAiPipeline</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            url: videoUrl,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            mode: params.mode,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            resolution: params.targetResolution,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            frame_rate: params.targetFrameRate,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            scene_code: params.modelScene,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> result;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><p><strong>é™åˆ¶æ¡ä»¶ï¼š</strong></p><ul><li>ğŸ“¦ æ–‡ä»¶æ ¼å¼ï¼š.mp4, .mov, .m4v, .3gp, .avi</li><li>ğŸ“ æ–‡ä»¶å¤§å°ï¼šæœ€å¤§500MB</li><li>â±ï¸ è§†é¢‘æ—¶é•¿ï¼šæœ€é•¿60ç§’</li><li>âš¡ å¤„ç†æ—¶é—´ï¼šå¹³å‡2-3åˆ†é’Ÿ</li></ul><p><strong>æ–‡ä»¶ç»“æ„ï¼š</strong></p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>ai-video-enhance/</span></span>
<span class="line"><span>â”œâ”€â”€ README.md              # è¯¦ç»†æ–‡æ¡£ï¼ˆ238è¡Œï¼‰</span></span>
<span class="line"><span>â”œâ”€â”€ services/</span></span>
<span class="line"><span>â”‚   â”œâ”€â”€ index.ts           # æœåŠ¡å®ç°</span></span>
<span class="line"><span>â”‚   â””â”€â”€ types.ts           # ç±»å‹å®šä¹‰</span></span>
<span class="line"><span>â””â”€â”€ components/</span></span>
<span class="line"><span>    â”œâ”€â”€ video-preview.vue  # è§†é¢‘é¢„è§ˆ</span></span>
<span class="line"><span>    â”œâ”€â”€ mode-selector.vue  # æ¨¡å¼é€‰æ‹©</span></span>
<span class="line"><span>    â”œâ”€â”€ model-selector.vue # æ¨¡å‹é€‰æ‹©</span></span>
<span class="line"><span>    â””â”€â”€ params-config.vue  # å‚æ•°é…ç½®</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><hr><h3 id="_4-2-aiåšåŒæ¬¾è§†é¢‘-aivideoinspiration" tabindex="-1">4.2 AIåšåŒæ¬¾è§†é¢‘ï¼ˆAiVideoInspirationï¼‰ <a class="header-anchor" href="#_4-2-aiåšåŒæ¬¾è§†é¢‘-aivideoinspiration" aria-label="Permalink to &quot;4.2 AIåšåŒæ¬¾è§†é¢‘ï¼ˆAiVideoInspirationï¼‰&quot;">â€‹</a></h3><p><strong>åŠŸèƒ½æè¿°ï¼š</strong> åŸºäºæ¨¡æ¿å¿«é€Ÿç”ŸæˆåŒæ¬¾è§†é¢‘</p><p><strong>æ ¸å¿ƒç‰¹æ€§ï¼š</strong></p><ul><li>ğŸ“‹ æ¨¡æ¿åº“æ”¯æŒ</li><li>ğŸ”„ ç´ æè‡ªåŠ¨æ›¿æ¢</li><li>ğŸ¬ ä¸€é”®ç”Ÿæˆ</li><li>ğŸ“± ç§»åŠ¨ç«¯ä¼˜åŒ–</li></ul><p><strong>æŠ€æœ¯å®ç°ï¼š</strong></p><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> AiVideoInspirationService</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> BaseEditorService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    async</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> generate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">templateId</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">materials</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Material</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[]) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // 1. åŠ è½½æ¨¡æ¿</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> template</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">loadTemplate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(templateId);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // 2. æ›¿æ¢ç´ æ</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> processedMaterials</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">replaceMaterials</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            template,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            materials</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        );</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // 3. ç”Ÿæˆè§†é¢‘</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> result</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> executeAiPipeline</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            template_id: templateId,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            materials: processedMaterials,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            project_type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;VIDEO_INSPIRATION&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> result;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><hr><h2 id="äº”ã€åŸºç¡€ç¼–è¾‘å·¥å…·" tabindex="-1">äº”ã€åŸºç¡€ç¼–è¾‘å·¥å…· <a class="header-anchor" href="#äº”ã€åŸºç¡€ç¼–è¾‘å·¥å…·" aria-label="Permalink to &quot;äº”ã€åŸºç¡€ç¼–è¾‘å·¥å…·&quot;">â€‹</a></h2><h3 id="_5-1-è£å‰ª-crop" tabindex="-1">5.1 è£å‰ªï¼ˆCropï¼‰ <a class="header-anchor" href="#_5-1-è£å‰ª-crop" aria-label="Permalink to &quot;5.1 è£å‰ªï¼ˆCropï¼‰&quot;">â€‹</a></h3><p><strong>åŠŸèƒ½æè¿°ï¼š</strong> å›¾åƒè£å‰ªå’Œå°ºå¯¸è°ƒæ•´</p><p><strong>æ ¸å¿ƒç‰¹æ€§ï¼š</strong></p><ul><li>âœ‚ï¸ è‡ªç”±è£å‰ª</li><li>ğŸ“ é¢„è®¾æ¯”ä¾‹ï¼ˆ1:1, 4:3, 16:9ç­‰ï¼‰</li><li>ğŸ”„ æ—‹è½¬å’Œç¿»è½¬</li><li>ğŸ“ ç²¾ç¡®åƒç´ æ§åˆ¶</li></ul><hr><h3 id="_5-2-å°ºå¯¸è°ƒæ•´-resize" tabindex="-1">5.2 å°ºå¯¸è°ƒæ•´ï¼ˆResizeï¼‰ <a class="header-anchor" href="#_5-2-å°ºå¯¸è°ƒæ•´-resize" aria-label="Permalink to &quot;5.2 å°ºå¯¸è°ƒæ•´ï¼ˆResizeï¼‰&quot;">â€‹</a></h3><p><strong>åŠŸèƒ½æè¿°ï¼š</strong> è°ƒæ•´å›¾åƒå°ºå¯¸</p><p><strong>æ ¸å¿ƒç‰¹æ€§ï¼š</strong></p><ul><li>ğŸ“ æŒ‰æ¯”ä¾‹ç¼©æ”¾</li><li>ğŸ“ è‡ªå®šä¹‰å°ºå¯¸</li><li>ğŸ¯ æ™ºèƒ½ç¼©æ”¾ï¼ˆä¿æŒå…³é”®å†…å®¹ï¼‰</li><li>ğŸ“¦ æ‰¹é‡å¤„ç†</li></ul><hr><h3 id="_5-3-æ ¼å¼è½¬æ¢-convert" tabindex="-1">5.3 æ ¼å¼è½¬æ¢ï¼ˆConvertï¼‰ <a class="header-anchor" href="#_5-3-æ ¼å¼è½¬æ¢-convert" aria-label="Permalink to &quot;5.3 æ ¼å¼è½¬æ¢ï¼ˆConvertï¼‰&quot;">â€‹</a></h3><p><strong>åŠŸèƒ½æè¿°ï¼š</strong> å›¾åƒæ ¼å¼è½¬æ¢</p><p><strong>æ”¯æŒæ ¼å¼ï¼š</strong></p><ul><li>ğŸ“¥ è¾“å…¥ï¼šPNG, WebP, BMP, GIF, JPEGç­‰</li><li>ğŸ“¤ è¾“å‡ºï¼šä¸»è¦ä¸ºJPG</li><li>ğŸ¨ è´¨é‡æ§åˆ¶</li><li>ğŸ“¦ æ‰¹é‡è½¬æ¢</li></ul><hr><h3 id="_5-4-å›¾ç‰‡å‹ç¼©-compress" tabindex="-1">5.4 å›¾ç‰‡å‹ç¼©ï¼ˆCompressï¼‰ <a class="header-anchor" href="#_5-4-å›¾ç‰‡å‹ç¼©-compress" aria-label="Permalink to &quot;5.4 å›¾ç‰‡å‹ç¼©ï¼ˆCompressï¼‰&quot;">â€‹</a></h3><p><strong>åŠŸèƒ½æè¿°ï¼š</strong> å›¾åƒå‹ç¼©ä¼˜åŒ–</p><p><strong>æ ¸å¿ƒç‰¹æ€§ï¼š</strong></p><ul><li>ğŸ“‰ æ™ºèƒ½å‹ç¼©</li><li>ğŸšï¸ è´¨é‡å¯è°ƒï¼ˆé«˜/ä¸­/ä½ï¼‰</li><li>ğŸ“¦ æ”¯æŒæ‰¹é‡</li><li>ğŸ“Š å‹ç¼©ç‡æ˜¾ç¤º</li></ul><p><strong>æŠ€æœ¯å®ç°ï¼š</strong></p><p>ä½¿ç”¨<code>squoosh-encoder</code>åº“è¿›è¡Œå‹ç¼©ï¼š</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>compress/services/</span></span>
<span class="line"><span>â”œâ”€â”€ index.ts           # ä¸»æœåŠ¡</span></span>
<span class="line"><span>â”œâ”€â”€ mozjpeg_enc.js     # MozJPEGç¼–ç å™¨</span></span>
<span class="line"><span>â”œâ”€â”€ mozjpeg_enc.cpp    # C++å®ç°</span></span>
<span class="line"><span>â””â”€â”€ mozjpeg_enc.wasm   # WASMæ¨¡å—</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><hr><h3 id="_5-5-æ¢è‰²-changecolor" tabindex="-1">5.5 æ¢è‰²ï¼ˆChangeColorï¼‰ <a class="header-anchor" href="#_5-5-æ¢è‰²-changecolor" aria-label="Permalink to &quot;5.5 æ¢è‰²ï¼ˆChangeColorï¼‰&quot;">â€‹</a></h3><p><strong>åŠŸèƒ½æè¿°ï¼š</strong> æ™ºèƒ½æ¢è‰²å·¥å…·</p><p><strong>æ ¸å¿ƒç‰¹æ€§ï¼š</strong></p><ul><li>ğŸ¨ æ™ºèƒ½è¯†åˆ«é¢œè‰²åŒºåŸŸï¼ˆåŸºäºSAMï¼‰</li><li>ğŸ–±ï¸ ç‚¹å‡»é€‰æ‹©é¢œè‰²</li><li>ğŸ¯ ç²¾ç¡®æ›¿æ¢</li><li>ğŸ“¦ æ”¯æŒå¤šåŒºåŸŸ</li></ul><p><strong>æŠ€æœ¯å®ç°ï¼š</strong></p><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä½¿ç”¨ä¸MagicEraserç›¸åŒçš„SelectionCanvas</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ChangeColorService</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> BaseEditorService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    selectionCanvas</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SelectionCanvas</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    async</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> changeColor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">selectedRegions</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Region</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[], </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">newColor</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // é€‰æ‹©åŒºåŸŸåæ›¿æ¢é¢œè‰²</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> region</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> selectedRegions) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            await</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">replaceColor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(region, newColor);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><hr><h3 id="_5-6-æ¨¡æ¿å·¥å…·-template" tabindex="-1">5.6 æ¨¡æ¿å·¥å…·ï¼ˆTemplateï¼‰ <a class="header-anchor" href="#_5-6-æ¨¡æ¿å·¥å…·-template" aria-label="Permalink to &quot;5.6 æ¨¡æ¿å·¥å…·ï¼ˆTemplateï¼‰&quot;">â€‹</a></h3><p><strong>åŠŸèƒ½æè¿°ï¼š</strong> åŸºäºæ¨¡æ¿ç”Ÿæˆè®¾è®¡</p><p><strong>æ ¸å¿ƒç‰¹æ€§ï¼š</strong></p><ul><li>ğŸ“‹ ä¸°å¯Œçš„æ¨¡æ¿åº“</li><li>ğŸ”„ ç´ ææ›¿æ¢</li><li>ğŸ¨ æ ·å¼å®šåˆ¶</li><li>ğŸ“± å¤šå°ºå¯¸å¯¼å‡º</li></ul><hr><h3 id="_5-7-åšåŒæ¬¾-inspiration" tabindex="-1">5.7 åšåŒæ¬¾ï¼ˆInspirationï¼‰ <a class="header-anchor" href="#_5-7-åšåŒæ¬¾-inspiration" aria-label="Permalink to &quot;5.7 åšåŒæ¬¾ï¼ˆInspirationï¼‰&quot;">â€‹</a></h3><p><strong>åŠŸèƒ½æè¿°ï¼š</strong> è½åœ°é¡µæ¨¡å—ï¼Œå¿«é€Ÿç”ŸæˆåŒæ¬¾è®¾è®¡</p><p><strong>æ ¸å¿ƒç‰¹æ€§ï¼š</strong></p><ul><li>ğŸ¯ ä¸€é”®åŒæ¬¾</li><li>ğŸ”„ è‡ªåŠ¨é€‚é…</li><li>ğŸ“ å°ºå¯¸è°ƒæ•´</li><li>ğŸ¨ é£æ ¼ä¿æŒ</li></ul><hr><h2 id="å…­ã€æŠ€æœ¯æ¶æ„" tabindex="-1">å…­ã€æŠ€æœ¯æ¶æ„ <a class="header-anchor" href="#å…­ã€æŠ€æœ¯æ¶æ„" aria-label="Permalink to &quot;å…­ã€æŠ€æœ¯æ¶æ„&quot;">â€‹</a></h2><h3 id="_6-1-æœåŠ¡åŸºç±»æ¶æ„" tabindex="-1">6.1 æœåŠ¡åŸºç±»æ¶æ„ <a class="header-anchor" href="#_6-1-æœåŠ¡åŸºç±»æ¶æ„" aria-label="Permalink to &quot;6.1 æœåŠ¡åŸºç±»æ¶æ„&quot;">â€‹</a></h3><p>æ‰€æœ‰å·¥å…·æœåŠ¡ç»§æ‰¿è‡ª<code>BaseEditorService</code>ï¼š</p><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// base/interface.ts</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> abstract</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> BaseEditorService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    S</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    C</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IBaseEditorServiceConfig</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IBaseEditorServiceConfig</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    state</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> S</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    config</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> C</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    tracker</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> LifecycleTracker</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ç”Ÿå‘½å‘¨æœŸ</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    abstract</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    completeState</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    errorState</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">error</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // å•†ä¸šåŒ–</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    openBuyVipModal</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    checkRights</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ä¸‹è½½å’Œå¯¼å‡º</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    download</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">quality</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;low&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;ultra&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    exportResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Blob</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h3 id="_6-2-ai-pipelineæ¥å£" tabindex="-1">6.2 AI Pipelineæ¥å£ <a class="header-anchor" href="#_6-2-ai-pipelineæ¥å£" aria-label="Permalink to &quot;6.2 AI Pipelineæ¥å£&quot;">â€‹</a></h3><p>AIå·¥å…·é¢å¤–å®ç°<code>IAiPipelineService</code>æ¥å£ï¼š</p><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IAiPipelineService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    aigcType</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> AigcType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // æ ¸å¿ƒæ–¹æ³•</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    start</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        interceptParams</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">params</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IPipelineParams</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IPipelineParams</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    )</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // åœºæ™¯ç®¡ç†</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    loadScenes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IScene</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[]&gt;;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    switchScene</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">sceneCode</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // åœæ­¢ç”Ÿæˆ</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    stopGeneration</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="_6-3-å·¥å…·é…ç½®æ¥å£" tabindex="-1">6.3 å·¥å…·é…ç½®æ¥å£ <a class="header-anchor" href="#_6-3-å·¥å…·é…ç½®æ¥å£" aria-label="Permalink to &quot;6.3 å·¥å…·é…ç½®æ¥å£&quot;">â€‹</a></h3><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IToolConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // AIæ»¤é•œé…ç½®</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    ai_filter_limit</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    ai_filter_category</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    ai_filter_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // AIæ›¿æ¢é…ç½®</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    ai_replace_pre_word</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    ai_replace_prompt_disabled</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // æ™ºèƒ½æ¶ˆé™¤é…ç½®</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    magic_eraser</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">        paint_mode_code</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // é€šç”¨é…ç½®</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    filter_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [{ </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }];</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    collection_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    tool_name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    title</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    background_color</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h3 id="_6-4-æ–‡ä»¶ç»“æ„è§„èŒƒ" tabindex="-1">6.4 æ–‡ä»¶ç»“æ„è§„èŒƒ <a class="header-anchor" href="#_6-4-æ–‡ä»¶ç»“æ„è§„èŒƒ" aria-label="Permalink to &quot;6.4 æ–‡ä»¶ç»“æ„è§„èŒƒ&quot;">â€‹</a></h3><p>æ ‡å‡†çš„å·¥å…·æ–‡ä»¶ç»“æ„ï¼š</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>{tool-name}/</span></span>
<span class="line"><span>â”œâ”€â”€ index.ts                # å¯¼å‡º</span></span>
<span class="line"><span>â”œâ”€â”€ index.vue               # å…¥å£ç»„ä»¶</span></span>
<span class="line"><span>â”œâ”€â”€ editor.vue              # ç¼–è¾‘å™¨UI</span></span>
<span class="line"><span>â”œâ”€â”€ services.ts æˆ– services/  # æœåŠ¡å®ç°</span></span>
<span class="line"><span>â”‚   â”œâ”€â”€ index.ts            # ä¸»æœåŠ¡ç±»</span></span>
<span class="line"><span>â”‚   â””â”€â”€ types.ts            # ç±»å‹å®šä¹‰</span></span>
<span class="line"><span>â”œâ”€â”€ components/             # UIç»„ä»¶</span></span>
<span class="line"><span>â”‚   â”œâ”€â”€ preview.vue         # é¢„è§ˆç»„ä»¶</span></span>
<span class="line"><span>â”‚   â”œâ”€â”€ params.vue          # å‚æ•°é…ç½®</span></span>
<span class="line"><span>â”‚   â””â”€â”€ ...</span></span>
<span class="line"><span>â””â”€â”€ utils/                  # å·¥å…·å‡½æ•°ï¼ˆå¯é€‰ï¼‰</span></span>
<span class="line"><span>    â”œâ”€â”€ canvas.ts</span></span>
<span class="line"><span>    â””â”€â”€ ...</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><hr><h2 id="ä¸ƒã€å•†ä¸šåŒ–é…ç½®" tabindex="-1">ä¸ƒã€å•†ä¸šåŒ–é…ç½® <a class="header-anchor" href="#ä¸ƒã€å•†ä¸šåŒ–é…ç½®" aria-label="Permalink to &quot;ä¸ƒã€å•†ä¸šåŒ–é…ç½®&quot;">â€‹</a></h2><h3 id="_7-1-å•†ä¸šåŒ–å·¥å…·åˆ—è¡¨" tabindex="-1">7.1 å•†ä¸šåŒ–å·¥å…·åˆ—è¡¨ <a class="header-anchor" href="#_7-1-å•†ä¸šåŒ–å·¥å…·åˆ—è¡¨" aria-label="Permalink to &quot;7.1 å•†ä¸šåŒ–å·¥å…·åˆ—è¡¨&quot;">â€‹</a></h3><p><strong>éœ€è¦ä»˜è´¹çš„AIå·¥å…·ï¼ˆ12ä¸ªï¼‰ï¼š</strong></p><table tabindex="0"><thead><tr><th>å·¥å…·</th><th>å•†ä¸šåŒ–ç±»å‹</th><th>æ¶ˆè€—é«˜æ–¯å¸</th><th>VIPæŠ˜æ‰£</th><th>æ°´å°</th></tr></thead><tbody><tr><td>AIç»˜å›¾</td><td>generate</td><td>âœ…</td><td>âœ…</td><td>âœ…</td></tr><tr><td>AIç»˜å›¾é€šç”¨</td><td>generate</td><td>âœ…</td><td>âœ…</td><td>âœ…</td></tr><tr><td>AIèƒŒæ™¯</td><td>generate</td><td>âœ…</td><td>âœ…</td><td>âœ…</td></tr><tr><td>AIè§†é¢‘</td><td>generate</td><td>âœ…</td><td>âœ…</td><td>âœ…</td></tr><tr><td>æŠ å›¾</td><td>generate</td><td>âœ…</td><td>âœ…</td><td>âœ…</td></tr><tr><td>æ™ºèƒ½æ¶ˆé™¤</td><td>generate</td><td>âœ…</td><td>âœ…</td><td>âœ…</td></tr><tr><td>AIæ‰©å›¾</td><td>generate</td><td>âœ…</td><td>âœ…</td><td>âœ…</td></tr><tr><td>æ¶‚æŠ¹æ›¿æ¢</td><td>generate</td><td>âœ…</td><td>âœ…</td><td>âœ…</td></tr><tr><td>AIæ»¤é•œ</td><td>generate</td><td>âœ…</td><td>âœ…</td><td>âœ…</td></tr><tr><td>AIå˜æ¸…æ™°</td><td>generate</td><td>âœ…</td><td>âœ…</td><td>âœ…</td></tr><tr><td>AIè§†é¢‘ç”Ÿæˆ</td><td>generate</td><td>âœ…</td><td>âœ…</td><td>âœ…</td></tr><tr><td>è§†é¢‘å˜æ¸…æ™°</td><td>generate</td><td>âœ…</td><td>âœ…</td><td>âœ…</td></tr></tbody></table><p><strong>å…è´¹å·¥å…·ï¼ˆ7ä¸ªï¼‰ï¼š</strong></p><table tabindex="0"><thead><tr><th>å·¥å…·</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>è£å‰ª</td><td>å®Œå…¨å…è´¹</td></tr><tr><td>å°ºå¯¸è°ƒæ•´</td><td>å®Œå…¨å…è´¹</td></tr><tr><td>æ ¼å¼è½¬æ¢</td><td>å®Œå…¨å…è´¹</td></tr><tr><td>å›¾ç‰‡å‹ç¼©</td><td>å®Œå…¨å…è´¹</td></tr><tr><td>æ¢è‰²</td><td>å®Œå…¨å…è´¹</td></tr><tr><td>æ¨¡æ¿</td><td>éƒ¨åˆ†æ¨¡æ¿å…è´¹</td></tr><tr><td>åšåŒæ¬¾</td><td>éƒ¨åˆ†å…è´¹</td></tr></tbody></table><h3 id="_7-2-å•†ä¸šåŒ–ç±»å‹" tabindex="-1">7.2 å•†ä¸šåŒ–ç±»å‹ <a class="header-anchor" href="#_7-2-å•†ä¸šåŒ–ç±»å‹" aria-label="Permalink to &quot;7.2 å•†ä¸šåŒ–ç±»å‹&quot;">â€‹</a></h3><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> enum</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> BusinessType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    /** ç”Ÿæˆç±» - æ¶ˆè€—é«˜æ–¯å¸ */</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    generate</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;generate&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    /** ä¸‹è½½ç±» - éœ€è¦VIP */</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    download</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;download&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    /** æ— å•†ä¸šåŒ– */</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    none</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;none&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="_7-3-æƒç›Šé…ç½®" tabindex="-1">7.3 æƒç›Šé…ç½® <a class="header-anchor" href="#_7-3-æƒç›Šé…ç½®" aria-label="Permalink to &quot;7.3 æƒç›Šé…ç½®&quot;">â€‹</a></h3><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// business/const.ts</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> compareFeatures</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> CompareFeature</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        text: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Generative AI Tools&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        children: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                text: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Background removal&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                description: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Remove background from images with high precision&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                free: { enable: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, limit: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;3/day&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, watermark: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                pro: { enable: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, limit: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;unlimited&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, watermark: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                text: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;AI image enhancer&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                description: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Enhance image clarity and remove noise&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                free: { enable: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, limit: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;3/day&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, watermark: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                pro: { enable: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, limit: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;unlimited&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, watermark: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            },</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            // ... å…¶ä»–å·¥å…·</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h3 id="_7-4-è´¹ç”¨è®¡ç®—" tabindex="-1">7.4 è´¹ç”¨è®¡ç®— <a class="header-anchor" href="#_7-4-è´¹ç”¨è®¡ç®—" aria-label="Permalink to &quot;7.4 è´¹ç”¨è®¡ç®—&quot;">â€‹</a></h3><p>AIå·¥å…·çš„è´¹ç”¨ç”±åœºæ™¯é…ç½®å†³å®šï¼š</p><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IScene</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    scene_code</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    scene_name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    fee_type</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;              </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 1=å›ºå®šè´¹ç”¨, 2=æŒ‰æ¬¡è®¡è´¹</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    fee_point_rights</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ¶ˆè€—çš„é«˜æ–¯å¸æ•°é‡</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    vip_discount</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;         </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// VIPæŠ˜æ‰£ï¼ˆ0-1ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç¤ºä¾‹</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    scene_code</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ai_background_001&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    scene_name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;AIèƒŒæ™¯-å•†å“æ‘„å½±&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    fee_type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    fee_point_rights</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,           </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ¶ˆè€—5ä¸ªé«˜æ–¯å¸</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    vip_discount</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,             </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// VIPäº«5æŠ˜</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><hr><h2 id="å…«ã€å·¥å…·å›¾æ ‡é…ç½®" tabindex="-1">å…«ã€å·¥å…·å›¾æ ‡é…ç½® <a class="header-anchor" href="#å…«ã€å·¥å…·å›¾æ ‡é…ç½®" aria-label="Permalink to &quot;å…«ã€å·¥å…·å›¾æ ‡é…ç½®&quot;">â€‹</a></h2><h3 id="_8-1-å›¾æ ‡æ˜ å°„è¡¨" tabindex="-1">8.1 å›¾æ ‡æ˜ å°„è¡¨ <a class="header-anchor" href="#_8-1-å›¾æ ‡æ˜ å°„è¡¨" aria-label="Permalink to &quot;8.1 å›¾æ ‡æ˜ å°„è¡¨&quot;">â€‹</a></h3><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// const/icon-config.ts</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> ICON_MAP</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Partial</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Record</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IconMapKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IconConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // AIå·¥å…·</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    [ToolType.Matting]: { </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        default: IconCutout, </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        checked: IconCutoutFilled </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    [ToolType.AiBackground]: { </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        default: IconBgAi, </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        checked: IconBackgroundaiFilled </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    [ToolType.AiFilter]: { </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        default: IconRedraw, </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        checked: IconRedrawFilled </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    [ToolType.OutPaintExpand]: { </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        default: IconImgExpand, </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        checked: IconImgExpandFilled </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    [ToolType.MagicEraser]: { </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        default: IconAiEraser, </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        checked: IconAiEraserFilled </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    [ToolType.AiReplace]: { </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        default: IconDrawreplacement, </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        checked: IconDrawreplacementFilled </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    [ToolType.SuperResolution]: { </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        default: IconUpscaler, </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        checked: IconUpscalerFilled </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    [ToolType.AiDraw]: { </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        default: IconAiDraw, </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        checked: IconAiDrawFilled </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    [ToolType.AiDrawGeneral]: { </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        default: IconAiDraw, </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        checked: IconAiDrawFilled </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // è§†é¢‘å·¥å…·</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    [VideoGenerationMode.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">IMAGE_TO_VIDEO</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        default: IconImage2video,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        checked: IconImage2videoFill,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    [VideoGenerationMode.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">TEXT_TO_VIDEO</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]: { </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        default: IconText2video, </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        checked: IconText2videoFill </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // åŸºç¡€å·¥å…·</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    [ToolType.Crop]: { </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        default: IconCrop, </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        checked: IconCropFilled </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    [ToolType.Resize]: { </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        default: IconCustomize, </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        checked: IconCustomizeFilled </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    [ToolType.Convert]: { </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        default: IconSynchronize, </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        checked: IconSynchronizeFilled </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    [ToolType.Compress]: { </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        default: IconCompression, </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        checked: IconCompressionFilled </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    [ToolType.Template]: { </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        default: IconTemplate, </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        checked: IconTemplateFilled </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br></div></div><hr><h2 id="ä¹ã€å·¥å…·ä½¿ç”¨ç»Ÿè®¡" tabindex="-1">ä¹ã€å·¥å…·ä½¿ç”¨ç»Ÿè®¡ <a class="header-anchor" href="#ä¹ã€å·¥å…·ä½¿ç”¨ç»Ÿè®¡" aria-label="Permalink to &quot;ä¹ã€å·¥å…·ä½¿ç”¨ç»Ÿè®¡&quot;">â€‹</a></h2><h3 id="_9-1-ä»£ç è§„æ¨¡ç»Ÿè®¡" tabindex="-1">9.1 ä»£ç è§„æ¨¡ç»Ÿè®¡ <a class="header-anchor" href="#_9-1-ä»£ç è§„æ¨¡ç»Ÿè®¡" aria-label="Permalink to &quot;9.1 ä»£ç è§„æ¨¡ç»Ÿè®¡&quot;">â€‹</a></h3><table tabindex="0"><thead><tr><th>å·¥å…·åˆ†ç±»</th><th>æ–‡ä»¶æ•°</th><th>ä»£ç è¡Œæ•°ï¼ˆä¼°ç®—ï¼‰</th><th>å¤æ‚åº¦</th></tr></thead><tbody><tr><td><strong>AIç”Ÿæˆç±»</strong></td><td>~40</td><td>~5000</td><td>é«˜</td></tr><tr><td><strong>AIå›¾åƒå¤„ç†</strong></td><td>~60</td><td>~8000</td><td>é«˜</td></tr><tr><td><strong>AIè§†é¢‘</strong></td><td>~30</td><td>~3000</td><td>ä¸­</td></tr><tr><td><strong>åŸºç¡€ç¼–è¾‘</strong></td><td>~30</td><td>~2000</td><td>ä½</td></tr><tr><td><strong>æ€»è®¡</strong></td><td>~160</td><td>~18000</td><td>-</td></tr></tbody></table><h3 id="_9-2-æ ¸å¿ƒæ–‡ä»¶ç»Ÿè®¡" tabindex="-1">9.2 æ ¸å¿ƒæ–‡ä»¶ç»Ÿè®¡ <a class="header-anchor" href="#_9-2-æ ¸å¿ƒæ–‡ä»¶ç»Ÿè®¡" aria-label="Permalink to &quot;9.2 æ ¸å¿ƒæ–‡ä»¶ç»Ÿè®¡&quot;">â€‹</a></h3><p><strong>æœ€å¤§çš„æœåŠ¡æ–‡ä»¶ï¼š</strong></p><ol><li><code>ai-background/services.ts</code> - 753è¡Œ</li><li><code>magic-eraser/capability/ai-in-paint.ts</code> - 564è¡Œ</li><li><code>magic-eraser/services/utils/mask.ts</code> - 434è¡Œï¼ˆæè¾¹ç®—æ³•ï¼‰</li><li><code>magic-eraser/services/canvas/selection.ts</code> - 339è¡Œï¼ˆæ™ºèƒ½é€‰åŒºï¼‰</li><li><code>matting/services.ts</code> - 887è¡Œ</li></ol><hr><h2 id="åã€å¼€å‘æŒ‡å—" tabindex="-1">åã€å¼€å‘æŒ‡å— <a class="header-anchor" href="#åã€å¼€å‘æŒ‡å—" aria-label="Permalink to &quot;åã€å¼€å‘æŒ‡å—&quot;">â€‹</a></h2><h3 id="_10-1-åˆ›å»ºæ–°å·¥å…·çš„æ­¥éª¤" tabindex="-1">10.1 åˆ›å»ºæ–°å·¥å…·çš„æ­¥éª¤ <a class="header-anchor" href="#_10-1-åˆ›å»ºæ–°å·¥å…·çš„æ­¥éª¤" aria-label="Permalink to &quot;10.1 åˆ›å»ºæ–°å·¥å…·çš„æ­¥éª¤&quot;">â€‹</a></h3><ol><li><strong>åœ¨ToolTypeæšä¸¾ä¸­æ·»åŠ å·¥å…·ç±»å‹</strong></li></ol><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// const/config.ts</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> enum</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ToolType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    NewTool</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;newTool&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ·»åŠ æ–°å·¥å…·</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ol start="2"><li><strong>åˆ›å»ºå·¥å…·ç›®å½•å’Œæ–‡ä»¶</strong></li></ol><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> editors/new-tool/{services,components}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">touch</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> editors/new-tool/{index.ts,index.vue,editor.vue,services.ts}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="3"><li><strong>å®ç°æœåŠ¡ç±»</strong></li></ol><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// new-tool/services.ts</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> NewToolService</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> BaseEditorService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    async</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // å®ç°ä¸»é€»è¾‘</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ol start="4"><li><strong>æ·»åŠ å›¾æ ‡é…ç½®</strong></li></ol><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// const/icon-config.ts</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> ICON_MAP</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    [ToolType.NewTool]: { </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        default: IconNew, </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        checked: IconNewFilled </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ol start="5"><li><strong>æ³¨å†Œåˆ°è½»èˆŸé…ç½®</strong></li></ol><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è½»èˆŸåå°é…ç½®</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    tool_type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;newTool&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    tool_config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // é…ç½®å‚æ•°</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="_10-2-å¼€å‘è§„èŒƒ" tabindex="-1">10.2 å¼€å‘è§„èŒƒ <a class="header-anchor" href="#_10-2-å¼€å‘è§„èŒƒ" aria-label="Permalink to &quot;10.2 å¼€å‘è§„èŒƒ&quot;">â€‹</a></h3><p><strong>æœåŠ¡ç±»è§„èŒƒï¼š</strong></p><ul><li>âœ… å¿…é¡»ç»§æ‰¿<code>BaseEditorService</code></li><li>âœ… AIå·¥å…·éœ€å®ç°<code>IAiPipelineService</code></li><li>âœ… å®ç°<code>main()</code>æ–¹æ³•</li><li>âœ… å®ç°å•†ä¸šåŒ–é€»è¾‘</li><li>âœ… æ·»åŠ åŸ‹ç‚¹è¿½è¸ª</li></ul><p><strong>æ–‡ä»¶å‘½åè§„èŒƒï¼š</strong></p><ul><li>æœåŠ¡ç±»ï¼š<code>services.ts</code> æˆ– <code>services/index.ts</code></li><li>å…¥å£ç»„ä»¶ï¼š<code>index.vue</code></li><li>ç¼–è¾‘å™¨ï¼š<code>editor.vue</code></li><li>ç±»å‹å®šä¹‰ï¼š<code>types.ts</code> æˆ– <code>interface.ts</code></li></ul><p><strong>ä»£ç é£æ ¼ï¼š</strong></p><ul><li>TypeScriptä¸¥æ ¼æ¨¡å¼</li><li>Vue 3 Composition API</li><li>ESLintè§„åˆ™æ£€æŸ¥</li><li>æ·»åŠ è¯¦ç»†æ³¨é‡Š</li></ul><hr><h2 id="åä¸€ã€ç›¸å…³æ–‡æ¡£" tabindex="-1">åä¸€ã€ç›¸å…³æ–‡æ¡£ <a class="header-anchor" href="#åä¸€ã€ç›¸å…³æ–‡æ¡£" aria-label="Permalink to &quot;åä¸€ã€ç›¸å…³æ–‡æ¡£&quot;">â€‹</a></h2><h3 id="_11-1-æŠ€æœ¯æ–‡æ¡£" tabindex="-1">11.1 æŠ€æœ¯æ–‡æ¡£ <a class="header-anchor" href="#_11-1-æŠ€æœ¯æ–‡æ¡£" aria-label="Permalink to &quot;11.1 æŠ€æœ¯æ–‡æ¡£&quot;">â€‹</a></h3><ul><li><a href="./è®¡ç®—æœºå›¾åƒ/AI Replaceæ™ºèƒ½é€‰åŒºæ·±åº¦è§£æ">AI Replaceæ™ºèƒ½é€‰åŒºæ·±åº¦è§£æ</a> - æ™ºèƒ½é€‰åŒºå’Œæè¾¹ç®—æ³•è¯¦è§£</li><li><a href="./è®¡ç®—æœºå›¾åƒ/SAMä¸»ä½“é€‰æ‹©æ·±åº¦è§£æ">SAMä¸»ä½“é€‰æ‹©æ·±åº¦è§£æ</a> - SAMé›†æˆå’Œé«˜äº®å®ç°</li><li><a href="./è®¡ç®—æœºå›¾åƒ/å¥—ç´¢å·¥å…·å®ç°åŸç†è¯¦è§£">å¥—ç´¢å·¥å…·å®ç°åŸç†è¯¦è§£</a> - å¥—ç´¢å·¥å…·å®ç°</li><li><a href="./è®¡ç®—æœºå›¾åƒ/ç”»ç¬”å·¥å…·å®ç°åŸç†è¯¦è§£">ç”»ç¬”å·¥å…·å®ç°åŸç†è¯¦è§£</a> - ç”»ç¬”å·¥å…·å®ç°</li></ul><h3 id="_11-2-æ¶æ„æ–‡æ¡£" tabindex="-1">11.2 æ¶æ„æ–‡æ¡£ <a class="header-anchor" href="#_11-2-æ¶æ„æ–‡æ¡£" aria-label="Permalink to &quot;11.2 æ¶æ„æ–‡æ¡£&quot;">â€‹</a></h3><ul><li><code>editors/.cursor/rules/editors-services.mdc</code> - ç¼–è¾‘å™¨æœåŠ¡æ¶æ„è§„èŒƒ</li><li><code>README.md</code> - è§†é¢‘å¢å¼ºå·¥å…·è¯¦ç»†æ–‡æ¡£</li></ul><hr><h2 id="åäºŒã€æ€»ç»“" tabindex="-1">åäºŒã€æ€»ç»“ <a class="header-anchor" href="#åäºŒã€æ€»ç»“" aria-label="Permalink to &quot;åäºŒã€æ€»ç»“&quot;">â€‹</a></h2><h3 id="_12-1-å·¥å…·èƒ½åŠ›æ€»è§ˆ" tabindex="-1">12.1 å·¥å…·èƒ½åŠ›æ€»è§ˆ <a class="header-anchor" href="#_12-1-å·¥å…·èƒ½åŠ›æ€»è§ˆ" aria-label="Permalink to &quot;12.1 å·¥å…·èƒ½åŠ›æ€»è§ˆ&quot;">â€‹</a></h3><p>InsMindä½œä¸ºä¸“ä¸šçš„AIå›¾åƒç¼–è¾‘å¹³å°ï¼Œæä¾›äº†<strong>19ä¸ªå·¥å…·</strong>ï¼Œè¦†ç›–ï¼š</p><ul><li>âœ¨ <strong>AIç”Ÿæˆ</strong>ï¼šä»æ–‡æœ¬/å›¾åƒç”Ÿæˆæ–°å†…å®¹</li><li>ğŸ¨ <strong>AIç¼–è¾‘</strong>ï¼šæ™ºèƒ½ä¿®æ”¹å’Œä¼˜åŒ–å›¾åƒ</li><li>ğŸ¬ <strong>AIè§†é¢‘</strong>ï¼šè§†é¢‘ç”Ÿæˆå’Œå¢å¼º</li><li>ğŸ“ <strong>åŸºç¡€ç¼–è¾‘</strong>ï¼šè£å‰ªã€è°ƒæ•´ã€è½¬æ¢ç­‰</li></ul><h3 id="_12-2-æŠ€æœ¯äº®ç‚¹" tabindex="-1">12.2 æŠ€æœ¯äº®ç‚¹ <a class="header-anchor" href="#_12-2-æŠ€æœ¯äº®ç‚¹" aria-label="Permalink to &quot;12.2 æŠ€æœ¯äº®ç‚¹&quot;">â€‹</a></h3><ol><li><strong>ç»Ÿä¸€æ¶æ„</strong>ï¼šæ‰€æœ‰å·¥å…·åŸºäº<code>BaseEditorService</code>ç»Ÿä¸€æ¶æ„</li><li><strong>SAMé›†æˆ</strong>ï¼šå¤šä¸ªå·¥å…·é›†æˆSAMæ™ºèƒ½é€‰åŒºæŠ€æœ¯</li><li><strong>AI Pipeline</strong>ï¼šç»Ÿä¸€çš„AIå¤„ç†ç®¡çº¿</li><li><strong>å•†ä¸šåŒ–å®Œå–„</strong>ï¼šå®Œæ•´çš„æƒé™å’Œä»˜è´¹ä½“ç³»</li><li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šLRUç¼“å­˜ã€Promiseå»é‡ç­‰ä¼˜åŒ–ç­–ç•¥</li></ol><h3 id="_12-3-ä»£ç è´¨é‡" tabindex="-1">12.3 ä»£ç è´¨é‡ <a class="header-anchor" href="#_12-3-ä»£ç è´¨é‡" aria-label="Permalink to &quot;12.3 ä»£ç è´¨é‡&quot;">â€‹</a></h3><ul><li>ğŸ“Š æ€»ä»£ç é‡ï¼š~18000è¡Œ</li><li>ğŸ—ï¸ æ¶æ„æ¸…æ™°ï¼šåˆ†å±‚æ˜ç¡®ï¼ŒèŒè´£å•ä¸€</li><li>ğŸ“ æ–‡æ¡£å®Œå–„ï¼šå…³é”®å·¥å…·æœ‰è¯¦ç»†æ–‡æ¡£</li><li>ğŸ”§ å¯ç»´æŠ¤æ€§ï¼šè‰¯å¥½çš„ä»£ç ç»„ç»‡å’Œè§„èŒƒ</li></ul><hr><p><strong>æ–‡æ¡£ç‰ˆæœ¬ï¼š</strong> v1.0<br><strong>æœ€åæ›´æ–°ï¼š</strong> 2026-01-26<br><strong>ä½œè€…ï¼š</strong> Meta Frontend Team<br><strong>ç»´æŠ¤è€…ï¼š</strong> InsMind Tool Team</p>`,273)]))}const g=i(p,[["render",e]]);export{c as __pageData,g as default};
