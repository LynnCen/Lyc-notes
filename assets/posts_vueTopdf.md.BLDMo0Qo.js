import{_ as E,C as r,c as d,o as n,a8 as k,b as p,j as t,w as i,a,G as h,a9 as e}from"./chunks/framework.CrIyVKdD.js";const u=JSON.parse('{"title":"Vueç»„ä»¶PDFå¯¼å‡ºå·¥å…·å°è£…å®è·µ","description":"","frontmatter":{},"headers":[],"relativePath":"posts/vueTopdf.md","filePath":"posts/vueTopdf.md","lastUpdated":1749391593000}'),g={name:"posts/vueTopdf.md"};function F(y,s,A,c,o,B){const l=r("Mermaid");return n(),d("div",null,[s[12]||(s[12]=k('<h1 id="vueç»„ä»¶pdfå¯¼å‡ºå·¥å…·å°è£…å®è·µ" tabindex="-1">Vueç»„ä»¶PDFå¯¼å‡ºå·¥å…·å°è£…å®è·µ <a class="header-anchor" href="#vueç»„ä»¶pdfå¯¼å‡ºå·¥å…·å°è£…å®è·µ" aria-label="Permalink to &quot;Vueç»„ä»¶PDFå¯¼å‡ºå·¥å…·å°è£…å®è·µ&quot;">â€‹</a></h1><blockquote><p>è®°å½•åœ¨ä¸šåŠ¡å¼€å‘ä¸­å°è£…PDFå¯¼å‡ºå·¥å…·çš„å®Œæ•´è¿‡ç¨‹ï¼Œä»éœ€æ±‚åˆ†æåˆ°æ¶æ„è®¾è®¡ï¼Œå†åˆ°å…·ä½“å®ç°çš„è½¯ä»¶å·¥ç¨‹å®è·µ</p></blockquote><h2 id="ğŸ“‹-ç›®å½•" tabindex="-1">ğŸ“‹ ç›®å½• <a class="header-anchor" href="#ğŸ“‹-ç›®å½•" aria-label="Permalink to &quot;ğŸ“‹ ç›®å½•&quot;">â€‹</a></h2><ul><li><a href="#é¡¹ç›®èƒŒæ™¯ä¸éœ€æ±‚åˆ†æ">é¡¹ç›®èƒŒæ™¯ä¸éœ€æ±‚åˆ†æ</a></li><li><a href="#æ¶æ„è®¾è®¡æ€è·¯">æ¶æ„è®¾è®¡æ€è·¯</a></li><li><a href="#è®¾è®¡æ¨¡å¼åº”ç”¨">è®¾è®¡æ¨¡å¼åº”ç”¨</a></li><li><a href="#å°è£…å®ç°è¿‡ç¨‹">å°è£…å®ç°è¿‡ç¨‹</a></li><li><a href="#å…·ä½“å®ç°">å…·ä½“å®ç°</a></li><li><a href="#ä½¿ç”¨ç¤ºä¾‹">ä½¿ç”¨ç¤ºä¾‹</a></li><li><a href="#æ€§èƒ½ä¼˜åŒ–">æ€§èƒ½ä¼˜åŒ–</a></li><li><a href="#æ€»ç»“ä¸åæ€">æ€»ç»“ä¸åæ€</a></li></ul><h2 id="ğŸ¯-é¡¹ç›®èƒŒæ™¯ä¸éœ€æ±‚åˆ†æ" tabindex="-1">ğŸ¯ é¡¹ç›®èƒŒæ™¯ä¸éœ€æ±‚åˆ†æ <a class="header-anchor" href="#ğŸ¯-é¡¹ç›®èƒŒæ™¯ä¸éœ€æ±‚åˆ†æ" aria-label="Permalink to &quot;ğŸ¯ é¡¹ç›®èƒŒæ™¯ä¸éœ€æ±‚åˆ†æ&quot;">â€‹</a></h2><p>åœ¨ä¸šåŠ¡å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘é‡åˆ°äº†ä¸€ä¸ªå¸¸è§ä½†å¤æ‚çš„éœ€æ±‚ï¼šå°†Vueç»„ä»¶æ¸²æŸ“çš„å†…å®¹å¯¼å‡ºä¸ºPDFæ–‡ä»¶ã€‚ç»è¿‡éœ€æ±‚åˆ†æï¼Œæˆ‘æ€»ç»“å‡ºä»¥ä¸‹æ ¸å¿ƒè¦æ±‚ï¼š</p><h3 id="åŠŸèƒ½éœ€æ±‚" tabindex="-1">åŠŸèƒ½éœ€æ±‚ <a class="header-anchor" href="#åŠŸèƒ½éœ€æ±‚" aria-label="Permalink to &quot;åŠŸèƒ½éœ€æ±‚&quot;">â€‹</a></h3><ul><li>âœ… æ”¯æŒä»»æ„Vueç»„ä»¶æˆ–DOMå…ƒç´ å¯¼å‡ºä¸ºPDF</li><li>âœ… æ”¯æŒå¤šç§é¡µé¢æ ¼å¼ï¼ˆA4ã€A3ã€Letterã€è‡ªå®šä¹‰ï¼‰</li><li>âœ… æ”¯æŒæ¨ªå‘å’Œçºµå‘å¸ƒå±€</li><li>âœ… æ”¯æŒå¤šç§å›¾ç‰‡å¡«å……æ¨¡å¼ï¼ˆé€‚åº”ã€è¦†ç›–ã€æ‹‰ä¼¸ï¼‰</li><li>âœ… æ”¯æŒè‡ªå®šä¹‰è¾¹è·å’Œè´¨é‡è®¾ç½®</li><li>âœ… æä¾›å¯¼å‡ºè¿›åº¦åé¦ˆ</li><li>âœ… æ”¯æŒTypeScriptç±»å‹å®‰å…¨</li></ul><h3 id="éåŠŸèƒ½éœ€æ±‚" tabindex="-1">éåŠŸèƒ½éœ€æ±‚ <a class="header-anchor" href="#éåŠŸèƒ½éœ€æ±‚" aria-label="Permalink to &quot;éåŠŸèƒ½éœ€æ±‚&quot;">â€‹</a></h3><ul><li>ğŸ”§ æ˜“äºä½¿ç”¨å’Œé›†æˆ</li><li>ğŸš€ è‰¯å¥½çš„æ€§èƒ½è¡¨ç°</li><li>ğŸ›¡ï¸ é”™è¯¯å¤„ç†å’Œå¼‚å¸¸æ¢å¤</li><li>ğŸ“¦ æ¨¡å—åŒ–å’Œå¯æ‰©å±•æ€§</li><li>ğŸ¨ æ”¯æŒè‡ªå®šä¹‰é…ç½®</li></ul><h2 id="ğŸ—ï¸-æ¶æ„è®¾è®¡æ€è·¯" tabindex="-1">ğŸ—ï¸ æ¶æ„è®¾è®¡æ€è·¯ <a class="header-anchor" href="#ğŸ—ï¸-æ¶æ„è®¾è®¡æ€è·¯" aria-label="Permalink to &quot;ğŸ—ï¸ æ¶æ„è®¾è®¡æ€è·¯&quot;">â€‹</a></h2><p>åŸºäºè½¯ä»¶å·¥ç¨‹çš„<strong>åˆ†å±‚æ¶æ„</strong>å’Œ<strong>å•ä¸€èŒè´£åŸåˆ™</strong>ï¼Œæˆ‘è®¾è®¡äº†ä¸€ä¸ªä¸‰å±‚æ¶æ„ï¼š</p>',12)),(n(),p(e,null,{default:i(()=>[h(l,{id:"mermaid-135",class:"mermaid",graph:"graph%20TB%0A%20%20%20%20subgraph%20%22%E8%A1%A8%E7%A4%BA%E5%B1%82%20Presentation%20Layer%22%0A%20%20%20%20%20%20%20%20A%5BusePDFExporter%20Hook%5D%0A%20%20%20%20%20%20%20%20B%5BVue%E7%BB%84%E4%BB%B6%E9%9B%86%E6%88%90%5D%0A%20%20%20%20end%0A%20%20%20%20%0A%20%20%20%20subgraph%20%22%E4%B8%9A%E5%8A%A1%E9%80%BB%E8%BE%91%E5%B1%82%20Business%20Logic%20Layer%22%0A%20%20%20%20%20%20%20%20C%5BVueToPDFExporter%5D%0A%20%20%20%20%20%20%20%20D%5B%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86%E5%99%A8%5D%0A%20%20%20%20%20%20%20%20E%5B%E8%BF%9B%E5%BA%A6%E7%AE%A1%E7%90%86%E5%99%A8%5D%0A%20%20%20%20end%0A%20%20%20%20%0A%20%20%20%20subgraph%20%22%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B1%82%20Data%20Processing%20Layer%22%0A%20%20%20%20%20%20%20%20F%5BCanvasGenerator%5D%0A%20%20%20%20%20%20%20%20G%5BPDFGenerator%5D%0A%20%20%20%20%20%20%20%20H%5B%E7%B1%BB%E5%9E%8B%E5%AE%9A%E4%B9%89%5D%0A%20%20%20%20end%0A%20%20%20%20%0A%20%20%20%20subgraph%20%22%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%20External%20Libraries%22%0A%20%20%20%20%20%20%20%20I%5Bhtml2canvas%5D%0A%20%20%20%20%20%20%20%20J%5BjsPDF%5D%0A%20%20%20%20end%0A%20%20%20%20%0A%20%20%20%20A%20--%3E%20C%0A%20%20%20%20B%20--%3E%20A%0A%20%20%20%20C%20--%3E%20F%0A%20%20%20%20C%20--%3E%20G%0A%20%20%20%20C%20--%3E%20D%0A%20%20%20%20C%20--%3E%20E%0A%20%20%20%20F%20--%3E%20I%0A%20%20%20%20G%20--%3E%20J%0A%20%20%20%20%0A%20%20%20%20style%20A%20fill%3A%23e1f5fe%0A%20%20%20%20style%20C%20fill%3A%23f3e5f5%0A%20%20%20%20style%20F%20fill%3A%23e8f5e8%0A%20%20%20%20style%20G%20fill%3A%23e8f5e8%0A"})]),fallback:i(()=>[...s[0]||(s[0]=[a(" Loading... ",-1)])]),_:1})),s[13]||(s[13]=k('<h3 id="è®¾è®¡åŸåˆ™" tabindex="-1">è®¾è®¡åŸåˆ™ <a class="header-anchor" href="#è®¾è®¡åŸåˆ™" aria-label="Permalink to &quot;è®¾è®¡åŸåˆ™&quot;">â€‹</a></h3><ol><li><strong>å•ä¸€èŒè´£åŸåˆ™</strong>ï¼šæ¯ä¸ªç±»åªè´Ÿè´£ä¸€ä¸ªç‰¹å®šåŠŸèƒ½</li><li><strong>å¼€é—­åŸåˆ™</strong>ï¼šå¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å°é—­</li><li><strong>ä¾èµ–å€’ç½®åŸåˆ™</strong>ï¼šä¾èµ–æŠ½è±¡è€Œéå…·ä½“å®ç°</li><li><strong>æ¥å£éš”ç¦»åŸåˆ™</strong>ï¼šä½¿ç”¨æœ€å°åŒ–æ¥å£</li><li><strong>ç»„åˆä¼˜äºç»§æ‰¿</strong>ï¼šé€šè¿‡ç»„åˆå®ç°åŠŸèƒ½å¤ç”¨</li></ol><h2 id="ğŸ¨-è®¾è®¡æ¨¡å¼åº”ç”¨" tabindex="-1">ğŸ¨ è®¾è®¡æ¨¡å¼åº”ç”¨ <a class="header-anchor" href="#ğŸ¨-è®¾è®¡æ¨¡å¼åº”ç”¨" aria-label="Permalink to &quot;ğŸ¨ è®¾è®¡æ¨¡å¼åº”ç”¨&quot;">â€‹</a></h2><p>åœ¨å°è£…è¿‡ç¨‹ä¸­ï¼Œæˆ‘åº”ç”¨äº†å¤šç§è®¾è®¡æ¨¡å¼æ¥è§£å†³ä¸åŒçš„è®¾è®¡é—®é¢˜ï¼š</p>',4)),(n(),p(e,null,{default:i(()=>[h(l,{id:"mermaid-172",class:"mermaid",graph:"mindmap%0A%20%20root((%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F))%0A%20%20%20%20%E5%88%9B%E5%BB%BA%E5%9E%8B%E6%A8%A1%E5%BC%8F%0A%20%20%20%20%20%20%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F%0A%20%20%20%20%20%20%20%20CanvasGenerator%E5%88%9B%E5%BB%BA%0A%20%20%20%20%20%20%20%20PDFGenerator%E5%88%9B%E5%BB%BA%0A%20%20%20%20%20%20%E5%BB%BA%E9%80%A0%E8%80%85%E6%A8%A1%E5%BC%8F%0A%20%20%20%20%20%20%20%20%E9%85%8D%E7%BD%AE%E5%AF%B9%E8%B1%A1%E6%9E%84%E5%BB%BA%0A%20%20%20%20%20%20%20%20PDF%E6%96%87%E6%A1%A3%E6%9E%84%E5%BB%BA%0A%20%20%20%20%E7%BB%93%E6%9E%84%E5%9E%8B%E6%A8%A1%E5%BC%8F%0A%20%20%20%20%20%20%E5%A4%96%E8%A7%82%E6%A8%A1%E5%BC%8F%0A%20%20%20%20%20%20%20%20VueToPDFExporter%0A%20%20%20%20%20%20%20%20%E7%BB%9F%E4%B8%80%E5%AF%B9%E5%A4%96%E6%8E%A5%E5%8F%A3%0A%20%20%20%20%20%20%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F%0A%20%20%20%20%20%20%20%20%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E5%B0%81%E8%A3%85%0A%20%20%20%20%20%20%20%20%E9%85%8D%E7%BD%AE%E9%80%82%E9%85%8D%0A%20%20%20%20%20%20%E8%A3%85%E9%A5%B0%E5%99%A8%E6%A8%A1%E5%BC%8F%0A%20%20%20%20%20%20%20%20%E9%85%8D%E7%BD%AE%E5%A2%9E%E5%BC%BA%0A%20%20%20%20%20%20%20%20%E9%A2%84%E8%AE%BE%E9%85%8D%E7%BD%AE%0A%20%20%20%20%E8%A1%8C%E4%B8%BA%E5%9E%8B%E6%A8%A1%E5%BC%8F%0A%20%20%20%20%20%20%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F%0A%20%20%20%20%20%20%20%20%E5%A1%AB%E5%85%85%E6%A8%A1%E5%BC%8F%E9%80%89%E6%8B%A9%0A%20%20%20%20%20%20%20%20%E9%A2%84%E8%AE%BE%E9%85%8D%E7%BD%AE%E7%AD%96%E7%95%A5%0A%20%20%20%20%20%20%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F%0A%20%20%20%20%20%20%20%20%E5%AF%BC%E5%87%BA%E6%B5%81%E7%A8%8B%E6%A8%A1%E6%9D%BF%0A%20%20%20%20%20%20%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F%0A%20%20%20%20%20%20%20%20%E8%BF%9B%E5%BA%A6%E5%9B%9E%E8%B0%83%0A"})]),fallback:i(()=>[...s[1]||(s[1]=[a(" Loading... ",-1)])]),_:1})),s[14]||(s[14]=k(`<h3 id="_1-å¤–è§‚æ¨¡å¼-facade-pattern" tabindex="-1">1. å¤–è§‚æ¨¡å¼ (Facade Pattern) <a class="header-anchor" href="#_1-å¤–è§‚æ¨¡å¼-facade-pattern" aria-label="Permalink to &quot;1. å¤–è§‚æ¨¡å¼ (Facade Pattern)&quot;">â€‹</a></h3><p><code>VueToPDFExporter</code>ä½œä¸ºå¤–è§‚ç±»ï¼Œéšè—äº†å¤æ‚çš„å†…éƒ¨å®ç°ï¼š</p><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å¤–è§‚æ¨¡å¼ - æä¾›ç®€åŒ–çš„ç»Ÿä¸€æ¥å£</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> VueToPDFExporter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    private</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> readonly</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> canvasGenerator</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> CanvasGenerator</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    private</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> readonly</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> pdfGenerator</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PDFGenerator</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    async</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">element</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">onProgress</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // éšè—å¤æ‚çš„å†…éƒ¨åè°ƒé€»è¾‘</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // ç”¨æˆ·åªéœ€è¦è°ƒç”¨ä¸€ä¸ªæ–¹æ³•</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="_2-ç­–ç•¥æ¨¡å¼-strategy-pattern" tabindex="-1">2. ç­–ç•¥æ¨¡å¼ (Strategy Pattern) <a class="header-anchor" href="#_2-ç­–ç•¥æ¨¡å¼-strategy-pattern" aria-label="Permalink to &quot;2. ç­–ç•¥æ¨¡å¼ (Strategy Pattern)&quot;">â€‹</a></h3><p>é€šè¿‡æšä¸¾å®šä¹‰ä¸åŒçš„å¡«å……ç­–ç•¥ï¼š</p><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> enum</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> FillMode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    FIT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;fit&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,        </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// é€‚åº”ç­–ç•¥</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    COVER</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;cover&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è¦†ç›–ç­–ç•¥  </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    STRETCH</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;stretch&#39;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // æ‹‰ä¼¸ç­–ç•¥</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_3-å·¥å‚æ–¹æ³•æ¨¡å¼-factory-method-pattern" tabindex="-1">3. å·¥å‚æ–¹æ³•æ¨¡å¼ (Factory Method Pattern) <a class="header-anchor" href="#_3-å·¥å‚æ–¹æ³•æ¨¡å¼-factory-method-pattern" aria-label="Permalink to &quot;3. å·¥å‚æ–¹æ³•æ¨¡å¼ (Factory Method Pattern)&quot;">â€‹</a></h3><p><code>CanvasGenerator</code>ä¸­çš„é¢„è®¾é…ç½®å·¥å‚ï¼š</p><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">private </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getPresetConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(preset: CanvasPreset): Html2CanvasConfig {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    switch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (preset) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        case</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> CanvasPreset.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">HIGH_QUALITY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">CanvasGenerator.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">HIGH_QUALITY_CONFIG</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> };</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        case</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> CanvasPreset.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PERFORMANCE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">CanvasGenerator.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PERFORMANCE_CONFIG</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> };</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">CanvasGenerator.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">DEFAULT_CONFIG</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="ğŸ”§-å°è£…å®ç°è¿‡ç¨‹" tabindex="-1">ğŸ”§ å°è£…å®ç°è¿‡ç¨‹ <a class="header-anchor" href="#ğŸ”§-å°è£…å®ç°è¿‡ç¨‹" aria-label="Permalink to &quot;ğŸ”§ å°è£…å®ç°è¿‡ç¨‹&quot;">â€‹</a></h2><h3 id="ç¬¬ä¸€æ­¥-éœ€æ±‚åˆ†æä¸æ¥å£è®¾è®¡" tabindex="-1">ç¬¬ä¸€æ­¥ï¼šéœ€æ±‚åˆ†æä¸æ¥å£è®¾è®¡ <a class="header-anchor" href="#ç¬¬ä¸€æ­¥-éœ€æ±‚åˆ†æä¸æ¥å£è®¾è®¡" aria-label="Permalink to &quot;ç¬¬ä¸€æ­¥ï¼šéœ€æ±‚åˆ†æä¸æ¥å£è®¾è®¡&quot;">â€‹</a></h3><p>æˆ‘é¦–å…ˆæ€è€ƒçš„æ˜¯å¦‚ä½•æŠ½è±¡è¿™ä¸ªå¤æ‚çš„å¯¼å‡ºè¿‡ç¨‹ã€‚é€šè¿‡åˆ†æï¼Œæˆ‘å‘ç°PDFå¯¼å‡ºæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª<strong>æ•°æ®è½¬æ¢ç®¡é“</strong>ï¼š</p>`,12)),(n(),p(e,null,{default:i(()=>[h(l,{id:"mermaid-203",class:"mermaid",graph:"flowchart%20LR%0A%20%20%20%20A%5BDOM%E5%85%83%E7%B4%A0%5D%20--%3E%20B%5BCanvas%E5%9B%BE%E5%83%8F%5D%20--%3E%20C%5B%E5%9B%BE%E5%83%8F%E6%95%B0%E6%8D%AE%5D%20--%3E%20D%5BPDF%E6%96%87%E6%A1%A3%5D%20--%3E%20E%5B%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD%5D%0A%20%20%20%20%0A%20%20%20%20style%20A%20fill%3A%23ffeb3b%0A%20%20%20%20style%20B%20fill%3A%234caf50%0A%20%20%20%20style%20C%20fill%3A%232196f3%0A%20%20%20%20style%20D%20fill%3A%23ff9800%0A%20%20%20%20style%20E%20fill%3A%239c27b0%0A"})]),fallback:i(()=>[...s[2]||(s[2]=[a(" Loading... ",-1)])]),_:1})),s[15]||(s[15]=k(`<p>åŸºäºè¿™ä¸ªç†è§£ï¼Œæˆ‘è®¾è®¡äº†ç±»å‹ç³»ç»Ÿæ¥çº¦æŸæ•´ä¸ªæµç¨‹ï¼š</p><div class="language-ts vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> html2canvas </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;html2canvas&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { jsPDF, jsPDFOptions } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;jspdf&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PageOrientation</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;portrait&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;landscape&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PageFormat</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;a4&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;a3&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;letter&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;custom&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SizeUnit</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;pt&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;mm&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;px&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> enum</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> FillMode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    FIT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;fit&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// é€‚åº”æ¨¡å¼ï¼šä¿æŒæ¯”ä¾‹ï¼Œå®Œå…¨æ˜¾ç¤ºï¼Œå¯èƒ½æœ‰ç©ºç™½</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    COVER</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;cover&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è¦†ç›–æ¨¡å¼ï¼šä¿æŒæ¯”ä¾‹ï¼Œé“ºæ»¡é¡µé¢ï¼Œå¯èƒ½è£å‰ª</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    STRETCH</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;stretch&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ‹‰ä¼¸æ¨¡å¼ï¼šå®Œå…¨é“ºæ»¡ï¼Œå¯èƒ½å˜å½¢</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> enum</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> CanvasPreset</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    DEFAULT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;default&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    HIGH_QUALITY</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;high-quality&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    PERFORMANCE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;performance&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Size</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    readonly</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> width</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    readonly</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> height</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Position</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    readonly</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> x</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    readonly</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> y</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Rect</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Size</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Position</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Margins</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    top</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    right</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    bottom</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    left</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SizeWithUnit</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Size</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    unit</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SizeUnit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//  ç¬¬ä¸‰æ–¹åº“ç±»å‹</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Html2Canvas</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> html2canvas;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> JsPDF</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> jsPDF;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> JsPDFInstance</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> InstanceType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">JsPDF</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> JsPDFOptions</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> jsPDFOptions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Html2CanvasConfig</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Parameters</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> html2canvas&gt;[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> CanvasConfig</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Html2CanvasConfig</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">preset</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> CanvasPreset</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> };</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//  ä¸»è¦é…ç½®æ¥å£</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ExportConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    filename</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    quality</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    orientation</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PageOrientation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    format</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PageFormat</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    customSize</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SizeWithUnit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    fillMode</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> FillMode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    margins</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Margins</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    html2canvasOptions</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> CanvasConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    jsPDFOptions</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Partial</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">JsPDFOptions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//  å›¾ç‰‡å¸ƒå±€è®¡ç®—ç»“æœ</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ImageLayout</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Rect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    readonly</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> pageWidth</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    readonly</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> pageHeight</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    readonly</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> canvasWidth</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    readonly</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> canvasHeight</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    readonly</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> finalWidth</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    readonly</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> finalHeight</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    readonly</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> fillMode</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> FillMode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    readonly</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> scaleRatio</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//  PDFå°ºå¯¸é…ç½®</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PDFDimensions</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Size</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    readonly</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> unit</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SizeUnit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//  å¯¼å‡ºè¿›åº¦</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ExportProgress</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    percentage</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    message</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//  å¯¼å‡ºè¿›åº¦å›è°ƒ</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ProgressCallback</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">progress</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ExportProgress</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//  å¯¼å‡ºç»“æœ</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ExportResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    success</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    error</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    fileSize</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    processingTime</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    layout</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ImageLayout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br></div></div><p>è¿™äº›æ¥å£çš„è®¾è®¡éµå¾ªäº†<strong>å¥‘çº¦å¼è®¾è®¡</strong>æ€æƒ³ï¼Œæ¯ä¸ªæ¥å£éƒ½æ˜ç¡®å®šä¹‰äº†è¾“å…¥è¾“å‡ºå¥‘çº¦ã€‚</p><h3 id="ç¬¬äºŒæ­¥-åˆ†å±‚æ¶æ„è®¾è®¡" tabindex="-1">ç¬¬äºŒæ­¥ï¼šåˆ†å±‚æ¶æ„è®¾è®¡ <a class="header-anchor" href="#ç¬¬äºŒæ­¥-åˆ†å±‚æ¶æ„è®¾è®¡" aria-label="Permalink to &quot;ç¬¬äºŒæ­¥ï¼šåˆ†å±‚æ¶æ„è®¾è®¡&quot;">â€‹</a></h3><p>æ ¹æ®<strong>åˆ†ç¦»å…³æ³¨ç‚¹</strong>åŸåˆ™ï¼Œæˆ‘å°†æ•´ä¸ªç³»ç»Ÿåˆ†ä¸ºä¸‰ä¸ªæ ¸å¿ƒç»„ä»¶ï¼š</p>`,5)),(n(),p(e,null,{default:i(()=>[h(l,{id:"mermaid-217",class:"mermaid",graph:"classDiagram%0A%20%20%20%20class%20CanvasGenerator%20%7B%0A%20%20%20%20%20%20%20%20-html2canvas%3A%20Html2Canvas%0A%20%20%20%20%20%20%20%20-DEFAULT_CONFIG%3A%20Html2CanvasConfig%0A%20%20%20%20%20%20%20%20%2BelementToCanvas(element%2C%20options)%3A%20Promise~HTMLCanvasElement~%0A%20%20%20%20%20%20%20%20%2BcanvasToImageData(canvas%2C%20quality)%3A%20string%0A%20%20%20%20%20%20%20%20-loadHtml2Canvas()%3A%20Promise~Html2Canvas~%0A%20%20%20%20%20%20%20%20-getPresetConfig(preset)%3A%20Html2CanvasConfig%0A%20%20%20%20%20%20%20%20-validateCanvas(canvas)%3A%20void%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20class%20PDFGenerator%20%7B%0A%20%20%20%20%20%20%20%20-jsPDF%3A%20JsPDF%0A%20%20%20%20%20%20%20%20-FORMAT_DIMENSIONS%3A%20Record%0A%20%20%20%20%20%20%20%20-UNIT_CONVERSION%3A%20Record%0A%20%20%20%20%20%20%20%20%2BcreatePDF(config)%3A%20Promise~JsPDFInstance~%0A%20%20%20%20%20%20%20%20%2BaddImageToPDF(pdf%2C%20imageData%2C%20canvas%2C%20config)%3A%20ImageLayout%0A%20%20%20%20%20%20%20%20%2BsavePDF(pdf%2C%20filename)%3A%20void%0A%20%20%20%20%20%20%20%20-getPDFPageDimensions(config)%3A%20Size%0A%20%20%20%20%20%20%20%20-calculateImageLayout(page%2C%20canvas%2C%20fillMode)%3A%20ImageLayout%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20class%20VueToPDFExporter%20%7B%0A%20%20%20%20%20%20%20%20-canvasGenerator%3A%20CanvasGenerator%0A%20%20%20%20%20%20%20%20-pdfGenerator%3A%20PDFGenerator%0A%20%20%20%20%20%20%20%20%2Bexport(element%2C%20config%2C%20onProgress)%3A%20Promise~ExportResult~%0A%20%20%20%20%20%20%20%20-validateInput(element)%3A%20void%0A%20%20%20%20%20%20%20%20-normalizeConfig(config)%3A%20ExportConfig%0A%20%20%20%20%20%20%20%20-generateCanvas(element%2C%20config)%3A%20Promise~HTMLCanvasElement~%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20VueToPDFExporter%20--%3E%20CanvasGenerator%0A%20%20%20%20VueToPDFExporter%20--%3E%20PDFGenerator%0A%20%20%20%20%0A%20%20%20%20class%20usePDFExport%20%7B%0A%20%20%20%20%20%20%20%20-exporter%3A%20VueToPDFExporter%0A%20%20%20%20%20%20%20%20%2BexportToPDF(element%2C%20config)%3A%20Promise~ExportResult~%0A%20%20%20%20%20%20%20%20%2BisExporting%3A%20ComputedRef~boolean~%0A%20%20%20%20%20%20%20%20%2BexportProgress%3A%20ComputedRef~number~%0A%20%20%20%20%20%20%20%20%2BexportMessage%3A%20ComputedRef~string~%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20usePDFExport%20--%3E%20VueToPDFExporter%0A"})]),fallback:i(()=>[...s[3]||(s[3]=[a(" Loading... ",-1)])]),_:1})),s[16]||(s[16]=t("h3",{id:"ç¬¬ä¸‰æ­¥-é”™è¯¯å¤„ç†ä¸å¼‚å¸¸è®¾è®¡",tabindex:"-1"},[a("ç¬¬ä¸‰æ­¥ï¼šé”™è¯¯å¤„ç†ä¸å¼‚å¸¸è®¾è®¡ "),t("a",{class:"header-anchor",href:"#ç¬¬ä¸‰æ­¥-é”™è¯¯å¤„ç†ä¸å¼‚å¸¸è®¾è®¡","aria-label":'Permalink to "ç¬¬ä¸‰æ­¥ï¼šé”™è¯¯å¤„ç†ä¸å¼‚å¸¸è®¾è®¡"'},"â€‹")],-1)),s[17]||(s[17]=t("p",null,[a("åœ¨è½¯ä»¶å·¥ç¨‹ä¸­ï¼Œ"),t("strong",null,"é˜²å¾¡æ€§ç¼–ç¨‹"),a("æ˜¯é‡è¦åŸåˆ™ã€‚æˆ‘åœ¨æ¯ä¸ªå…³é”®èŠ‚ç‚¹éƒ½åŠ å…¥äº†é”™è¯¯å¤„ç†ï¼š")],-1)),(n(),p(e,null,{default:i(()=>[h(l,{id:"mermaid-224",class:"mermaid",graph:"flowchart%20TD%0A%20%20%20%20A%5B%E5%BC%80%E5%A7%8B%E5%AF%BC%E5%87%BA%5D%20--%3E%20B%7B%E8%BE%93%E5%85%A5%E9%AA%8C%E8%AF%81%7D%0A%20%20%20%20B%20--%3E%7C%E5%A4%B1%E8%B4%A5%7C%20C%5B%E6%8A%9B%E5%87%BA%E8%BE%93%E5%85%A5%E9%94%99%E8%AF%AF%5D%0A%20%20%20%20B%20--%3E%7C%E6%88%90%E5%8A%9F%7C%20D%5B%E7%94%9F%E6%88%90Canvas%5D%0A%20%20%20%20%0A%20%20%20%20D%20--%3E%20E%7BCanvas%E7%94%9F%E6%88%90%7D%0A%20%20%20%20E%20--%3E%7C%E5%A4%B1%E8%B4%A5%7C%20F%5B%E6%8A%9B%E5%87%BACanvas%E9%94%99%E8%AF%AF%5D%0A%20%20%20%20E%20--%3E%7C%E6%88%90%E5%8A%9F%7C%20G%5B%E5%A4%84%E7%90%86%E5%9B%BE%E5%83%8F%E6%95%B0%E6%8D%AE%5D%0A%20%20%20%20%0A%20%20%20%20G%20--%3E%20H%7B%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86%7D%0A%20%20%20%20H%20--%3E%7C%E5%A4%B1%E8%B4%A5%7C%20I%5B%E6%8A%9B%E5%87%BA%E5%9B%BE%E5%83%8F%E9%94%99%E8%AF%AF%5D%0A%20%20%20%20H%20--%3E%7C%E6%88%90%E5%8A%9F%7C%20J%5B%E5%88%9B%E5%BB%BAPDF%5D%0A%20%20%20%20%0A%20%20%20%20J%20--%3E%20K%7BPDF%E5%88%9B%E5%BB%BA%7D%0A%20%20%20%20K%20--%3E%7C%E5%A4%B1%E8%B4%A5%7C%20L%5B%E6%8A%9B%E5%87%BAPDF%E9%94%99%E8%AF%AF%5D%0A%20%20%20%20K%20--%3E%7C%E6%88%90%E5%8A%9F%7C%20M%5B%E4%BF%9D%E5%AD%98%E6%96%87%E4%BB%B6%5D%0A%20%20%20%20%0A%20%20%20%20M%20--%3E%20N%5B%E8%BF%94%E5%9B%9E%E6%88%90%E5%8A%9F%E7%BB%93%E6%9E%9C%5D%0A%20%20%20%20%0A%20%20%20%20C%20--%3E%20O%5B%E6%9E%84%E5%BB%BA%E9%94%99%E8%AF%AF%E7%BB%93%E6%9E%9C%5D%0A%20%20%20%20F%20--%3E%20O%0A%20%20%20%20I%20--%3E%20O%0A%20%20%20%20L%20--%3E%20O%0A%20%20%20%20O%20--%3E%20P%5B%E8%BF%94%E5%9B%9E%E5%A4%B1%E8%B4%A5%E7%BB%93%E6%9E%9C%5D%0A%20%20%20%20%0A%20%20%20%20style%20C%20fill%3A%23f44336%0A%20%20%20%20style%20F%20fill%3A%23f44336%0A%20%20%20%20style%20I%20fill%3A%23f44336%0A%20%20%20%20style%20L%20fill%3A%23f44336%0A%20%20%20%20style%20N%20fill%3A%234caf50%0A%20%20%20%20style%20P%20fill%3A%23ff5722%0A"})]),fallback:i(()=>[...s[4]||(s[4]=[a(" Loading... ",-1)])]),_:1})),s[18]||(s[18]=t("h3",{id:"ç¬¬å››æ­¥-é…ç½®ç³»ç»Ÿè®¾è®¡",tabindex:"-1"},[a("ç¬¬å››æ­¥ï¼šé…ç½®ç³»ç»Ÿè®¾è®¡ "),t("a",{class:"header-anchor",href:"#ç¬¬å››æ­¥-é…ç½®ç³»ç»Ÿè®¾è®¡","aria-label":'Permalink to "ç¬¬å››æ­¥ï¼šé…ç½®ç³»ç»Ÿè®¾è®¡"'},"â€‹")],-1)),s[19]||(s[19]=t("p",null,[a("æˆ‘é‡‡ç”¨äº†"),t("strong",null,"è£…é¥°å™¨æ¨¡å¼"),a("æ¥å¤„ç†é…ç½®çš„å±‚å±‚å¢å¼ºï¼š")],-1)),(n(),p(e,null,{default:i(()=>[h(l,{id:"mermaid-231",class:"mermaid",graph:"flowchart%20LR%0A%20%20%20%20A%5B%E9%BB%98%E8%AE%A4%E9%85%8D%E7%BD%AE%5D%20--%3E%20B%5B%E9%A2%84%E8%AE%BE%E9%85%8D%E7%BD%AE%5D%0A%20%20%20%20B%20--%3E%20C%5B%E5%85%83%E7%B4%A0%E8%87%AA%E9%80%82%E5%BA%94%E9%85%8D%E7%BD%AE%5D%0A%20%20%20%20C%20--%3E%20D%5B%E7%94%A8%E6%88%B7%E8%87%AA%E5%AE%9A%E4%B9%89%E9%85%8D%E7%BD%AE%5D%0A%20%20%20%20D%20--%3E%20E%5B%E6%9C%80%E7%BB%88%E9%85%8D%E7%BD%AE%5D%0A%20%20%20%20%0A%20%20%20%20style%20A%20fill%3A%23e3f2fd%0A%20%20%20%20style%20B%20fill%3A%23bbdefb%0A%20%20%20%20style%20C%20fill%3A%2390caf9%0A%20%20%20%20style%20D%20fill%3A%2364b5f6%0A%20%20%20%20style%20E%20fill%3A%2342a5f5%0A"})]),fallback:i(()=>[...s[5]||(s[5]=[a(" Loading... ",-1)])]),_:1})),s[20]||(s[20]=k(`<p>è¿™ç§è®¾è®¡è®©é…ç½®æ—¢æœ‰åˆç†çš„é»˜è®¤å€¼ï¼Œåˆä¿æŒé«˜åº¦çš„å¯å®šåˆ¶æ€§ã€‚</p><h3 id="ç¬¬äº”æ­¥-vueé›†æˆå±‚è®¾è®¡" tabindex="-1">ç¬¬äº”æ­¥ï¼šVueé›†æˆå±‚è®¾è®¡ <a class="header-anchor" href="#ç¬¬äº”æ­¥-vueé›†æˆå±‚è®¾è®¡" aria-label="Permalink to &quot;ç¬¬äº”æ­¥ï¼šVueé›†æˆå±‚è®¾è®¡&quot;">â€‹</a></h3><p>ä¸ºäº†æ›´å¥½åœ°é›†æˆåˆ°Vueç”Ÿæ€ç³»ç»Ÿä¸­ï¼Œæˆ‘è®¾è®¡äº†å“åº”å¼çš„Hookï¼š</p><div class="language-ts vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { ref, computed } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vue&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { ExportConfig, ExportResult } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;~/utils/pdf/type&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { VueToPDFExporter } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;~/utils/pdf&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> usePDFExport</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> isExporting</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ref</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> exportProgress</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ref</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> exportMessage</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ref</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> lastResult</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ref</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ExportResult</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> exporter</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> VueToPDFExporter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> exportToPDF</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">        element</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> HTMLElement</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> HTMLElement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">        config</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ExportConfig</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    )</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ExportResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            isExporting.value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            // è·å–ç›®æ ‡å…ƒç´ </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> targetElement</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> element </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;function&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ?</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> element</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> element;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">targetElement) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;æœªæ‰¾åˆ°ç›®æ ‡å…ƒç´ &#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            // æ‰§è¡Œå¯¼å‡º</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> result</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> exporter.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(targetElement, config, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">progress</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                exportProgress.value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> progress.percentage;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                exportMessage.value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> progress.message;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            lastResult.value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> result;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> result;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (error) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> errorResult</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ExportResult</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                success: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                error: error.message,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            lastResult.value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> errorResult;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> errorResult;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">finally</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            isExporting.value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            // å»¶è¿Ÿé‡ç½®è¿›åº¦</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            setTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                exportProgress.value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                exportMessage.value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            }, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    };</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // çŠ¶æ€</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        isExporting: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">computed</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> isExporting.value),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        exportProgress: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">computed</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> exportProgress.value),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        exportMessage: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">computed</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> exportMessage.value),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        lastResult: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">computed</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lastResult.value),</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // æ–¹æ³•</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        exportToPDF,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br></div></div><h2 id="ğŸ“Š-ç³»ç»Ÿæµç¨‹å›¾" tabindex="-1">ğŸ“Š ç³»ç»Ÿæµç¨‹å›¾ <a class="header-anchor" href="#ğŸ“Š-ç³»ç»Ÿæµç¨‹å›¾" aria-label="Permalink to &quot;ğŸ“Š ç³»ç»Ÿæµç¨‹å›¾&quot;">â€‹</a></h2><p>æ•´ä¸ªPDFå¯¼å‡ºçš„å®Œæ•´æµç¨‹å¦‚ä¸‹ï¼š</p>`,6)),(n(),p(e,null,{default:i(()=>[h(l,{id:"mermaid-248",class:"mermaid",graph:"sequenceDiagram%0A%20%20%20%20participant%20User%20as%20%E7%94%A8%E6%88%B7%0A%20%20%20%20participant%20Hook%20as%20usePDFExport%0A%20%20%20%20participant%20Exporter%20as%20VueToPDFExporter%0A%20%20%20%20participant%20Canvas%20as%20CanvasGenerator%0A%20%20%20%20participant%20PDF%20as%20PDFGenerator%0A%20%20%20%20participant%20Browser%20as%20%E6%B5%8F%E8%A7%88%E5%99%A8%0A%20%20%20%20%0A%20%20%20%20User-%3E%3EHook%3A%20%E8%B0%83%E7%94%A8exportToPDF()%0A%20%20%20%20Hook-%3E%3EHook%3A%20%E8%AE%BE%E7%BD%AEloading%E7%8A%B6%E6%80%81%0A%20%20%20%20Hook-%3E%3EExporter%3A%20export(element%2C%20config)%0A%20%20%20%20%0A%20%20%20%20Exporter-%3E%3EExporter%3A%20%E9%AA%8C%E8%AF%81%E8%BE%93%E5%85%A5%E5%8F%82%E6%95%B0%0A%20%20%20%20Exporter-%3E%3EHook%3A%20%E8%BF%9B%E5%BA%A6%E5%9B%9E%E8%B0%83(20%25%2C%20%22%E6%AD%A3%E5%9C%A8%E6%8D%95%E8%8E%B7%E9%A1%B5%E9%9D%A2%E5%86%85%E5%AE%B9...%22)%0A%20%20%20%20Exporter-%3E%3ECanvas%3A%20elementToCanvas(element)%0A%20%20%20%20%0A%20%20%20%20Canvas-%3E%3ECanvas%3A%20%E5%8A%A0%E8%BD%BDhtml2canvas%E5%BA%93%0A%20%20%20%20Canvas-%3E%3ECanvas%3A%20%E5%90%88%E5%B9%B6%E9%85%8D%E7%BD%AE%E9%80%89%E9%A1%B9%0A%20%20%20%20Canvas-%3E%3EBrowser%3A%20html2canvas(element%2C%20config)%0A%20%20%20%20Browser--%3E%3ECanvas%3A%20%E8%BF%94%E5%9B%9ECanvas%E5%AF%B9%E8%B1%A1%0A%20%20%20%20Canvas--%3E%3EExporter%3A%20%E8%BF%94%E5%9B%9ECanvas%0A%20%20%20%20%0A%20%20%20%20Exporter-%3E%3EHook%3A%20%E8%BF%9B%E5%BA%A6%E5%9B%9E%E8%B0%83(50%25%2C%20%22%E6%AD%A3%E5%9C%A8%E5%A4%84%E7%90%86%E5%9B%BE%E5%83%8F%E6%95%B0%E6%8D%AE...%22)%0A%20%20%20%20Exporter-%3E%3ECanvas%3A%20canvasToImageData(canvas)%0A%20%20%20%20Canvas--%3E%3EExporter%3A%20%E8%BF%94%E5%9B%9E%E5%9B%BE%E5%83%8F%E6%95%B0%E6%8D%AE%0A%20%20%20%20%0A%20%20%20%20Exporter-%3E%3EHook%3A%20%E8%BF%9B%E5%BA%A6%E5%9B%9E%E8%B0%83(70%25%2C%20%22%E6%AD%A3%E5%9C%A8%E7%94%9F%E6%88%90PDF%E6%96%87%E6%A1%A3...%22)%0A%20%20%20%20Exporter-%3E%3EPDF%3A%20createPDF(config)%0A%20%20%20%20PDF-%3E%3EPDF%3A%20%E5%8A%A0%E8%BD%BDjsPDF%E5%BA%93%0A%20%20%20%20PDF--%3E%3EExporter%3A%20%E8%BF%94%E5%9B%9EPDF%E5%AE%9E%E4%BE%8B%0A%20%20%20%20%0A%20%20%20%20Exporter-%3E%3EHook%3A%20%E8%BF%9B%E5%BA%A6%E5%9B%9E%E8%B0%83(85%25%2C%20%22%E6%AD%A3%E5%9C%A8%E6%B7%BB%E5%8A%A0%E5%86%85%E5%AE%B9%E5%88%B0PDF...%22)%0A%20%20%20%20Exporter-%3E%3EPDF%3A%20addImageToPDF(pdf%2C%20imageData%2C%20canvas%2C%20config)%0A%20%20%20%20PDF-%3E%3EPDF%3A%20%E8%AE%A1%E7%AE%97%E5%B8%83%E5%B1%80%0A%20%20%20%20PDF-%3E%3EPDF%3A%20%E6%B7%BB%E5%8A%A0%E5%9B%BE%E5%83%8F%E5%88%B0PDF%0A%20%20%20%20PDF--%3E%3EExporter%3A%20%E8%BF%94%E5%9B%9E%E5%B8%83%E5%B1%80%E4%BF%A1%E6%81%AF%0A%20%20%20%20%0A%20%20%20%20Exporter-%3E%3EHook%3A%20%E8%BF%9B%E5%BA%A6%E5%9B%9E%E8%B0%83(95%25%2C%20%22%E6%AD%A3%E5%9C%A8%E4%B8%8B%E8%BD%BD%E6%96%87%E4%BB%B6...%22)%0A%20%20%20%20Exporter-%3E%3EPDF%3A%20savePDF(pdf%2C%20filename)%0A%20%20%20%20PDF-%3E%3EBrowser%3A%20%E8%A7%A6%E5%8F%91%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD%0A%20%20%20%20%0A%20%20%20%20Exporter-%3E%3EHook%3A%20%E8%BF%9B%E5%BA%A6%E5%9B%9E%E8%B0%83(100%25%2C%20%22%E5%AF%BC%E5%87%BA%E5%AE%8C%E6%88%90!%22)%0A%20%20%20%20Exporter--%3E%3EHook%3A%20%E8%BF%94%E5%9B%9E%E5%AF%BC%E5%87%BA%E7%BB%93%E6%9E%9C%0A%20%20%20%20Hook-%3E%3EHook%3A%20%E9%87%8D%E7%BD%AE%E7%8A%B6%E6%80%81%0A%20%20%20%20Hook--%3E%3EUser%3A%20%E8%BF%94%E5%9B%9E%E7%BB%93%E6%9E%9C%0A"})]),fallback:i(()=>[...s[6]||(s[6]=[a(" Loading... ",-1)])]),_:1})),s[21]||(s[21]=k(`<h2 id="ğŸ’¡-å…³é”®æŠ€æœ¯å†³ç­–" tabindex="-1">ğŸ’¡ å…³é”®æŠ€æœ¯å†³ç­– <a class="header-anchor" href="#ğŸ’¡-å…³é”®æŠ€æœ¯å†³ç­–" aria-label="Permalink to &quot;ğŸ’¡ å…³é”®æŠ€æœ¯å†³ç­–&quot;">â€‹</a></h2><h3 id="_1-ä¸ºä»€ä¹ˆé€‰æ‹©ç»„åˆè€Œéç»§æ‰¿" tabindex="-1">1. ä¸ºä»€ä¹ˆé€‰æ‹©ç»„åˆè€Œéç»§æ‰¿ï¼Ÿ <a class="header-anchor" href="#_1-ä¸ºä»€ä¹ˆé€‰æ‹©ç»„åˆè€Œéç»§æ‰¿" aria-label="Permalink to &quot;1. ä¸ºä»€ä¹ˆé€‰æ‹©ç»„åˆè€Œéç»§æ‰¿ï¼Ÿ&quot;">â€‹</a></h3><p>åœ¨é¢å‘å¯¹è±¡è®¾è®¡ä¸­ï¼Œæˆ‘éµå¾ªäº†<strong>ç»„åˆä¼˜äºç»§æ‰¿</strong>çš„åŸåˆ™ï¼š</p><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// âœ… ä½¿ç”¨ç»„åˆ</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> VueToPDFExporter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    private</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> readonly</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> canvasGenerator</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> CanvasGenerator</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    private</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> readonly</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> pdfGenerator</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PDFGenerator</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// âŒ é¿å…å¤æ‚çš„ç»§æ‰¿å±‚æ¬¡</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// class VueToPDFExporter extends BaseExporter extends EventEmitter { ... }</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>ä¼˜åŠ¿åˆ†æï¼š</strong></p><ul><li>ğŸ”¸ <strong>çµæ´»æ€§</strong>ï¼šå¯ä»¥ç‹¬ç«‹æ›¿æ¢æˆ–å‡çº§ç»„ä»¶</li><li>ğŸ”¸ <strong>å¯æµ‹è¯•æ€§</strong>ï¼šæ¯ä¸ªç»„ä»¶å¯ä»¥ç‹¬ç«‹æµ‹è¯•</li><li>ğŸ”¸ <strong>å¯ç»´æŠ¤æ€§</strong>ï¼šå‡å°‘ç±»é—´è€¦åˆ</li><li>ğŸ”¸ <strong>å¯æ‰©å±•æ€§</strong>ï¼šå®¹æ˜“æ·»åŠ æ–°åŠŸèƒ½</li></ul><h3 id="_2-å¼‚æ­¥æ“ä½œçš„é”™è¯¯å¤„ç†ç­–ç•¥" tabindex="-1">2. å¼‚æ­¥æ“ä½œçš„é”™è¯¯å¤„ç†ç­–ç•¥ <a class="header-anchor" href="#_2-å¼‚æ­¥æ“ä½œçš„é”™è¯¯å¤„ç†ç­–ç•¥" aria-label="Permalink to &quot;2. å¼‚æ­¥æ“ä½œçš„é”™è¯¯å¤„ç†ç­–ç•¥&quot;">â€‹</a></h3><p>æˆ‘é‡‡ç”¨äº†<strong>ç»Ÿä¸€é”™è¯¯å¤„ç†</strong>æ¨¡å¼ï¼š</p>`,8)),(n(),p(e,null,{default:i(()=>[h(l,{id:"mermaid-290",class:"mermaid",graph:"graph%20TD%0A%20%20%20%20A%5B%E5%BC%82%E6%AD%A5%E6%93%8D%E4%BD%9C%5D%20--%3E%20B%7B%E6%98%AF%E5%90%A6%E6%88%90%E5%8A%9F%3F%7D%0A%20%20%20%20B%20--%3E%7C%E6%88%90%E5%8A%9F%7C%20C%5B%E6%9E%84%E5%BB%BA%E6%88%90%E5%8A%9F%E7%BB%93%E6%9E%9C%5D%0A%20%20%20%20B%20--%3E%7C%E5%A4%B1%E8%B4%A5%7C%20D%5B%E6%8D%95%E8%8E%B7%E5%BC%82%E5%B8%B8%5D%0A%20%20%20%20%0A%20%20%20%20D%20--%3E%20E%7B%E5%BC%82%E5%B8%B8%E7%B1%BB%E5%9E%8B%7D%0A%20%20%20%20E%20--%3E%7C%E5%B7%B2%E7%9F%A5%E5%BC%82%E5%B8%B8%7C%20F%5B%E6%9E%84%E5%BB%BA%E4%B8%9A%E5%8A%A1%E9%94%99%E8%AF%AF%5D%0A%20%20%20%20E%20--%3E%7C%E6%9C%AA%E7%9F%A5%E5%BC%82%E5%B8%B8%7C%20G%5B%E6%9E%84%E5%BB%BA%E7%B3%BB%E7%BB%9F%E9%94%99%E8%AF%AF%5D%0A%20%20%20%20%0A%20%20%20%20F%20--%3E%20H%5B%E8%BF%94%E5%9B%9E%E9%94%99%E8%AF%AF%E7%BB%93%E6%9E%9C%5D%0A%20%20%20%20G%20--%3E%20H%0A%20%20%20%20C%20--%3E%20I%5B%E8%BF%94%E5%9B%9E%E6%88%90%E5%8A%9F%E7%BB%93%E6%9E%9C%5D%0A%20%20%20%20%0A%20%20%20%20style%20C%20fill%3A%234caf50%0A%20%20%20%20style%20F%20fill%3A%23ff9800%0A%20%20%20%20style%20G%20fill%3A%23f44336%0A%20%20%20%20style%20I%20fill%3A%234caf50%0A%20%20%20%20style%20H%20fill%3A%23ff5722%0A"})]),fallback:i(()=>[...s[7]||(s[7]=[a(" Loading... ",-1)])]),_:1})),s[22]||(s[22]=k(`<h3 id="_3-é…ç½®ç®¡ç†çš„æœ€ä½³å®è·µ" tabindex="-1">3. é…ç½®ç®¡ç†çš„æœ€ä½³å®è·µ <a class="header-anchor" href="#_3-é…ç½®ç®¡ç†çš„æœ€ä½³å®è·µ" aria-label="Permalink to &quot;3. é…ç½®ç®¡ç†çš„æœ€ä½³å®è·µ&quot;">â€‹</a></h3><p>æˆ‘ä½¿ç”¨äº†<strong>é…ç½®åˆå¹¶ç­–ç•¥</strong>æ¥å¤„ç†å¤æ‚çš„é…ç½®éœ€æ±‚ï¼š</p><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">private </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mergeConfigs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">configs: Html2CanvasConfig[]): Html2CanvasConfig {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> configs.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reduce</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">merged</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ({ </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">merged, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">config }), {});</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>è¿™ç§æ–¹å¼å…·æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š</p><ul><li>ğŸ¯ <strong>é»˜è®¤å€¼ä¿åº•</strong>ï¼šç¡®ä¿æ‰€æœ‰é…ç½®éƒ½æœ‰åˆç†é»˜è®¤å€¼</li><li>ğŸ¨ <strong>ç”¨æˆ·å¯å®šåˆ¶</strong>ï¼šå…è®¸ç”¨æˆ·è¦†ç›–ä»»ä½•é…ç½®</li><li>ğŸ”§ <strong>é¢„è®¾æ”¯æŒ</strong>ï¼šæä¾›å¸¸ç”¨åœºæ™¯çš„é¢„è®¾é…ç½®</li><li>ğŸ›¡ï¸ <strong>ç±»å‹å®‰å…¨</strong>ï¼šTypeScriptç¡®ä¿é…ç½®çš„ç±»å‹æ­£ç¡®æ€§</li></ul><h2 id="ğŸš€-ä½¿ç”¨ç¤ºä¾‹" tabindex="-1">ğŸš€ ä½¿ç”¨ç¤ºä¾‹ <a class="header-anchor" href="#ğŸš€-ä½¿ç”¨ç¤ºä¾‹" aria-label="Permalink to &quot;ğŸš€ ä½¿ç”¨ç¤ºä¾‹&quot;">â€‹</a></h2><p>åŸºäºä»¥ä¸Šæ¶æ„è®¾è®¡ï¼Œç”¨æˆ·å¯ä»¥éå¸¸ç®€å•åœ°ä½¿ç”¨è¿™ä¸ªå·¥å…·ï¼š</p><h3 id="åŸºç¡€ç”¨æ³•" tabindex="-1">åŸºç¡€ç”¨æ³• <a class="header-anchor" href="#åŸºç¡€ç”¨æ³•" aria-label="Permalink to &quot;åŸºç¡€ç”¨æ³•&quot;">â€‹</a></h3><div class="language-vue vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    &lt;!-- è¦å¯¼å‡ºçš„å†…å®¹ --&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ref</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;contentRef&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;export-content&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">h1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;æˆ‘çš„æŠ¥å‘Š&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">h1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;è¿™æ˜¯è¦å¯¼å‡ºåˆ°PDFçš„å†…å®¹...&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">chart-component</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> :data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;chartData&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    &lt;!-- å¯¼å‡ºæŒ‰é’® --&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">button</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      @click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;handleExport&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      :disabled</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;isExporting&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;export-btn&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      {{ isExporting ? \`å¯¼å‡ºä¸­ \${exportProgress}%\` : &#39;å¯¼å‡ºPDF&#39; }}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">button</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    &lt;!-- è¿›åº¦æç¤º --&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> v-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;isExporting&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;progress-info&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      {{ exportMessage }}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { ref } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vue&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { usePDFExport } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@/composables/usePDFExport&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> contentRef</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ref</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exportToPDF</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">isExporting</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exportProgress</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exportMessage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> usePDFExport</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> handleExport</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> result</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> exportToPDF</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(contentRef.value, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    filename: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;æˆ‘çš„æŠ¥å‘Š.pdf&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    format: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;a4&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    orientation: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;portrait&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    quality: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.95</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    margins: { top: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, right: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, bottom: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, left: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (result.success) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;å¯¼å‡ºæˆåŠŸï¼&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, result)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;å¯¼å‡ºå¤±è´¥ï¼š&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, result.error)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br></div></div><h3 id="é«˜çº§ç”¨æ³•" tabindex="-1">é«˜çº§ç”¨æ³• <a class="header-anchor" href="#é«˜çº§ç”¨æ³•" aria-label="Permalink to &quot;é«˜çº§ç”¨æ³•&quot;">â€‹</a></h3><div class="language-vue vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> handleAdvancedExport</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> result</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> exportToPDF</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">querySelector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;.complex-content&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      filename: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;é«˜çº§æŠ¥å‘Š.pdf&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      format: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;custom&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      customSize: { width: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">800</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, height: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1200</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, unit: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;px&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      fillMode: FillMode.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">COVER</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      html2canvasOptions: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        preset: CanvasPreset.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">HIGH_QUALITY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        scale: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        useCORS: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        backgroundColor: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;#ffffff&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      jsPDFOptions: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        compress: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        precision: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">16</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h2 id="âš¡-æ€§èƒ½ä¼˜åŒ–" tabindex="-1">âš¡ æ€§èƒ½ä¼˜åŒ– <a class="header-anchor" href="#âš¡-æ€§èƒ½ä¼˜åŒ–" aria-label="Permalink to &quot;âš¡ æ€§èƒ½ä¼˜åŒ–&quot;">â€‹</a></h2><h3 id="_1-æ‡’åŠ è½½ç¬¬ä¸‰æ–¹åº“" tabindex="-1">1. æ‡’åŠ è½½ç¬¬ä¸‰æ–¹åº“ <a class="header-anchor" href="#_1-æ‡’åŠ è½½ç¬¬ä¸‰æ–¹åº“" aria-label="Permalink to &quot;1. æ‡’åŠ è½½ç¬¬ä¸‰æ–¹åº“&quot;">â€‹</a></h3><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åŠ¨æ€å¯¼å…¥ï¼Œå‡å°‘åˆå§‹åŒ…å¤§å°</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">private async </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">loadHtml2Canvas</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Promise</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Html2Canvas</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (!this.html2canvas) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> module</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;html2canvas&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.html2canvas </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.default;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    return this.html2canvas;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="_2-å†…å­˜ç®¡ç†" tabindex="-1">2. å†…å­˜ç®¡ç† <a class="header-anchor" href="#_2-å†…å­˜ç®¡ç†" aria-label="Permalink to &quot;2. å†…å­˜ç®¡ç†&quot;">â€‹</a></h3>`,15)),(n(),p(e,null,{default:i(()=>[h(l,{id:"mermaid-347",class:"mermaid",graph:"graph%20LR%0A%20%20%20%20A%5B%E7%94%9F%E6%88%90Canvas%5D%20--%3E%20B%5B%E6%8F%90%E5%8F%96%E5%9B%BE%E5%83%8F%E6%95%B0%E6%8D%AE%5D%0A%20%20%20%20B%20--%3E%20C%5B%E5%88%9B%E5%BB%BAPDF%5D%0A%20%20%20%20C%20--%3E%20D%5B%E6%B8%85%E7%90%86Canvas%E5%BC%95%E7%94%A8%5D%0A%20%20%20%20D%20--%3E%20E%5B%E8%A7%A6%E5%8F%91%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%5D%0A%20%20%20%20%0A%20%20%20%20style%20D%20fill%3A%23ff9800%0A%20%20%20%20style%20E%20fill%3A%234caf50%0A"})]),fallback:i(()=>[...s[8]||(s[8]=[a(" Loading... ",-1)])]),_:1})),s[23]||(s[23]=k(`<h3 id="_3-é…ç½®ç¼“å­˜" tabindex="-1">3. é…ç½®ç¼“å­˜ <a class="header-anchor" href="#_3-é…ç½®ç¼“å­˜" aria-label="Permalink to &quot;3. é…ç½®ç¼“å­˜&quot;">â€‹</a></h3><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç¼“å­˜é¢„è®¾é…ç½®ï¼Œé¿å…é‡å¤è®¡ç®—</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">private static readonly </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">DEFAULT_CONFIG</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: Html2CanvasConfig </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    scale: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    useCORS: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="ğŸ§ª-æµ‹è¯•ç­–ç•¥" tabindex="-1">ğŸ§ª æµ‹è¯•ç­–ç•¥ <a class="header-anchor" href="#ğŸ§ª-æµ‹è¯•ç­–ç•¥" aria-label="Permalink to &quot;ğŸ§ª æµ‹è¯•ç­–ç•¥&quot;">â€‹</a></h2>`,3)),(n(),p(e,null,{default:i(()=>[h(l,{id:"mermaid-355",class:"mermaid",graph:"pyramid%0A%20%20%20%20title%20%E6%B5%8B%E8%AF%95%E9%87%91%E5%AD%97%E5%A1%94%0A%20%20%20%20%0A%20%20%20%20E2E%E6%B5%8B%E8%AF%95%0A%20%20%20%20%E9%9B%86%E6%88%90%E6%B5%8B%E8%AF%95%0A%20%20%20%20%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%0A"})]),fallback:i(()=>[...s[9]||(s[9]=[a(" Loading... ",-1)])]),_:1})),s[24]||(s[24]=k(`<h3 id="å•å…ƒæµ‹è¯•ç¤ºä¾‹" tabindex="-1">å•å…ƒæµ‹è¯•ç¤ºä¾‹ <a class="header-anchor" href="#å•å…ƒæµ‹è¯•ç¤ºä¾‹" aria-label="Permalink to &quot;å•å…ƒæµ‹è¯•ç¤ºä¾‹&quot;">â€‹</a></h3><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">describe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;PDFGenerator&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> generator</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PDFGenerator</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  beforeEach</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    generator </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PDFGenerator</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  describe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;calculateImageLayout&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    it</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;should calculate correct layout for FIT mode&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> pageDimensions</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { width: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">595</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, height: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">842</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> };</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> canvasDimensions</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { width: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">800</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, height: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">600</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> layout</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> generator[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;calculateImageLayout&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">](</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        pageDimensions,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        canvasDimensions,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        FillMode.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">FIT</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      );</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(layout.scaleRatio).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toBeCloseTo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.744</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(layout.finalWidth).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toBeCloseTo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">595</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h2 id="ğŸ“ˆ-ç›‘æ§ä¸æ—¥å¿—" tabindex="-1">ğŸ“ˆ ç›‘æ§ä¸æ—¥å¿— <a class="header-anchor" href="#ğŸ“ˆ-ç›‘æ§ä¸æ—¥å¿—" aria-label="Permalink to &quot;ğŸ“ˆ ç›‘æ§ä¸æ—¥å¿—&quot;">â€‹</a></h2><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">private </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">logLayoutInfo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(layout: ImageLayout): </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">group</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ğŸ“„ PDFå¸ƒå±€ä¿¡æ¯&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">table</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        é¡µé¢å°ºå¯¸: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">layout</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">pageWidth</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toFixed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">} Ã— \${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">layout</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">pageHeight</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toFixed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">} pt\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Canvaså°ºå¯¸: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">layout</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">canvasWidth</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">} Ã— \${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">layout</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">canvasHeight</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">} px\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        æœ€ç»ˆå›¾ç‰‡å°ºå¯¸: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">layout</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">finalWidth</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toFixed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">} Ã— \${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">layout</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">finalHeight</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toFixed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">} pt\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ä½ç½®åç§»: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`(\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">layout</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">x</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toFixed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}, \${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">layout</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">y</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toFixed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">})\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ç¼©æ”¾æ¯”ä¾‹: layout.scaleRatio.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toFixed</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        å¡«å……æ¨¡å¼: layout.fillMode,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">groupEnd</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="ğŸ”„-æ‰©å±•æ€§è®¾è®¡" tabindex="-1">ğŸ”„ æ‰©å±•æ€§è®¾è®¡ <a class="header-anchor" href="#ğŸ”„-æ‰©å±•æ€§è®¾è®¡" aria-label="Permalink to &quot;ğŸ”„ æ‰©å±•æ€§è®¾è®¡&quot;">â€‹</a></h2><h3 id="æ’ä»¶ç³»ç»Ÿæ¶æ„" tabindex="-1">æ’ä»¶ç³»ç»Ÿæ¶æ„ <a class="header-anchor" href="#æ’ä»¶ç³»ç»Ÿæ¶æ„" aria-label="Permalink to &quot;æ’ä»¶ç³»ç»Ÿæ¶æ„&quot;">â€‹</a></h3>`,6)),(n(),p(e,null,{default:i(()=>[h(l,{id:"mermaid-370",class:"mermaid",graph:"graph%20TB%0A%20%20%20%20subgraph%20%22%E6%A0%B8%E5%BF%83%E7%B3%BB%E7%BB%9F%22%0A%20%20%20%20%20%20%20%20A%5BVueToPDFExporter%5D%0A%20%20%20%20%20%20%20%20B%5BCanvasGenerator%5D%20%20%0A%20%20%20%20%20%20%20%20C%5BPDFGenerator%5D%0A%20%20%20%20end%0A%20%20%20%20%0A%20%20%20%20subgraph%20%22%E6%8F%92%E4%BB%B6%E7%B3%BB%E7%BB%9F%22%0A%20%20%20%20%20%20%20%20D%5B%E6%B0%B4%E5%8D%B0%E6%8F%92%E4%BB%B6%5D%0A%20%20%20%20%20%20%20%20E%5B%E9%A1%B5%E7%9C%89%E9%A1%B5%E8%84%9A%E6%8F%92%E4%BB%B6%5D%0A%20%20%20%20%20%20%20%20F%5B%E5%A4%9A%E9%A1%B5%E5%A4%84%E7%90%86%E6%8F%92%E4%BB%B6%5D%0A%20%20%20%20%20%20%20%20G%5B%E5%8E%8B%E7%BC%A9%E6%8F%92%E4%BB%B6%5D%0A%20%20%20%20end%0A%20%20%20%20%0A%20%20%20%20subgraph%20%22%E6%89%A9%E5%B1%95%E6%8E%A5%E5%8F%A3%22%0A%20%20%20%20%20%20%20%20H%5BBeforeCanvasPlugin%5D%0A%20%20%20%20%20%20%20%20I%5BAfterCanvasPlugin%5D%0A%20%20%20%20%20%20%20%20J%5BBeforePDFPlugin%5D%0A%20%20%20%20%20%20%20%20K%5BAfterPDFPlugin%5D%0A%20%20%20%20end%0A%20%20%20%20%0A%20%20%20%20A%20--%3E%20H%0A%20%20%20%20H%20--%3E%20D%0A%20%20%20%20H%20--%3E%20E%0A%20%20%20%20%0A%20%20%20%20A%20--%3E%20I%0A%20%20%20%20I%20--%3E%20F%0A%20%20%20%20%0A%20%20%20%20A%20--%3E%20J%0A%20%20%20%20J%20--%3E%20G%0A%20%20%20%20%0A%20%20%20%20style%20D%20fill%3A%23e1f5fe%0A%20%20%20%20style%20E%20fill%3A%23e1f5fe%0A%20%20%20%20style%20F%20fill%3A%23e1f5fe%0A%20%20%20%20style%20G%20fill%3A%23e1f5fe%0A"})]),fallback:i(()=>[...s[10]||(s[10]=[a(" Loading... ",-1)])]),_:1})),s[25]||(s[25]=k('<h2 id="ğŸ“š-æ€»ç»“ä¸åæ€" tabindex="-1">ğŸ“š æ€»ç»“ä¸åæ€ <a class="header-anchor" href="#ğŸ“š-æ€»ç»“ä¸åæ€" aria-label="Permalink to &quot;ğŸ“š æ€»ç»“ä¸åæ€&quot;">â€‹</a></h2><h3 id="æˆåŠŸç»éªŒ" tabindex="-1">æˆåŠŸç»éªŒ <a class="header-anchor" href="#æˆåŠŸç»éªŒ" aria-label="Permalink to &quot;æˆåŠŸç»éªŒ&quot;">â€‹</a></h3><ol><li><strong>åˆ†å±‚æ¶æ„</strong>ï¼šæ¸…æ™°çš„èŒè´£åˆ’åˆ†è®©ä»£ç æ˜“äºç†è§£å’Œç»´æŠ¤</li><li><strong>è®¾è®¡æ¨¡å¼</strong>ï¼šåˆç†è¿ç”¨è®¾è®¡æ¨¡å¼è§£å†³äº†å¤æ‚æ€§é—®é¢˜</li><li><strong>ç±»å‹å®‰å…¨</strong>ï¼šTypeScriptç¡®ä¿äº†ä»£ç çš„å¥å£®æ€§</li><li><strong>é”™è¯¯å¤„ç†</strong>ï¼šå®Œå–„çš„å¼‚å¸¸å¤„ç†æé«˜äº†ç”¨æˆ·ä½“éªŒ</li><li><strong>Vueé›†æˆ</strong>ï¼šå“åº”å¼Hookè®©å·¥å…·æ›´ç¬¦åˆVueç”Ÿæ€</li></ol><h3 id="æ”¹è¿›ç©ºé—´" tabindex="-1">æ”¹è¿›ç©ºé—´ <a class="header-anchor" href="#æ”¹è¿›ç©ºé—´" aria-label="Permalink to &quot;æ”¹è¿›ç©ºé—´&quot;">â€‹</a></h3><ol><li><strong>æ’ä»¶ç³»ç»Ÿ</strong>ï¼šå¯ä»¥è®¾è®¡æ’ä»¶æ¶æ„æ”¯æŒæ›´å¤šå®šåˆ¶éœ€æ±‚</li><li><strong>æ‰¹é‡å¤„ç†</strong>ï¼šæ”¯æŒå¤šä¸ªç»„ä»¶æ‰¹é‡å¯¼å‡º</li><li><strong>é¢„è§ˆåŠŸèƒ½</strong>ï¼šå¯¼å‡ºå‰æä¾›PDFé¢„è§ˆ</li><li><strong>æ¨¡æ¿ç³»ç»Ÿ</strong>ï¼šæ”¯æŒPDFæ¨¡æ¿å’Œæ ·å¼å®šåˆ¶</li><li><strong>äº‘ç«¯å¤„ç†</strong>ï¼šå¤§æ–‡ä»¶å¯ä»¥è€ƒè™‘æœåŠ¡ç«¯æ¸²æŸ“</li></ol><h3 id="æ¶æ„ä»·å€¼" tabindex="-1">æ¶æ„ä»·å€¼ <a class="header-anchor" href="#æ¶æ„ä»·å€¼" aria-label="Permalink to &quot;æ¶æ„ä»·å€¼&quot;">â€‹</a></h3>',6)),(n(),p(e,null,{default:i(()=>[h(l,{id:"mermaid-437",class:"mermaid",graph:"mindmap%0A%20%20root((%E6%9E%B6%E6%9E%84%E4%BB%B7%E5%80%BC))%0A%20%20%20%20%E5%8F%AF%E7%BB%B4%E6%8A%A4%E6%80%A7%0A%20%20%20%20%20%20%E5%8D%95%E4%B8%80%E8%81%8C%E8%B4%A3%0A%20%20%20%20%20%20%E6%9D%BE%E8%80%A6%E5%90%88%E8%AE%BE%E8%AE%A1%0A%20%20%20%20%20%20%E6%B8%85%E6%99%B0%E7%9A%84%E6%8E%A5%E5%8F%A3%0A%20%20%20%20%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7%0A%20%20%20%20%20%20%E6%8F%92%E4%BB%B6%E5%8C%96%E6%9E%B6%E6%9E%84%0A%20%20%20%20%20%20%E9%85%8D%E7%BD%AE%E9%A9%B1%E5%8A%A8%0A%20%20%20%20%20%20%E5%BC%80%E9%97%AD%E5%8E%9F%E5%88%99%0A%20%20%20%20%E5%8F%AF%E6%B5%8B%E8%AF%95%E6%80%A7%0A%20%20%20%20%20%20%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5%0A%20%20%20%20%20%20%E6%A8%A1%E5%9D%97%E5%8C%96%E8%AE%BE%E8%AE%A1%0A%20%20%20%20%20%20%E5%A5%91%E7%BA%A6%E6%8E%A5%E5%8F%A3%0A%20%20%20%20%E7%94%A8%E6%88%B7%E4%BD%93%E9%AA%8C%0A%20%20%20%20%20%20%E7%AE%80%E5%8D%95%E6%98%93%E7%94%A8%0A%20%20%20%20%20%20%E8%BF%9B%E5%BA%A6%E5%8F%8D%E9%A6%88%0A%20%20%20%20%20%20%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86%0A%20%20%20%20%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%0A%20%20%20%20%20%20%E6%87%92%E5%8A%A0%E8%BD%BD%0A%20%20%20%20%20%20%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%20%20%0A%20%20%20%20%20%20%E9%85%8D%E7%BD%AE%E7%BC%93%E5%AD%98%0A"})]),fallback:i(()=>[...s[11]||(s[11]=[a(" Loading... ",-1)])]),_:1})),s[26]||(s[26]=k("<p>é€šè¿‡è¿™æ¬¡PDFå¯¼å‡ºå·¥å…·çš„å°è£…å®è·µï¼Œæˆ‘æ·±åˆ»ä½“ä¼šåˆ°<strong>è½¯ä»¶å·¥ç¨‹æ€æƒ³</strong>åœ¨å®é™…å¼€å‘ä¸­çš„é‡è¦æ€§ã€‚åˆç†çš„æ¶æ„è®¾è®¡ä¸ä»…è®©ä»£ç æ›´åŠ å¥å£®ï¼Œä¹Ÿä¸ºåç»­çš„åŠŸèƒ½æ‰©å±•å’Œç»´æŠ¤å¥ å®šäº†è‰¯å¥½åŸºç¡€ã€‚</p><hr><p><strong>æŠ€æœ¯æ ˆ</strong>ï¼š<code>Vue 3</code> + <code>TypeScript</code> + <code>html2canvas</code> + <code>jsPDF</code> + <code>è½¯ä»¶å·¥ç¨‹å®è·µ</code></p>",3))])}const C=E(g,[["render",F]]);export{u as __pageData,C as default};
