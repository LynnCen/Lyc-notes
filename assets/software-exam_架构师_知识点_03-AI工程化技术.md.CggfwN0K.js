import{_ as a,c as n,o as i,a7 as e}from"./chunks/framework.BQb8NfN9.js";const b=JSON.parse('{"title":"AI与算法工程化技术详解","description":"","frontmatter":{},"headers":[],"relativePath":"software-exam/架构师/知识点/03-AI工程化技术.md","filePath":"software-exam/架构师/知识点/03-AI工程化技术.md","lastUpdated":1770042246000}'),l={name:"software-exam/架构师/知识点/03-AI工程化技术.md"};function p(t,s,r,h,d,k){return i(),n("div",null,s[0]||(s[0]=[e(`<h1 id="ai与算法工程化技术详解" tabindex="-1">AI与算法工程化技术详解 <a class="header-anchor" href="#ai与算法工程化技术详解" aria-label="Permalink to &quot;AI与算法工程化技术详解&quot;">​</a></h1><hr><h2 id="一、ai编排平台" tabindex="-1">一、AI编排平台 <a class="header-anchor" href="#一、ai编排平台" aria-label="Permalink to &quot;一、AI编排平台&quot;">​</a></h2><h3 id="_1-1-dify" tabindex="-1">1.1 Dify <a class="header-anchor" href="#_1-1-dify" aria-label="Permalink to &quot;1.1 Dify&quot;">​</a></h3><h4 id="定义" tabindex="-1">定义 <a class="header-anchor" href="#定义" aria-label="Permalink to &quot;定义&quot;">​</a></h4><p>开源的LLMOps（大语言模型运维）平台，提供工作流编排、提示词管理、模型接入等能力。</p><h4 id="解决的问题" tabindex="-1">解决的问题 <a class="header-anchor" href="#解决的问题" aria-label="Permalink to &quot;解决的问题&quot;">​</a></h4><ul><li>直接调用大模型API复杂</li><li>提示词难以版本化管理</li><li>多模型切换困难</li></ul><h4 id="核心能力" tabindex="-1">核心能力 <a class="header-anchor" href="#核心能力" aria-label="Permalink to &quot;核心能力&quot;">​</a></h4><table tabindex="0"><thead><tr><th>能力</th><th>说明</th></tr></thead><tbody><tr><td>工作流编排</td><td>可视化编排AI处理流程</td></tr><tr><td>模型连接器</td><td>统一接入多个大模型</td></tr><tr><td>提示词管理</td><td>版本化、标签化管理</td></tr><tr><td>工具调用</td><td>Function Calling支持</td></tr><tr><td>评测系统</td><td>质量评估与监控</td></tr></tbody></table><h4 id="架构示意" tabindex="-1">架构示意 <a class="header-anchor" href="#架构示意" aria-label="Permalink to &quot;架构示意&quot;">​</a></h4><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>用户请求</span></span>
<span class="line"><span>    ↓</span></span>
<span class="line"><span>Dify编排层</span></span>
<span class="line"><span>    ↓</span></span>
<span class="line"><span>┌─────────────────────────────────┐</span></span>
<span class="line"><span>│  豆包  │  GPT-4  │  Gemini  │  Claude  │</span></span>
<span class="line"><span>└─────────────────────────────────┘</span></span>
<span class="line"><span>    ↓</span></span>
<span class="line"><span>工具链（检索、生成、后处理）</span></span>
<span class="line"><span>    ↓</span></span>
<span class="line"><span>输出结果</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><hr><h2 id="二、agent-ai代理" tabindex="-1">二、Agent（AI代理） <a class="header-anchor" href="#二、agent-ai代理" aria-label="Permalink to &quot;二、Agent（AI代理）&quot;">​</a></h2><h3 id="_2-1-定义" tabindex="-1">2.1 定义 <a class="header-anchor" href="#_2-1-定义" aria-label="Permalink to &quot;2.1 定义&quot;">​</a></h3><p>能够自主规划、调用工具、迭代执行任务的AI智能体。</p><h3 id="_2-2-解决的问题" tabindex="-1">2.2 解决的问题 <a class="header-anchor" href="#_2-2-解决的问题" aria-label="Permalink to &quot;2.2 解决的问题&quot;">​</a></h3><p>单次模型调用无法完成复杂任务，需要人工拆解和多轮交互。</p><h3 id="_2-3-agent工作流程" tabindex="-1">2.3 Agent工作流程 <a class="header-anchor" href="#_2-3-agent工作流程" aria-label="Permalink to &quot;2.3 Agent工作流程&quot;">​</a></h3><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>用户输入需求</span></span>
<span class="line"><span>    ↓</span></span>
<span class="line"><span>Agent理解意图</span></span>
<span class="line"><span>    ↓</span></span>
<span class="line"><span>制定执行计划</span></span>
<span class="line"><span>    ↓</span></span>
<span class="line"><span>┌─────────────────┐</span></span>
<span class="line"><span>│  循环执行：      │</span></span>
<span class="line"><span>│  1. 选择工具    │</span></span>
<span class="line"><span>│  2. 调用工具    │</span></span>
<span class="line"><span>│  3. 分析结果    │</span></span>
<span class="line"><span>│  4. 决定下一步  │</span></span>
<span class="line"><span>└─────────────────┘</span></span>
<span class="line"><span>    ↓</span></span>
<span class="line"><span>返回最终结果</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="_2-4-对话式作图agent示例" tabindex="-1">2.4 对话式作图Agent示例 <a class="header-anchor" href="#_2-4-对话式作图agent示例" aria-label="Permalink to &quot;2.4 对话式作图Agent示例&quot;">​</a></h3><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>用户输入：帮我做一张双十一促销海报</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Agent执行：</span></span>
<span class="line"><span>1. 理解意图 → 电商促销海报</span></span>
<span class="line"><span>2. 检索模板 → 找到相关模板</span></span>
<span class="line"><span>3. 生成素材 → AI生成文案和图片</span></span>
<span class="line"><span>4. 布局排版 → 智能排版</span></span>
<span class="line"><span>5. 预览反馈 → 展示给用户</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="_2-5-工具注册-json-schema" tabindex="-1">2.5 工具注册（JSON Schema） <a class="header-anchor" href="#_2-5-工具注册-json-schema" aria-label="Permalink to &quot;2.5 工具注册（JSON Schema）&quot;">​</a></h3><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;search_templates&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;description&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;搜索相关模板&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;parameters&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;object&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;properties&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;query&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;string&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;description&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;搜索关键词&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;category&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;string&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;description&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;模板分类&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;required&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;query&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><hr><h2 id="三、rag-retrieval-augmented-generation" tabindex="-1">三、RAG（Retrieval-Augmented Generation） <a class="header-anchor" href="#三、rag-retrieval-augmented-generation" aria-label="Permalink to &quot;三、RAG（Retrieval-Augmented Generation）&quot;">​</a></h2><h3 id="_3-1-定义" tabindex="-1">3.1 定义 <a class="header-anchor" href="#_3-1-定义" aria-label="Permalink to &quot;3.1 定义&quot;">​</a></h3><p>结合向量检索和大模型生成，先从知识库检索相关信息，再输入模型生成答案的技术。</p><h3 id="_3-2-解决的问题" tabindex="-1">3.2 解决的问题 <a class="header-anchor" href="#_3-2-解决的问题" aria-label="Permalink to &quot;3.2 解决的问题&quot;">​</a></h3><ul><li>大模型幻觉问题</li><li>无法利用实时/私有知识</li><li>生成内容与业务不符</li></ul><h3 id="_3-3-rag工作流程" tabindex="-1">3.3 RAG工作流程 <a class="header-anchor" href="#_3-3-rag工作流程" aria-label="Permalink to &quot;3.3 RAG工作流程&quot;">​</a></h3><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>用户查询</span></span>
<span class="line"><span>    ↓</span></span>
<span class="line"><span>Query Embedding（查询向量化）</span></span>
<span class="line"><span>    ↓</span></span>
<span class="line"><span>向量检索（从知识库召回Top-K）</span></span>
<span class="line"><span>    ↓</span></span>
<span class="line"><span>重排序（结合业务规则）</span></span>
<span class="line"><span>    ↓</span></span>
<span class="line"><span>上下文组装（检索结果 + 原始问题）</span></span>
<span class="line"><span>    ↓</span></span>
<span class="line"><span>大模型生成</span></span>
<span class="line"><span>    ↓</span></span>
<span class="line"><span>输出答案</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="_3-4-向量数据库" tabindex="-1">3.4 向量数据库 <a class="header-anchor" href="#_3-4-向量数据库" aria-label="Permalink to &quot;3.4 向量数据库&quot;">​</a></h3><table tabindex="0"><thead><tr><th>产品</th><th>特点</th></tr></thead><tbody><tr><td>PGVector</td><td>PostgreSQL扩展，易集成</td></tr><tr><td>Milvus</td><td>专用向量数据库，高性能</td></tr><tr><td>Pinecone</td><td>云原生向量数据库</td></tr><tr><td>Weaviate</td><td>支持混合检索</td></tr></tbody></table><h3 id="_3-5-知识库内容示例" tabindex="-1">3.5 知识库内容示例 <a class="header-anchor" href="#_3-5-知识库内容示例" aria-label="Permalink to &quot;3.5 知识库内容示例&quot;">​</a></h3><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>品牌知识库：</span></span>
<span class="line"><span>├── 设计规范（色彩、字体、间距）</span></span>
<span class="line"><span>├── 文案语料库</span></span>
<span class="line"><span>├── 高转化模板库</span></span>
<span class="line"><span>└── 行业术语词典</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_3-6-embedding流水线" tabindex="-1">3.6 Embedding流水线 <a class="header-anchor" href="#_3-6-embedding流水线" aria-label="Permalink to &quot;3.6 Embedding流水线&quot;">​</a></h3><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>原始文档</span></span>
<span class="line"><span>    ↓</span></span>
<span class="line"><span>文档分块（Chunking）</span></span>
<span class="line"><span>    ↓</span></span>
<span class="line"><span>文本清洗</span></span>
<span class="line"><span>    ↓</span></span>
<span class="line"><span>Embedding模型（text-embedding-ada-002等）</span></span>
<span class="line"><span>    ↓</span></span>
<span class="line"><span>向量存储</span></span>
<span class="line"><span>    ↓</span></span>
<span class="line"><span>建立索引</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><hr><h2 id="四、搜索与检索" tabindex="-1">四、搜索与检索 <a class="header-anchor" href="#四、搜索与检索" aria-label="Permalink to &quot;四、搜索与检索&quot;">​</a></h2><h3 id="_4-1-elasticsearch" tabindex="-1">4.1 Elasticsearch <a class="header-anchor" href="#_4-1-elasticsearch" aria-label="Permalink to &quot;4.1 Elasticsearch&quot;">​</a></h3><h4 id="定义-1" tabindex="-1">定义 <a class="header-anchor" href="#定义-1" aria-label="Permalink to &quot;定义&quot;">​</a></h4><p>基于Lucene的分布式搜索引擎，支持全文检索、聚合分析、近实时搜索。</p><h4 id="核心配置" tabindex="-1">核心配置 <a class="header-anchor" href="#核心配置" aria-label="Permalink to &quot;核心配置&quot;">​</a></h4><table tabindex="0"><thead><tr><th>配置项</th><th>说明</th></tr></thead><tbody><tr><td>中文分词</td><td>ik_max_word / ik_smart</td></tr><tr><td>同义词词典</td><td>扩展召回范围</td></tr><tr><td>权重策略</td><td>字段boost、函数得分</td></tr></tbody></table><h4 id="混合检索示例" tabindex="-1">混合检索示例 <a class="header-anchor" href="#混合检索示例" aria-label="Permalink to &quot;混合检索示例&quot;">​</a></h4><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;query&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;bool&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;must&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;match&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;title&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;促销海报&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      ],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;filter&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;term&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;category&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;电商&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;range&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;create_time&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;gte&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2024-01-01&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } } }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;knn&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;field&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;vector&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;query_vector&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;k&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="_4-2-向量检索" tabindex="-1">4.2 向量检索 <a class="header-anchor" href="#_4-2-向量检索" aria-label="Permalink to &quot;4.2 向量检索&quot;">​</a></h3><h4 id="定义-2" tabindex="-1">定义 <a class="header-anchor" href="#定义-2" aria-label="Permalink to &quot;定义&quot;">​</a></h4><p>将图像、文本转换为高维向量（Embedding），通过向量相似度（余弦、欧氏距离）检索相似内容。</p><h4 id="解决的问题-1" tabindex="-1">解决的问题 <a class="header-anchor" href="#解决的问题-1" aria-label="Permalink to &quot;解决的问题&quot;">​</a></h4><p>传统关键词检索无法理解语义、找不到&quot;相似风格&quot;的模板。</p><h4 id="相似度计算" tabindex="-1">相似度计算 <a class="header-anchor" href="#相似度计算" aria-label="Permalink to &quot;相似度计算&quot;">​</a></h4><table tabindex="0"><thead><tr><th>方法</th><th>公式</th><th>适用场景</th></tr></thead><tbody><tr><td>余弦相似度</td><td>cos(A,B) = A·B / (‖A‖‖B‖)</td><td>文本相似度</td></tr><tr><td>欧氏距离</td><td>√Σ(ai-bi)²</td><td>图像相似度</td></tr><tr><td>内积</td><td>A·B</td><td>归一化向量</td></tr></tbody></table><hr><h2 id="五、模型路由与降级" tabindex="-1">五、模型路由与降级 <a class="header-anchor" href="#五、模型路由与降级" aria-label="Permalink to &quot;五、模型路由与降级&quot;">​</a></h2><h3 id="_5-1-智能路由策略" tabindex="-1">5.1 智能路由策略 <a class="header-anchor" href="#_5-1-智能路由策略" aria-label="Permalink to &quot;5.1 智能路由策略&quot;">​</a></h3><div class="language-python vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> select_model</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(user_region, task_type, quality_requirement):</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 地域路由</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> user_region </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;CN&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        primary_model </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;doubao&#39;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 国内优先豆包</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        fallback_model </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;qwen&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        primary_model </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;gpt-4&#39;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   # 海外优先GPT</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        fallback_model </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;gemini&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 质量要求路由</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> quality_requirement </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;high&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;gpt-4-turbo&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 成本敏感路由</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> task_type </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;simple&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;gpt-3.5-turbo&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> primary_model</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="_5-2-三级降级策略" tabindex="-1">5.2 三级降级策略 <a class="header-anchor" href="#_5-2-三级降级策略" aria-label="Permalink to &quot;5.2 三级降级策略&quot;">​</a></h3><table tabindex="0"><thead><tr><th>级别</th><th>触发条件</th><th>降级方案</th></tr></thead><tbody><tr><td>一级</td><td>主模型超时/错误</td><td>切换备用模型</td></tr><tr><td>二级</td><td>所有模型不可用</td><td>回退到规则化模板</td></tr><tr><td>三级</td><td>极端情况</td><td>局部重绘，保留用户已有工作</td></tr></tbody></table><hr><h2 id="六、promptops-提示词运维" tabindex="-1">六、PromptOps（提示词运维） <a class="header-anchor" href="#六、promptops-提示词运维" aria-label="Permalink to &quot;六、PromptOps（提示词运维）&quot;">​</a></h2><h3 id="_6-1-提示词版本化管理" tabindex="-1">6.1 提示词版本化管理 <a class="header-anchor" href="#_6-1-提示词版本化管理" aria-label="Permalink to &quot;6.1 提示词版本化管理&quot;">​</a></h3><div class="language-yaml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">prompt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">template_generation</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  version</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2.3.1</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  tags</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">production</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">high-quality</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    你是一个专业的设计师助手...</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    </span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    用户需求：{user_input}</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    品牌规范：{brand_guidelines}</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    </span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    请生成设计方案...</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="_6-2-a-b测试" tabindex="-1">6.2 A/B测试 <a class="header-anchor" href="#_6-2-a-b测试" aria-label="Permalink to &quot;6.2 A/B测试&quot;">​</a></h3><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>流量分配：</span></span>
<span class="line"><span>├── 实验组A（新提示词）：20%</span></span>
<span class="line"><span>├── 实验组B（新模型）：20%</span></span>
<span class="line"><span>└── 对照组（当前版本）：60%</span></span>
<span class="line"><span></span></span>
<span class="line"><span>评估指标：</span></span>
<span class="line"><span>├── 生成质量得分</span></span>
<span class="line"><span>├── 用户满意度</span></span>
<span class="line"><span>├── 响应时延</span></span>
<span class="line"><span>└── Token消耗</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="_6-3-监控指标" tabindex="-1">6.3 监控指标 <a class="header-anchor" href="#_6-3-监控指标" aria-label="Permalink to &quot;6.3 监控指标&quot;">​</a></h3><table tabindex="0"><thead><tr><th>类别</th><th>指标</th></tr></thead><tbody><tr><td>性能</td><td>Token数、时延、QPS</td></tr><tr><td>质量</td><td>错误率、拒答率、人工验收得分</td></tr><tr><td>成本</td><td>单次调用成本、月度账单</td></tr></tbody></table><hr><h2 id="七、安全与合规" tabindex="-1">七、安全与合规 <a class="header-anchor" href="#七、安全与合规" aria-label="Permalink to &quot;七、安全与合规&quot;">​</a></h2><h3 id="_7-1-内容安全检测" tabindex="-1">7.1 内容安全检测 <a class="header-anchor" href="#_7-1-内容安全检测" aria-label="Permalink to &quot;7.1 内容安全检测&quot;">​</a></h3><table tabindex="0"><thead><tr><th>检测类型</th><th>说明</th></tr></thead><tbody><tr><td>NSFW</td><td>不适宜内容检测</td></tr><tr><td>涉敏检测</td><td>政治、暴力等敏感内容</td></tr><tr><td>版权检测</td><td>侵权内容识别</td></tr></tbody></table><h3 id="_7-2-水印与溯源" tabindex="-1">7.2 水印与溯源 <a class="header-anchor" href="#_7-2-水印与溯源" aria-label="Permalink to &quot;7.2 水印与溯源&quot;">​</a></h3><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>AI生成内容处理流程：</span></span>
<span class="line"><span>1. 生成内容</span></span>
<span class="line"><span>2. 质量检测</span></span>
<span class="line"><span>3. 安全检测（NSFW/涉敏）</span></span>
<span class="line"><span>4. 添加可见/隐式水印</span></span>
<span class="line"><span>5. 记录生成日志（用户ID、时间、模型、提示词）</span></span>
<span class="line"><span>6. 返回结果</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><hr><h2 id="八、多模态" tabindex="-1">八、多模态 <a class="header-anchor" href="#八、多模态" aria-label="Permalink to &quot;八、多模态&quot;">​</a></h2><h3 id="_8-1-定义" tabindex="-1">8.1 定义 <a class="header-anchor" href="#_8-1-定义" aria-label="Permalink to &quot;8.1 定义&quot;">​</a></h3><p>同时处理和融合文本、图像、语音、视频等多种数据类型的AI能力。</p><h3 id="_8-2-多模态输入示例" tabindex="-1">8.2 多模态输入示例 <a class="header-anchor" href="#_8-2-多模态输入示例" aria-label="Permalink to &quot;8.2 多模态输入示例&quot;">​</a></h3><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>用户输入：</span></span>
<span class="line"><span>├── 文字描述：&quot;清新风格的夏季促销海报&quot;</span></span>
<span class="line"><span>├── 参考图片：summer_sale.jpg</span></span>
<span class="line"><span>├── 风格关键词：[&quot;简约&quot;, &quot;蓝色系&quot;, &quot;年轻化&quot;]</span></span>
<span class="line"><span>└── 品牌Logo：brand_logo.png</span></span>
<span class="line"><span></span></span>
<span class="line"><span>系统处理：</span></span>
<span class="line"><span>├── 文本理解 → 提取设计意图</span></span>
<span class="line"><span>├── 图像分析 → 提取视觉特征</span></span>
<span class="line"><span>├── 风格融合 → 综合生成设计方案</span></span>
<span class="line"><span>└── Logo适配 → 自动放置品牌元素</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="_8-3-多模态模型" tabindex="-1">8.3 多模态模型 <a class="header-anchor" href="#_8-3-多模态模型" aria-label="Permalink to &quot;8.3 多模态模型&quot;">​</a></h3><table tabindex="0"><thead><tr><th>模型</th><th>能力</th></tr></thead><tbody><tr><td>GPT-4V</td><td>图文理解、生成</td></tr><tr><td>Gemini</td><td>多模态原生支持</td></tr><tr><td>CLIP</td><td>图文对齐</td></tr><tr><td>DALL-E 3</td><td>文生图</td></tr></tbody></table>`,82)]))}const o=a(l,[["render",p]]);export{b as __pageData,o as default};
