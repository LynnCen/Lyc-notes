import{_ as t,C as r,c as E,o as i,a7 as n,b as p,w as a,a as e,G as h,a9 as k}from"./chunks/framework.BQb8NfN9.js";const o=JSON.parse('{"title":"AI对话系统深度解析（四）：会话与状态管理","description":"","frontmatter":{},"headers":[],"relativePath":"work/gd/AI对话/AI对话系统深度解析-4-会话管理.md","filePath":"work/gd/AI对话/AI对话系统深度解析-4-会话管理.md","lastUpdated":1770085732000}'),d={name:"work/gd/AI对话/AI对话系统深度解析-4-会话管理.md"};function g(c,s,y,b,F,u){const l=r("Mermaid");return i(),E("div",null,[s[3]||(s[3]=n("",7)),(i(),p(k,null,{default:a(()=>[h(l,{id:"mermaid-41",class:"mermaid",graph:"stateDiagram-v2%0A%20%20%20%20%5B*%5D%20--%3E%20%E5%88%9B%E5%BB%BA%0A%20%20%20%20%E5%88%9B%E5%BB%BA%20--%3E%20%E6%BF%80%E6%B4%BB%3A%20%E7%94%A8%E6%88%B7%E9%A6%96%E6%AC%A1%E5%8F%91%E9%80%81%E6%B6%88%E6%81%AF%0A%20%20%20%20%E6%BF%80%E6%B4%BB%20--%3E%20%E8%BF%9B%E8%A1%8C%E4%B8%AD%3A%20SSE%E8%BF%9E%E6%8E%A5%E5%BB%BA%E7%AB%8B%0A%20%20%20%20%E8%BF%9B%E8%A1%8C%E4%B8%AD%20--%3E%20%E6%BF%80%E6%B4%BB%3A%20%E6%B6%88%E6%81%AF%E6%94%B6%E5%8F%91%0A%20%20%20%20%E6%BF%80%E6%B4%BB%20--%3E%20%E5%BD%92%E6%A1%A3%3A%20%E7%94%A8%E6%88%B7%E5%88%87%E6%8D%A2%E5%88%B0%E5%85%B6%E4%BB%96%E4%BC%9A%E8%AF%9D%0A%20%20%20%20%E5%BD%92%E6%A1%A3%20--%3E%20%E6%BF%80%E6%B4%BB%3A%20%E7%94%A8%E6%88%B7%E9%87%8D%E6%96%B0%E9%80%89%E6%8B%A9%E8%AF%A5%E4%BC%9A%E8%AF%9D%0A%20%20%20%20%E6%BF%80%E6%B4%BB%20--%3E%20%E5%88%A0%E9%99%A4%3A%20%E7%94%A8%E6%88%B7%E5%88%A0%E9%99%A4%E4%BC%9A%E8%AF%9D%0A%20%20%20%20%E5%88%A0%E9%99%A4%20--%3E%20%5B*%5D%0A%20%20%20%20%0A%20%20%20%20note%20right%20of%20%E5%88%9B%E5%BB%BA%0A%20%20%20%20%20%20%20%20%E7%94%9F%E6%88%90localThreadId%0A%20%20%20%20%20%20%20%20messages%20%3D%20%5B%5D%0A%20%20%20%20end%20note%0A%20%20%20%20%0A%20%20%20%20note%20right%20of%20%E6%BF%80%E6%B4%BB%0A%20%20%20%20%20%20%20%20%E8%8E%B7%E5%8F%96threadId%EF%BC%88%E5%90%8E%E7%AB%AF%E8%BF%94%E5%9B%9E%EF%BC%89%0A%20%20%20%20%20%20%20%20%E5%8A%A0%E8%BD%BD%E5%8E%86%E5%8F%B2%E6%B6%88%E6%81%AF%0A%20%20%20%20end%20note%0A%20%20%20%20%0A%20%20%20%20note%20right%20of%20%E5%BD%92%E6%A1%A3%0A%20%20%20%20%20%20%20%20%E4%BF%9D%E5%AD%98%E5%88%B0%E5%8E%86%E5%8F%B2%E8%AE%B0%E5%BD%95%0A%20%20%20%20%20%20%20%20UI%E4%B8%8D%E5%86%8D%E5%B1%95%E7%A4%BA%0A%20%20%20%20end%20note%0A"})]),fallback:a(()=>s[0]||(s[0]=[e(" Loading... ")])),_:1})),s[4]||(s[4]=n("",13)),(i(),p(k,null,{default:a(()=>[h(l,{id:"mermaid-87",class:"mermaid",graph:"sequenceDiagram%0A%20%20%20%20participant%20U%20as%20%E7%94%A8%E6%88%B7%0A%20%20%20%20participant%20UI%20as%20ChatSender%0A%20%20%20%20participant%20Config%20as%20ChatConfig%0A%20%20%20%20participant%20API%20as%20%E5%90%8E%E7%AB%AFAPI%0A%20%20%20%20%0A%20%20%20%20U-%3E%3EUI%3A%20%E8%BE%93%E5%85%A5%E6%B6%88%E6%81%AF%E5%B9%B6%E5%8F%91%E9%80%81%0A%20%20%20%20UI-%3E%3EConfig%3A%20getThreadId()%0A%20%20%20%20%0A%20%20%20%20alt%20%E5%B7%B2%E6%9C%89threadId%0A%20%20%20%20%20%20%20%20Config--%3E%3EUI%3A%20%E8%BF%94%E5%9B%9E%E7%8E%B0%E6%9C%89threadId%0A%20%20%20%20else%20%E9%A6%96%E6%AC%A1%E5%8F%91%E9%80%81%EF%BC%88threadId%E4%B8%BA%E7%A9%BA%EF%BC%89%0A%20%20%20%20%20%20%20%20Config-%3E%3EAPI%3A%20POST%20%2Fchat%20(threadId%3A%20localThreadId)%0A%20%20%20%20%20%20%20%20API-%3E%3EAPI%3A%20%E5%88%9B%E5%BB%BA%E6%96%B0%E4%BC%9A%E8%AF%9D%0A%20%20%20%20%20%20%20%20API--%3E%3EConfig%3A%20%E8%BF%94%E5%9B%9E%E7%9C%9F%E5%AE%9EthreadId%0A%20%20%20%20%20%20%20%20Config-%3E%3EConfig%3A%20%E6%9B%B4%E6%96%B0%20threadId%0A%20%20%20%20%20%20%20%20Config--%3E%3EUI%3A%20%E8%BF%94%E5%9B%9E%E6%96%B0threadId%0A%20%20%20%20end%0A%20%20%20%20%0A%20%20%20%20UI-%3E%3EAPI%3A%20POST%20%2Fchat%20(%E6%90%BA%E5%B8%A6threadId)%0A%20%20%20%20API--%3E%3EUI%3A%20SSE%E6%B5%81%E5%BC%8F%E5%93%8D%E5%BA%94%0A"})]),fallback:a(()=>s[1]||(s[1]=[e(" Loading... ")])),_:1})),s[5]||(s[5]=n("",33)),(i(),p(k,null,{default:a(()=>[h(l,{id:"mermaid-259",class:"mermaid",graph:"sequenceDiagram%0A%20%20%20%20participant%20U%20as%20%E7%94%A8%E6%88%B7%0A%20%20%20%20participant%20UI%20as%20ChatSender%0A%20%20%20%20participant%20SSE%20as%20SSEManager%0A%20%20%20%20participant%20MH%20as%20MessageHandler%0A%20%20%20%20participant%20API%20as%20%E5%90%8E%E7%AB%AFAPI%0A%20%20%20%20%0A%20%20%20%20U-%3E%3EUI%3A%20%E7%82%B9%E5%87%BB%22%E5%81%9C%E6%AD%A2%E7%94%9F%E6%88%90%22%0A%20%20%20%20UI-%3E%3ESSE%3A%20emit('cancel')%0A%20%20%20%20%0A%20%20%20%20SSE-%3E%3ESSE%3A%20abortController.abort()%0A%20%20%20%20Note%20over%20SSE%3A%20%E5%8F%96%E6%B6%88HTTP%E8%AF%B7%E6%B1%82%0A%20%20%20%20%0A%20%20%20%20SSE-%3E%3EAPI%3A%20%E8%BF%9E%E6%8E%A5%E6%96%AD%E5%BC%80%0A%20%20%20%20SSE-%3E%3EMH%3A%20handleSSEMessage(%5B%5D%2C%20true)%0A%20%20%20%20%0A%20%20%20%20MH-%3E%3EMH%3A%20%E6%A0%87%E8%AE%B0%E6%89%80%E6%9C%89loading%E6%B6%88%E6%81%AF%E4%B8%BAstop%0A%20%20%20%20Note%20over%20MH%3A%20status%3A%20'loading'%20%E2%86%92%20'stop'%0A%20%20%20%20%0A%20%20%20%20MH-%3E%3EUI%3A%20observer.onUpdate(messages)%0A%20%20%20%20UI-%3E%3EU%3A%20%E6%98%BE%E7%A4%BA%22%E5%B7%B2%E5%81%9C%E6%AD%A2%22%0A"})]),fallback:a(()=>s[2]||(s[2]=[e(" Loading... ")])),_:1})),s[6]||(s[6]=n("",63))])}const A=t(d,[["render",g]]);export{o as __pageData,A as default};
