import{_ as l,C as p,c as e,o as i,a7 as a,b as h,w as n,a as k,G as r,a9 as d}from"./chunks/framework.BQb8NfN9.js";const E="/Lyc-notes/assets/image2025-7-1_1-8-34.C2Lv-8ir.png",g="/Lyc-notes/assets/image2025-7-1_1-9-19.BKJfVmDH.png",q=JSON.parse('{"title":"Agent æ¶ˆæ¯ç»“æ„è®¾è®¡","description":"","frontmatter":{},"headers":[],"relativePath":"work/gd/Agent/02-æ¶ˆæ¯ç³»ç»Ÿ/æ¶ˆæ¯ç»“æ„è®¾è®¡.md","filePath":"work/gd/Agent/02-æ¶ˆæ¯ç³»ç»Ÿ/æ¶ˆæ¯ç»“æ„è®¾è®¡.md","lastUpdated":1770085732000}'),o={name:"work/gd/Agent/02-æ¶ˆæ¯ç³»ç»Ÿ/æ¶ˆæ¯ç»“æ„è®¾è®¡.md"};function c(u,s,y,b,F,m){const t=p("Mermaid");return i(),e("div",null,[s[1]||(s[1]=a('<h1 id="agent-æ¶ˆæ¯ç»“æ„è®¾è®¡" tabindex="-1">Agent æ¶ˆæ¯ç»“æ„è®¾è®¡ <a class="header-anchor" href="#agent-æ¶ˆæ¯ç»“æ„è®¾è®¡" aria-label="Permalink to &quot;Agent æ¶ˆæ¯ç»“æ„è®¾è®¡&quot;">â€‹</a></h1><h2 id="ä¸€ã€è®¾è®¡èƒŒæ™¯" tabindex="-1">ä¸€ã€è®¾è®¡èƒŒæ™¯ <a class="header-anchor" href="#ä¸€ã€è®¾è®¡èƒŒæ™¯" aria-label="Permalink to &quot;ä¸€ã€è®¾è®¡èƒŒæ™¯&quot;">â€‹</a></h2><h3 id="_1-1-ä¸ºä»€ä¹ˆéœ€è¦è‡ªå®šä¹‰æ¶ˆæ¯æ ¼å¼" tabindex="-1">1.1 ä¸ºä»€ä¹ˆéœ€è¦è‡ªå®šä¹‰æ¶ˆæ¯æ ¼å¼ï¼Ÿ <a class="header-anchor" href="#_1-1-ä¸ºä»€ä¹ˆéœ€è¦è‡ªå®šä¹‰æ¶ˆæ¯æ ¼å¼" aria-label="Permalink to &quot;1.1 ä¸ºä»€ä¹ˆéœ€è¦è‡ªå®šä¹‰æ¶ˆæ¯æ ¼å¼ï¼Ÿ&quot;">â€‹</a></h3><p>åœ¨ AI Agent ç³»ç»Ÿä¸­ï¼Œç›´æ¥ä½¿ç”¨ LLM çš„æ¶ˆæ¯æ ¼å¼å­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼š</p><p><strong>ChatGPT é“¾è¡¨ç»“æ„ï¼š</strong></p><p><img src="'+E+'" alt=""></p><p><strong>è±†åŒ…åˆ—è¡¨ç»“æ„ï¼š</strong></p><p><img src="'+g+`" alt=""></p><p><strong>ç—›ç‚¹ï¼š</strong></p><ul><li>âŒ LLM æ¶ˆæ¯æ ¼å¼ä¸ç»Ÿä¸€</li><li>âŒ ç¼ºå°‘çŠ¶æ€ç®¡ç†</li><li>âŒ ä¸æ”¯æŒä¸šåŠ¡æ‰©å±•å­—æ®µ</li><li>âŒ æ— æ³•å›æº¯å®Œæ•´çŠ¶æ€</li></ul><blockquote><p>ğŸ’¡ <strong>æ ¸å¿ƒæ´å¯Ÿ</strong><br> æ„ˆå‘è§‰å¾—å‰æœŸä¸åº”è¯¥æŠŠ LLM çš„æ¶ˆæ¯æ ¼å¼å½“ä½œä¸šåŠ¡æ ¼å¼æ¥ä½¿ç”¨ã€‚é¢å‘ä¸šåŠ¡é¢†åŸŸçš„æ¶ˆæ¯æ ¼å¼ï¼ŒåŠ¿å¿…è¦è€ƒè™‘çŠ¶æ€å’Œäº¤äº’çš„é—®é¢˜ï¼Œå¦åˆ™æ— æ³•é€šè¿‡ä¸€ä¸ªæºæ¥å›æº¯æ‰€æœ‰çš„çŠ¶æ€ã€‚</p></blockquote><hr><h2 id="äºŒã€qwen-agent-åŸå§‹æ¶ˆæ¯æ ¼å¼" tabindex="-1">äºŒã€Qwen-Agent åŸå§‹æ¶ˆæ¯æ ¼å¼ <a class="header-anchor" href="#äºŒã€qwen-agent-åŸå§‹æ¶ˆæ¯æ ¼å¼" aria-label="Permalink to &quot;äºŒã€Qwen-Agent åŸå§‹æ¶ˆæ¯æ ¼å¼&quot;">â€‹</a></h2><h3 id="_2-1-æ¶ˆæ¯è½¬æ¢é€»è¾‘" tabindex="-1">2.1 æ¶ˆæ¯è½¬æ¢é€»è¾‘ <a class="header-anchor" href="#_2-1-æ¶ˆæ¯è½¬æ¢é€»è¾‘" aria-label="Permalink to &quot;2.1 æ¶ˆæ¯è½¬æ¢é€»è¾‘&quot;">â€‹</a></h3><p>Qwen-Agent ç»™å‰ç«¯çš„åŸå§‹æ¶ˆæ¯éœ€è¦ç»è¿‡è½¬æ¢ï¼Œæ ¸å¿ƒå‡½æ•° <code>convert_fncall_to_text</code>:</p><p><strong>æ¶ˆæ¯è§’è‰²ï¼š</strong></p><ul><li><code>system</code>ï¼šç³»ç»ŸæŒ‡ä»¤</li><li><code>user</code>ï¼šç”¨æˆ·è¾“å…¥</li><li><code>assistant</code>ï¼šAI åŠ©æ‰‹å›å¤</li><li><code>function</code>ï¼šå·¥å…·è°ƒç”¨ç»“æœ</li></ul><p><strong>è½¬æ¢é€»è¾‘ï¼š</strong></p><div class="language-python vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> convert_fncall_to_text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(messages: List[Dict]) -&gt; List[Dict]:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    new_messages </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> []</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> msg </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> messages:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        role, content, reasoning_content, name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            msg[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ROLE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], msg[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">CONTENT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            msg.get(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">REASONING_CONTENT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            msg.get(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NAME</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        content </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (content </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">or</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).lstrip(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).rstrip().replace(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;\`\`\`&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        # system or user: ç›´æ¥è¿½åŠ </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> role </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">SYSTEM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">USER</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">):</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            new_messages.append({</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">                ROLE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: role, </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">                CONTENT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: content, </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">                NAME</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: name</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        # assistant: æ·»åŠ  thinking å†…å®¹</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        elif</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> role </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> ASSISTANT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> reasoning_content:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                thought </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> reasoning_content</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                content </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> THINK</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.format(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">thought</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">thought) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> content</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            # åˆå¹¶è¿ç»­çš„ assistant æ¶ˆæ¯</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">len</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(new_messages) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> and</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                new_messages[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">][</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ROLE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> ASSISTANT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> and</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                new_messages[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">][</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NAME</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> name):</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                new_messages[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">][</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">CONTENT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> content</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                new_messages.append({</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">                    ROLE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: role, </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">                    CONTENT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: content, </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">                    NAME</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: name</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        # function: æ·»åŠ å·¥å…·è¾“å‡º</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        elif</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> role </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> FUNCTION</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            assert</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> new_messages[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">][</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ROLE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> ASSISTANT</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            new_messages[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">][</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">CONTENT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> TOOL_OUTPUT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.format(</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">                tool_output</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">content</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            raise</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> TypeError</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> new_messages</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br></div></div><h3 id="_2-2-å·¥å…·è°ƒç”¨æ¨¡æ¿" tabindex="-1">2.2 å·¥å…·è°ƒç”¨æ¨¡æ¿ <a class="header-anchor" href="#_2-2-å·¥å…·è°ƒç”¨æ¨¡æ¿" aria-label="Permalink to &quot;2.2 å·¥å…·è°ƒç”¨æ¨¡æ¿&quot;">â€‹</a></h3><p><strong>å·¥å…·è°ƒç”¨å¼€å§‹ï¼š</strong></p><div class="language-python vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">TOOL_CALL</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;&#39;&#39;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">âœ±âœ±âœ± Start calling tool &quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">{tool_name}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot; ...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">{tool_input}</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">âœ±âœ±âœ±</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&#39;&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>å·¥å…·è¾“å‡ºï¼š</strong></p><div class="language-python vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">TOOL_OUTPUT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;&#39;&#39;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">âœ±âœ±âœ± Finished tool calling.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">{tool_output}</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">âœ±âœ±âœ±</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&#39;&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><hr><h2 id="ä¸‰ã€ç¨¿å®šæ¶ˆæ¯æ ¼å¼" tabindex="-1">ä¸‰ã€ç¨¿å®šæ¶ˆæ¯æ ¼å¼ <a class="header-anchor" href="#ä¸‰ã€ç¨¿å®šæ¶ˆæ¯æ ¼å¼" aria-label="Permalink to &quot;ä¸‰ã€ç¨¿å®šæ¶ˆæ¯æ ¼å¼&quot;">â€‹</a></h2><h3 id="_3-1-æ¶ˆæ¯ç»´åº¦" tabindex="-1">3.1 æ¶ˆæ¯ç»´åº¦ <a class="header-anchor" href="#_3-1-æ¶ˆæ¯ç»´åº¦" aria-label="Permalink to &quot;3.1 æ¶ˆæ¯ç»´åº¦&quot;">â€‹</a></h3><p>è€ƒè™‘åˆ°æ¶ˆæ¯å…¥åº“ã€å‰ç«¯çŠ¶æ€å±•ç¤ºï¼Œæˆ‘ä»¬å¯¹æ¶ˆæ¯æ ¼å¼è¿›è¡Œæ‰©å±•ï¼Œåˆ†ä¸ºä¸¤å¤§ç±»ï¼š</p><ul><li><strong>æ¶ˆæ¯ç»´åº¦</strong>ï¼šæ¶ˆæ¯å­—æ®µçš„å¯è§æ€§</li><li><strong>ä¼šè¯ç»´åº¦</strong>ï¼šæ¶ˆæ¯çš„å¯è§æ€§</li></ul><h3 id="_3-2-å­—æ®µå®šä¹‰" tabindex="-1">3.2 å­—æ®µå®šä¹‰ <a class="header-anchor" href="#_3-2-å­—æ®µå®šä¹‰" aria-label="Permalink to &quot;3.2 å­—æ®µå®šä¹‰&quot;">â€‹</a></h3><h4 id="ä¸€çº§å­—æ®µ" tabindex="-1">ä¸€çº§å­—æ®µ <a class="header-anchor" href="#ä¸€çº§å­—æ®µ" aria-label="Permalink to &quot;ä¸€çº§å­—æ®µ&quot;">â€‹</a></h4><table tabindex="0"><thead><tr><th>å­—æ®µ</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>thread_id</code></td><td>varchar(100)</td><td>ä¼šè¯ IDï¼Œç”± Agent åç«¯ç”Ÿæˆï¼›é¦–æ¬¡å¯¹è¯æ—¶å‰ç«¯ä¼ ç©º</td></tr><tr><td><code>message_id</code></td><td>varchar(100)</td><td>æ¶ˆæ¯å”¯ä¸€æ ‡è¯†ï¼Œç”± Agent åç«¯ç”Ÿæˆï¼Œthread å†…å”¯ä¸€</td></tr><tr><td><code>local_thread_id</code></td><td>varchar(100)</td><td>å‰ç«¯æœ¬åœ°çš„ä¼šè¯ IDï¼ŒAgent ä¼šè®°å½•</td></tr><tr><td><code>local_message_id</code></td><td>varchar(100)</td><td>å‰ç«¯æœ¬åœ°çš„æ¶ˆæ¯ IDï¼ŒAgent ä¼šè®°å½•</td></tr><tr><td><code>role</code></td><td>string</td><td>æ¶ˆæ¯è§’è‰²/ç±»å‹ï¼ˆè§ä¸‹è¡¨ï¼‰</td></tr><tr><td><code>content</code></td><td>JSON</td><td>æ¶ˆæ¯å†…å®¹ï¼ˆè§ 3.3ï¼‰</td></tr><tr><td><code>input_skill_id</code></td><td>int</td><td>ç”¨æˆ·é€‰æ‹©çš„æŠ€èƒ½ ID</td></tr><tr><td><code>attachments</code></td><td>JSON Array</td><td>é™„ä»¶åˆ—è¡¨</td></tr><tr><td><code>extra</code></td><td>JSON</td><td>é¢å¤–ä¿¡æ¯</td></tr></tbody></table><h4 id="role-ç±»å‹" tabindex="-1">Role ç±»å‹ <a class="header-anchor" href="#role-ç±»å‹" aria-label="Permalink to &quot;Role ç±»å‹&quot;">â€‹</a></h4><table tabindex="0"><thead><tr><th>Role</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>system</code></td><td>ç³»ç»ŸæŒ‡ä»¤</td></tr><tr><td><code>user</code></td><td>ç”¨æˆ·è¾“å…¥</td></tr><tr><td><code>assistant</code></td><td>AI åŠ©æ‰‹å›å¤</td></tr><tr><td><code>function</code></td><td>å·¥å…·è°ƒç”¨</td></tr><tr><td><code>status</code></td><td>çŠ¶æ€æ¶ˆæ¯ï¼ˆè§ç¬¬å››èŠ‚ï¼‰</td></tr><tr><td><code>heartbeat</code></td><td>å¿ƒè·³åŒ…ï¼Œä»…ä¿æ´»ä½¿ç”¨</td></tr></tbody></table><h3 id="_3-3-content-ç»“æ„" tabindex="-1">3.3 Content ç»“æ„ <a class="header-anchor" href="#_3-3-content-ç»“æ„" aria-label="Permalink to &quot;3.3 Content ç»“æ„&quot;">â€‹</a></h3><p>Content æ˜¯ JSON ç»“æ„ï¼ŒåŒ…å«ä»¥ä¸‹å­—æ®µï¼š</p><table tabindex="0"><thead><tr><th>å­—æ®µ</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>type</code></td><td>å†…å®¹ç±»å‹ï¼Œå½±å“å¯¹ content çš„è§£æ</td></tr><tr><td><code>text</code></td><td>æ–‡æœ¬å†…å®¹ï¼ŒJSON ç»“æ„ï¼Œæ ¹æ® type è§£æ</td></tr></tbody></table><h4 id="content-type-ç±»å‹" tabindex="-1">Content Type ç±»å‹ <a class="header-anchor" href="#content-type-ç±»å‹" aria-label="Permalink to &quot;Content Type ç±»å‹&quot;">â€‹</a></h4><table tabindex="0"><thead><tr><th>Type</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>plain</code></td><td>çº¯æ–‡æœ¬å†…å®¹</td></tr><tr><td><code>function_call</code></td><td>å·¥å…·è°ƒç”¨æŒ‡ä»¤</td></tr><tr><td><code>function_response</code></td><td>å·¥å…·è°ƒç”¨ç»“æœ</td></tr><tr><td><code>reasoning</code></td><td>Reasoning æ¨¡å‹çš„æ€è€ƒå†…å®¹</td></tr></tbody></table><h3 id="_3-4-æŠ€èƒ½-id-input-skill-id" tabindex="-1">3.4 æŠ€èƒ½ ID (input_skill_id) <a class="header-anchor" href="#_3-4-æŠ€èƒ½-id-input-skill-id" aria-label="Permalink to &quot;3.4 æŠ€èƒ½ ID (input_skill_id)&quot;">â€‹</a></h3><table tabindex="0"><thead><tr><th>ID</th><th>æŠ€èƒ½åç§°</th></tr></thead><tbody><tr><td>1</td><td>æœç´¢</td></tr><tr><td>2</td><td>å›¾åƒç”Ÿæˆ</td></tr><tr><td>3</td><td>è§†é¢‘ç”Ÿæˆ</td></tr><tr><td>...</td><td>å…¶ä»–æŠ€èƒ½</td></tr></tbody></table><h3 id="_3-5-å®Œæ•´ç¤ºä¾‹" tabindex="-1">3.5 å®Œæ•´ç¤ºä¾‹ <a class="header-anchor" href="#_3-5-å®Œæ•´ç¤ºä¾‹" aria-label="Permalink to &quot;3.5 å®Œæ•´ç¤ºä¾‹&quot;">â€‹</a></h3><p><strong>ç”¨æˆ·æ¶ˆæ¯ï¼š</strong></p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;thread_id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;thread_abc123&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;message_id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;msg_001&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;local_thread_id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;local_thread_001&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;local_message_id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;local_msg_001&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;role&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;user&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;content&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;plain&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;text&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;å¸®æˆ‘ç”Ÿæˆä¸€å¼ ç‰™è†äº§å“å›¾&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;input_skill_id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;attachments&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;extra&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p><strong>Assistant æ¶ˆæ¯ï¼ˆå·¥å…·è°ƒç”¨ï¼‰ï¼š</strong></p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;thread_id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;thread_abc123&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;message_id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;msg_002&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;role&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;assistant&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;content&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;function_call&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;text&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;tool_name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;é€šç”¨å›¾åƒç”Ÿæˆ&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;parameters&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;user_prompt&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ä¸€æ”¯é«˜ç«¯ç‰™è†äº§å“...&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;width&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;512&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;height&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;512&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;extra&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p><strong>Function æ¶ˆæ¯ï¼ˆå·¥å…·ç»“æœï¼‰ï¼š</strong></p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;thread_id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;thread_abc123&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;message_id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;msg_003&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;role&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;function&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;content&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;function_response&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;text&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;tool_name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;é€šç”¨å›¾åƒç”Ÿæˆ&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;result&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;success&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;image_url&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://example.com/image.png&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;task_id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;task_123&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;extra&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;deduct_points&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><hr><h2 id="å››ã€çŠ¶æ€æ¶ˆæ¯" tabindex="-1">å››ã€çŠ¶æ€æ¶ˆæ¯ <a class="header-anchor" href="#å››ã€çŠ¶æ€æ¶ˆæ¯" aria-label="Permalink to &quot;å››ã€çŠ¶æ€æ¶ˆæ¯&quot;">â€‹</a></h2><h3 id="_4-1-å®šä¹‰" tabindex="-1">4.1 å®šä¹‰ <a class="header-anchor" href="#_4-1-å®šä¹‰" aria-label="Permalink to &quot;4.1 å®šä¹‰&quot;">â€‹</a></h3><p>çŠ¶æ€æ¶ˆæ¯æ˜¯ <code>role = status</code> çš„ç‰¹æ®Šæ¶ˆæ¯ï¼Œç”¨äºä¼ é€’ç³»ç»ŸçŠ¶æ€å’Œæ§åˆ¶æŒ‡ä»¤ã€‚</p><h3 id="_4-2-content-ç»“æ„" tabindex="-1">4.2 Content ç»“æ„ <a class="header-anchor" href="#_4-2-content-ç»“æ„" aria-label="Permalink to &quot;4.2 Content ç»“æ„&quot;">â€‹</a></h3><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;code&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">-1001</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;message&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;åœæ­¢ç”Ÿæˆçš„åŸå› &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;extra&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;message_id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;msg_xxx&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="_4-3-çŠ¶æ€ç å®šä¹‰" tabindex="-1">4.3 çŠ¶æ€ç å®šä¹‰ <a class="header-anchor" href="#_4-3-çŠ¶æ€ç å®šä¹‰" aria-label="Permalink to &quot;4.3 çŠ¶æ€ç å®šä¹‰&quot;">â€‹</a></h3><h4 id="åç«¯ç”Ÿæˆçš„çŠ¶æ€æ¶ˆæ¯" tabindex="-1">åç«¯ç”Ÿæˆçš„çŠ¶æ€æ¶ˆæ¯ <a class="header-anchor" href="#åç«¯ç”Ÿæˆçš„çŠ¶æ€æ¶ˆæ¯" aria-label="Permalink to &quot;åç«¯ç”Ÿæˆçš„çŠ¶æ€æ¶ˆæ¯&quot;">â€‹</a></h4><table tabindex="0"><thead><tr><th>Code</th><th>Message</th><th>è¯´æ˜</th><th>Extra å®šä¹‰</th></tr></thead><tbody><tr><td>-1001</td><td>åœæ­¢ç”Ÿæˆçš„åŸå› </td><td>ç”¨äºåœæ­¢ç”Ÿæˆ</td><td><code>message_id</code>ï¼šè¢«åœæ­¢çš„æ¶ˆæ¯ ID</td></tr><tr><td>-1002</td><td>ç¨¿è±†ä¸è¶³</td><td>ç¨¿è±†æ‰£é™¤å¤±è´¥<br>å‰ç«¯éœ€å¼•å¯¼ç”¨æˆ·å……å€¼</td><td><code>last_tool_message_id</code>ï¼šæœ€åä¸€æ¬¡å·¥å…·è°ƒç”¨çš„æ¶ˆæ¯ ID</td></tr><tr><td>-1003</td><td>LLMã€å·¥å…·è°ƒç”¨è¶…å‡ºé™åˆ¶</td><td>å•è½®å¯¹è¯ä¸­ï¼ŒLLM æˆ–å·¥å…·è°ƒç”¨æ•°è¶…é˜ˆå€¼</td><td>-</td></tr><tr><td>-1004</td><td>Token è¿‡æœŸ</td><td>ç”¨æˆ· token è¿‡æœŸ<br>å‰ç«¯éœ€é™é»˜åˆ·æ–°æˆ–å¼•å¯¼é‡æ–°ç™»å½•</td><td>-</td></tr><tr><td>-1005</td><td>å¿ƒè·³æ¶ˆæ¯</td><td>ä¿æŒè¿æ¥æ´»è·ƒ</td><td>-</td></tr><tr><td>-1006</td><td>ä¸­æ–­å¹¶æ’¤å›</td><td>Guardrails æ£€æµ‹åˆ° jailbreak ç­‰å¼‚å¸¸<br>ä¸­æ–­å¹¶æ’¤å›å·²è¾“å‡ºå†…å®¹</td><td><code>revoked_message_id</code>ï¼šè¢«æ’¤å›çš„æ¶ˆæ¯ ID</td></tr><tr><td>-1007</td><td>å®‰å…¨é¢„è­¦</td><td>Guardrails æ£€æµ‹åˆ°é£é™©è¯æ±‡<br>ä¸ä¸­æ–­è¾“å‡ºï¼Œä»…æç¤ºé£é™©</td><td>-</td></tr></tbody></table><h4 id="å‰ç«¯ç”Ÿæˆçš„çŠ¶æ€æ¶ˆæ¯" tabindex="-1">å‰ç«¯ç”Ÿæˆçš„çŠ¶æ€æ¶ˆæ¯ <a class="header-anchor" href="#å‰ç«¯ç”Ÿæˆçš„çŠ¶æ€æ¶ˆæ¯" aria-label="Permalink to &quot;å‰ç«¯ç”Ÿæˆçš„çŠ¶æ€æ¶ˆæ¯&quot;">â€‹</a></h4><table tabindex="0"><thead><tr><th>Code</th><th>Message</th><th>è¯´æ˜</th><th>Extra å®šä¹‰</th></tr></thead><tbody><tr><td>-2001</td><td>æ¢å¤æ‰§è¡Œ</td><td>ç”¨æˆ·å®Œæˆå……å€¼æˆ–ç™»å½•åæ¢å¤æ‰§è¡Œ<br>åç«¯æ£€æµ‹åˆ°æ­¤æ¶ˆæ¯æ—¶æ‰§è¡Œæ¢å¤æµç¨‹</td><td><code>message_id</code>ï¼šä¸­æ–­æ—¶çš„æ¶ˆæ¯ ID</td></tr></tbody></table><h3 id="_4-4-çŠ¶æ€æ¶ˆæ¯ç¤ºä¾‹" tabindex="-1">4.4 çŠ¶æ€æ¶ˆæ¯ç¤ºä¾‹ <a class="header-anchor" href="#_4-4-çŠ¶æ€æ¶ˆæ¯ç¤ºä¾‹" aria-label="Permalink to &quot;4.4 çŠ¶æ€æ¶ˆæ¯ç¤ºä¾‹&quot;">â€‹</a></h3><p><strong>ç¨¿è±†ä¸è¶³ï¼ˆåç«¯ â†’ å‰ç«¯ï¼‰ï¼š</strong></p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;thread_id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;thread_abc123&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;message_id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;status_001&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;role&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;status&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;content&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;code&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">-1002</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;message&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ç¨¿è±†ä¸è¶³&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;extra&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;last_tool_message_id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;msg_003&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p><strong>æ¢å¤æ‰§è¡Œï¼ˆå‰ç«¯ â†’ åç«¯ï¼‰ï¼š</strong></p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;thread_id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;thread_abc123&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;message_id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;status_002&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;role&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;status&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;content&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;code&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">-2001</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;message&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;æ¢å¤æ‰§è¡Œï¼šç”¨æˆ·å®Œæˆå……å€¼&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;extra&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;message_id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;status_001&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p><strong>å®‰å…¨é¢„è­¦ï¼ˆåç«¯ â†’ å‰ç«¯ï¼‰ï¼š</strong></p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;thread_id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;thread_abc123&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;message_id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;status_003&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;role&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;status&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;content&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;code&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">-1007</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;message&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;å®‰å…¨é¢„è­¦&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;extra&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;warning&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;è¾“å‡ºå†…å®¹å¯èƒ½åŒ…å«é£é™©è¯æ±‡&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><hr><h2 id="äº”ã€ä¸­æ–­ä¸æ¢å¤æœºåˆ¶" tabindex="-1">äº”ã€ä¸­æ–­ä¸æ¢å¤æœºåˆ¶ <a class="header-anchor" href="#äº”ã€ä¸­æ–­ä¸æ¢å¤æœºåˆ¶" aria-label="Permalink to &quot;äº”ã€ä¸­æ–­ä¸æ¢å¤æœºåˆ¶&quot;">â€‹</a></h2><h3 id="_5-1-ä¸­æ–­åœºæ™¯" tabindex="-1">5.1 ä¸­æ–­åœºæ™¯ <a class="header-anchor" href="#_5-1-ä¸­æ–­åœºæ™¯" aria-label="Permalink to &quot;5.1 ä¸­æ–­åœºæ™¯&quot;">â€‹</a></h3><table tabindex="0"><thead><tr><th>åœºæ™¯</th><th>è§¦å‘æ¡ä»¶</th><th>çŠ¶æ€ç </th><th>æ¢å¤æ–¹å¼</th></tr></thead><tbody><tr><td>ç¨¿è±†ä¸è¶³</td><td>å·¥å…·è°ƒç”¨æ‰£è´¹å¤±è´¥</td><td>-1002</td><td>ç”¨æˆ·å……å€¼åå‘é€ -2001</td></tr><tr><td>Token è¿‡æœŸ</td><td>ç”¨æˆ·è®¤è¯å¤±æ•ˆ</td><td>-1004</td><td>å‰ç«¯åˆ·æ–° token åé‡æ–°è¯·æ±‚</td></tr><tr><td>å†…å®¹å®‰å…¨</td><td>Guardrails æ£€æµ‹åˆ°é£é™©</td><td>-1006</td><td>æ’¤å›æ¶ˆæ¯ï¼Œç”¨æˆ·ä¿®æ”¹è¾“å…¥</td></tr><tr><td>è¶…é™</td><td>LLM/å·¥å…·è°ƒç”¨æ¬¡æ•°è¶…é˜ˆå€¼</td><td>-1003</td><td>ä¸å¯æ¢å¤ï¼Œéœ€æ–°å»ºä¼šè¯</td></tr></tbody></table><h3 id="_5-2-æ¢å¤æµç¨‹" tabindex="-1">5.2 æ¢å¤æµç¨‹ <a class="header-anchor" href="#_5-2-æ¢å¤æµç¨‹" aria-label="Permalink to &quot;5.2 æ¢å¤æµç¨‹&quot;">â€‹</a></h3>`,71)),(i(),h(d,null,{default:n(()=>[r(t,{id:"mermaid-738",class:"mermaid",graph:"sequenceDiagram%0A%20%20%20%20participant%20User%0A%20%20%20%20participant%20Frontend%0A%20%20%20%20participant%20Agent%0A%20%20%20%20participant%20Tool%0A%0A%20%20%20%20User-%3E%3EFrontend%3A%20%E5%8F%91%E9%80%81%E6%B6%88%E6%81%AF%0A%20%20%20%20Frontend-%3E%3EAgent%3A%20%E8%AF%B7%E6%B1%82%E5%A4%84%E7%90%86%0A%20%20%20%20Agent-%3E%3ETool%3A%20%E8%B0%83%E7%94%A8%E5%B7%A5%E5%85%B7%0A%20%20%20%20Tool--%3E%3EAgent%3A%20%E7%A8%BF%E8%B1%86%E4%B8%8D%E8%B6%B3%0A%20%20%20%20Agent-%3E%3EFrontend%3A%20%E7%8A%B6%E6%80%81%E6%B6%88%E6%81%AF%20-1002%0A%20%20%20%20Frontend-%3E%3EUser%3A%20%E6%8F%90%E7%A4%BA%E5%85%85%E5%80%BC%0A%20%20%20%20%0A%20%20%20%20User-%3E%3EFrontend%3A%20%E5%AE%8C%E6%88%90%E5%85%85%E5%80%BC%0A%20%20%20%20Frontend-%3E%3EAgent%3A%20%E5%8F%91%E9%80%81%20-2001%20%E6%81%A2%E5%A4%8D%E6%89%A7%E8%A1%8C%0A%20%20%20%20Agent-%3E%3EAgent%3A%20%E6%A3%80%E6%B5%8B%E6%81%A2%E5%A4%8D%E7%8A%B6%E6%80%81%0A%20%20%20%20Agent-%3E%3ETool%3A%20%E9%87%8D%E8%AF%95%E5%B7%A5%E5%85%B7%E8%B0%83%E7%94%A8%0A%20%20%20%20Tool--%3E%3EAgent%3A%20%E8%B0%83%E7%94%A8%E6%88%90%E5%8A%9F%0A%20%20%20%20Agent-%3E%3EFrontend%3A%20%E8%BF%94%E5%9B%9E%E7%BB%93%E6%9E%9C%0A"})]),fallback:n(()=>s[0]||(s[0]=[k(" Loading... ")])),_:1})),s[2]||(s[2]=a(`<h3 id="_5-3-æ¢å¤é€»è¾‘" tabindex="-1">5.3 æ¢å¤é€»è¾‘ <a class="header-anchor" href="#_5-3-æ¢å¤é€»è¾‘" aria-label="Permalink to &quot;5.3 æ¢å¤é€»è¾‘&quot;">â€‹</a></h3><p><strong>åç«¯æ£€æµ‹é€»è¾‘ï¼š</strong></p><div class="language-python vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> should_resume</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(thread_messages):</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;&quot;&quot;æ£€æŸ¥ä¼šè¯æ˜¯å¦éœ€è¦æ¢å¤æ‰§è¡Œ&quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> not</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> thread_messages:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> False</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    last_message </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> thread_messages[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # æ£€æŸ¥æœ€åä¸€æ¡æ¶ˆæ¯æ˜¯å¦ä¸ºæ¢å¤çŠ¶æ€</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (last_message.role </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;status&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> and</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        last_message.content.get(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;code&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2001</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">):</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> True</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> False</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> resume_execution</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(thread_id, status_message):</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;&quot;&quot;æ¢å¤ä¼šè¯æ‰§è¡Œ&quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # è·å–ä¸­æ–­æ—¶çš„æ¶ˆæ¯ ID</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    interrupted_message_id </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> status_message.content[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;extra&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">][</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;message_id&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # ä»ä¸­æ–­ç‚¹æ¢å¤</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # ...</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><hr><h2 id="å…­ã€æœ€ä½³å®è·µ" tabindex="-1">å…­ã€æœ€ä½³å®è·µ <a class="header-anchor" href="#å…­ã€æœ€ä½³å®è·µ" aria-label="Permalink to &quot;å…­ã€æœ€ä½³å®è·µ&quot;">â€‹</a></h2><h3 id="_6-1-æ¶ˆæ¯è®¾è®¡åŸåˆ™" tabindex="-1">6.1 æ¶ˆæ¯è®¾è®¡åŸåˆ™ <a class="header-anchor" href="#_6-1-æ¶ˆæ¯è®¾è®¡åŸåˆ™" aria-label="Permalink to &quot;6.1 æ¶ˆæ¯è®¾è®¡åŸåˆ™&quot;">â€‹</a></h3><p><strong>DOï¼š</strong></p><ul><li>âœ… ä½¿ç”¨ç»Ÿä¸€çš„æ¶ˆæ¯æ ¼å¼</li><li>âœ… è®°å½•å®Œæ•´çš„çŠ¶æ€ä¿¡æ¯</li><li>âœ… ä¿æŒæ¶ˆæ¯ä¸å¯å˜æ€§ï¼ˆä¸€æ—¦åˆ›å»ºä¸ä¿®æ”¹ï¼‰</li><li>âœ… ä½¿ç”¨çŠ¶æ€æ¶ˆæ¯ä¼ é€’æ§åˆ¶æŒ‡ä»¤</li><li>âœ… è®°å½•æœ¬åœ° ID ä¾¿äºå‰ç«¯å…³è”</li></ul><p><strong>DON&#39;Tï¼š</strong></p><ul><li>âŒ ç›´æ¥ä½¿ç”¨ LLM çš„æ¶ˆæ¯æ ¼å¼</li><li>âŒ åœ¨æ¶ˆæ¯ä¸­å­˜å‚¨å¤§æ–‡ä»¶ï¼ˆä½¿ç”¨ attachmentsï¼‰</li><li>âŒ ä¿®æ”¹å·²åˆ›å»ºçš„æ¶ˆæ¯</li><li>âŒ åœ¨ content ä¸­åµŒå¥—è¿‡æ·±çš„ JSON</li></ul><h3 id="_6-2-å‰ç«¯å¤„ç†å»ºè®®" tabindex="-1">6.2 å‰ç«¯å¤„ç†å»ºè®® <a class="header-anchor" href="#_6-2-å‰ç«¯å¤„ç†å»ºè®®" aria-label="Permalink to &quot;6.2 å‰ç«¯å¤„ç†å»ºè®®&quot;">â€‹</a></h3><p><strong>çŠ¶æ€å¤„ç†ï¼š</strong></p><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> handleStatusMessage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">statusMessage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">code</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">message</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">extra</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> statusMessage.content;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  switch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (code) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    case</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1002</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç¨¿è±†ä¸è¶³</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      showRechargeDialog</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(extra.last_tool_message_id);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      break</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    case</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1004</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Token è¿‡æœŸ</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      refreshToken</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // é‡æ–°å‘é€è¯·æ±‚</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      });</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      break</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    case</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1006</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä¸­æ–­å¹¶æ’¤å›</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      revokeMessage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(extra.revoked_message_id);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      break</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    case</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1007</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å®‰å…¨é¢„è­¦</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      showWarningBanner</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(message);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      break</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">warn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Unknown status code:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, code);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p><strong>æ¢å¤æ‰§è¡Œï¼š</strong></p><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> resumeAfterRecharge</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">threadId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">interruptedMessageId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> resumeMessage</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    thread_id: threadId,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    role: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;status&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    content: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      code: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2001</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      message: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;æ¢å¤æ‰§è¡Œï¼šç”¨æˆ·å®Œæˆå……å€¼&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      extra: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        message_id: interruptedMessageId</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  sendMessage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(resumeMessage);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><hr><h2 id="ä¸ƒã€æ€»ç»“" tabindex="-1">ä¸ƒã€æ€»ç»“ <a class="header-anchor" href="#ä¸ƒã€æ€»ç»“" aria-label="Permalink to &quot;ä¸ƒã€æ€»ç»“&quot;">â€‹</a></h2><h3 id="_7-1-æ ¸å¿ƒè®¾è®¡" tabindex="-1">7.1 æ ¸å¿ƒè®¾è®¡ <a class="header-anchor" href="#_7-1-æ ¸å¿ƒè®¾è®¡" aria-label="Permalink to &quot;7.1 æ ¸å¿ƒè®¾è®¡&quot;">â€‹</a></h3><ol><li><strong>ç»Ÿä¸€æ ¼å¼</strong>ï¼šä¸ä¾èµ–ç‰¹å®š LLM çš„æ¶ˆæ¯æ ¼å¼</li><li><strong>çŠ¶æ€ç®¡ç†</strong>ï¼šé€šè¿‡çŠ¶æ€æ¶ˆæ¯å®ç°ä¸­æ–­ä¸æ¢å¤</li><li><strong>æ‰©å±•æ€§</strong>ï¼šæ”¯æŒä¸šåŠ¡å­—æ®µæ‰©å±•</li><li><strong>å¯è¿½æº¯</strong>ï¼šå®Œæ•´è®°å½•æ¶ˆæ¯å†å²</li></ol><h3 id="_7-2-å…³é”®ç‰¹æ€§" tabindex="-1">7.2 å…³é”®ç‰¹æ€§ <a class="header-anchor" href="#_7-2-å…³é”®ç‰¹æ€§" aria-label="Permalink to &quot;7.2 å…³é”®ç‰¹æ€§&quot;">â€‹</a></h3><ul><li>âœ… æ”¯æŒå¤šç§æ¶ˆæ¯ç±»å‹ï¼ˆuserã€assistantã€functionã€statusï¼‰</li><li>âœ… å®Œæ•´çš„çŠ¶æ€ç ä½“ç³»</li><li>âœ… ä¸­æ–­ä¸æ¢å¤æœºåˆ¶</li><li>âœ… æœ¬åœ° ID å…³è”</li><li>âœ… æŠ€èƒ½é€‰æ‹©</li><li>âœ… é™„ä»¶æ”¯æŒ</li></ul><hr><p><em>æ–‡æ¡£ç‰ˆæœ¬ï¼šv1.0</em><br><em>æœ€åæ›´æ–°ï¼š2025-01-26</em></p>`,23))])}const B=l(o,[["render",c]]);export{q as __pageData,B as default};
