import{_ as n,c as a,o as i,a7 as p}from"./chunks/framework.BQb8NfN9.js";const l="/Lyc-notes/assets/1.jnTqt9E1.png",e="/Lyc-notes/assets/2.C5g6d_w7.png",r="/Lyc-notes/assets/3.4GMofqgA.png",t="/Lyc-notes/assets/%E6%90%9C%E7%9B%B8%E4%BC%BC.DRcv1C17.png",m=JSON.parse('{"title":"花瓣推荐能力介绍","description":"","frontmatter":{},"headers":[],"relativePath":"work/gd/搜索推荐/02-推荐能力介绍.md","filePath":"work/gd/搜索推荐/02-推荐能力介绍.md","lastUpdated":1770089372000}'),h={name:"work/gd/搜索推荐/02-推荐能力介绍.md"};function k(c,s,b,d,E,u){return i(),a("div",null,s[0]||(s[0]=[p(`<h1 id="花瓣推荐能力介绍" tabindex="-1">花瓣推荐能力介绍 <a class="header-anchor" href="#花瓣推荐能力介绍" aria-label="Permalink to &quot;花瓣推荐能力介绍&quot;">​</a></h1><blockquote><p><strong>文档来源</strong><br> Confluence: <a href="https://doc.huanleguang.com/pages/viewpage.action?pageId=288235203" target="_blank" rel="noreferrer">https://doc.huanleguang.com/pages/viewpage.action?pageId=288235203</a></p></blockquote><hr><h2 id="文档概述" tabindex="-1">文档概述 <a class="header-anchor" href="#文档概述" aria-label="Permalink to &quot;文档概述&quot;">​</a></h2><p>本文档详细介绍<strong>花瓣网推荐能力</strong>的完整架构和核心推荐场景，涵盖发现页、画板推荐、关联推荐、图搜等多个推荐能力。</p><p><strong>核心价值</strong>：</p><ul><li>🎯 提升用户发现优质内容的效率</li><li>📈 增加用户停留时长和内容消费</li><li>💡 个性化推荐提升用户满意度</li><li>🔍 多场景覆盖不同用户需求</li></ul><hr><h2 id="一、推荐能力框架" tabindex="-1">一、推荐能力框架 <a class="header-anchor" href="#一、推荐能力框架" aria-label="Permalink to &quot;一、推荐能力框架&quot;">​</a></h2><h3 id="_1-1-整体架构" tabindex="-1">1.1 整体架构 <a class="header-anchor" href="#_1-1-整体架构" aria-label="Permalink to &quot;1.1 整体架构&quot;">​</a></h3><p><strong>推荐系统架构</strong>：</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>┌──────────────────────────────────────────────┐</span></span>
<span class="line"><span>│          用户画像层                           │</span></span>
<span class="line"><span>│  • 用户基础信息                              │</span></span>
<span class="line"><span>│  • 用户行为数据                              │</span></span>
<span class="line"><span>│  • 用户兴趣标签                              │</span></span>
<span class="line"><span>│  • 用户偏好模型                              │</span></span>
<span class="line"><span>└──────────────────┬───────────────────────────┘</span></span>
<span class="line"><span>                   │</span></span>
<span class="line"><span>┌──────────────────┴───────────────────────────┐</span></span>
<span class="line"><span>│          内容理解层                           │</span></span>
<span class="line"><span>│  • 内容标签                                  │</span></span>
<span class="line"><span>│  • 内容向量                                  │</span></span>
<span class="line"><span>│  • 内容质量分                                │</span></span>
<span class="line"><span>│  • 内容热度分                                │</span></span>
<span class="line"><span>└──────────────────┬───────────────────────────┘</span></span>
<span class="line"><span>                   │</span></span>
<span class="line"><span>┌──────────────────┴───────────────────────────┐</span></span>
<span class="line"><span>│          召回层                              │</span></span>
<span class="line"><span>│  • 热度召回                                  │</span></span>
<span class="line"><span>│  • 协同过滤召回                              │</span></span>
<span class="line"><span>│  • 内容相似召回                              │</span></span>
<span class="line"><span>│  • 向量召回                                  │</span></span>
<span class="line"><span>└──────────────────┬───────────────────────────┘</span></span>
<span class="line"><span>                   │</span></span>
<span class="line"><span>┌──────────────────┴───────────────────────────┐</span></span>
<span class="line"><span>│          排序层                              │</span></span>
<span class="line"><span>│  • CTR 预估模型                              │</span></span>
<span class="line"><span>│  • 多目标排序                                │</span></span>
<span class="line"><span>│  • 个性化排序                                │</span></span>
<span class="line"><span>└──────────────────┬───────────────────────────┘</span></span>
<span class="line"><span>                   │</span></span>
<span class="line"><span>┌──────────────────┴───────────────────────────┐</span></span>
<span class="line"><span>│          策略层                              │</span></span>
<span class="line"><span>│  • 打散策略                                  │</span></span>
<span class="line"><span>│  • 新鲜度策略                                │</span></span>
<span class="line"><span>│  • 多样性策略                                │</span></span>
<span class="line"><span>│  • 扶持策略                                  │</span></span>
<span class="line"><span>└──────────────────────────────────────────────┘</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><h3 id="_1-2-推荐场景" tabindex="-1">1.2 推荐场景 <a class="header-anchor" href="#_1-2-推荐场景" aria-label="Permalink to &quot;1.2 推荐场景&quot;">​</a></h3><p>花瓣推荐覆盖以下核心场景：</p><table tabindex="0"><thead><tr><th>场景</th><th>位置</th><th>推荐策略</th><th>目标</th></tr></thead><tbody><tr><td><strong>发现页</strong></td><td>首页信息流</td><td>个性化 + 热度</td><td>提升用户活跃</td></tr><tr><td><strong>画板推荐</strong></td><td>画板详情页</td><td>基于画板的协同过滤</td><td>增加采集数</td></tr><tr><td><strong>关联推荐</strong></td><td>内容详情页</td><td>内容相似 + 协同过滤</td><td>增加内容消费</td></tr><tr><td><strong>相似素材</strong></td><td>素材详情页</td><td>向量相似</td><td>精准推荐</td></tr><tr><td><strong>图搜</strong></td><td>搜索页</td><td>以图搜图</td><td>提升搜索效率</td></tr><tr><td><strong>主题页</strong></td><td>主题页面</td><td>热度召回 + CTR 排序</td><td>提升主题转化</td></tr></tbody></table><hr><h2 id="二、发现页推荐" tabindex="-1">二、发现页推荐 <a class="header-anchor" href="#二、发现页推荐" aria-label="Permalink to &quot;二、发现页推荐&quot;">​</a></h2><h3 id="_2-1-推荐目标" tabindex="-1">2.1 推荐目标 <a class="header-anchor" href="#_2-1-推荐目标" aria-label="Permalink to &quot;2.1 推荐目标&quot;">​</a></h3><p><strong>核心目标</strong>：</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>提升用户发现优质内容的效率</span></span>
<span class="line"><span>   ↓</span></span>
<span class="line"><span>增加用户停留时长</span></span>
<span class="line"><span>   ↓</span></span>
<span class="line"><span>提升用户活跃度和留存率</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_2-2-推荐策略" tabindex="-1">2.2 推荐策略 <a class="header-anchor" href="#_2-2-推荐策略" aria-label="Permalink to &quot;2.2 推荐策略&quot;">​</a></h3><p><strong>策略框架</strong>：</p><div class="language-yaml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">召回策略</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  热度召回</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">近期热门内容</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">全站热门内容</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  个性化召回</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">基于用户兴趣标签</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">基于用户行为历史</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">协同过滤</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  内容相似召回</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">基于用户最近浏览</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">基于用户最近采集</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">排序策略</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  CTR 预估</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">预估用户点击概率</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">多目标排序（点击、采集、下载）</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  个性化排序</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">用户特征</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">内容特征</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">上下文特征</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">策略调整</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  打散策略</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">同作者打散</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">同标签打散</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  新鲜度策略</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">提升新内容权重</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  多样性策略</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">内容类型多样化</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">风格多样化</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><h3 id="_2-3-推荐流程" tabindex="-1">2.3 推荐流程 <a class="header-anchor" href="#_2-3-推荐流程" aria-label="Permalink to &quot;2.3 推荐流程&quot;">​</a></h3><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>用户进入发现页</span></span>
<span class="line"><span>   ↓</span></span>
<span class="line"><span>获取用户画像</span></span>
<span class="line"><span>   ↓</span></span>
<span class="line"><span>┌──────────────────────────────────┐</span></span>
<span class="line"><span>│  召回阶段                        │</span></span>
<span class="line"><span>│  • 热度召回（500个）             │</span></span>
<span class="line"><span>│  • 个性化召回（500个）           │</span></span>
<span class="line"><span>│  • 内容相似召回（300个）         │</span></span>
<span class="line"><span>│  总计：1300 个候选                │</span></span>
<span class="line"><span>└────────────┬─────────────────────┘</span></span>
<span class="line"><span>             │</span></span>
<span class="line"><span>             ↓</span></span>
<span class="line"><span>┌──────────────────────────────────┐</span></span>
<span class="line"><span>│  粗排阶段                        │</span></span>
<span class="line"><span>│  • 简单特征模型                  │</span></span>
<span class="line"><span>│  • 快速筛选 TOP 300              │</span></span>
<span class="line"><span>└────────────┬─────────────────────┘</span></span>
<span class="line"><span>             │</span></span>
<span class="line"><span>             ↓</span></span>
<span class="line"><span>┌──────────────────────────────────┐</span></span>
<span class="line"><span>│  精排阶段                        │</span></span>
<span class="line"><span>│  • CTR 预估模型                  │</span></span>
<span class="line"><span>│  • 多目标排序                    │</span></span>
<span class="line"><span>│  • TOP 100                       │</span></span>
<span class="line"><span>└────────────┬─────────────────────┘</span></span>
<span class="line"><span>             │</span></span>
<span class="line"><span>             ↓</span></span>
<span class="line"><span>┌──────────────────────────────────┐</span></span>
<span class="line"><span>│  策略调整                        │</span></span>
<span class="line"><span>│  • 打散策略                      │</span></span>
<span class="line"><span>│  • 新鲜度策略                    │</span></span>
<span class="line"><span>│  • 多样性策略                    │</span></span>
<span class="line"><span>└────────────┬─────────────────────┘</span></span>
<span class="line"><span>             │</span></span>
<span class="line"><span>             ↓</span></span>
<span class="line"><span>       推荐结果展示</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br></div></div><h3 id="_2-4-核心指标" tabindex="-1">2.4 核心指标 <a class="header-anchor" href="#_2-4-核心指标" aria-label="Permalink to &quot;2.4 核心指标&quot;">​</a></h3><table tabindex="0"><thead><tr><th>指标</th><th>说明</th><th>优化目标</th></tr></thead><tbody><tr><td><strong>CTR</strong></td><td>点击率</td><td>提升用户点击</td></tr><tr><td><strong>采集率</strong></td><td>采集转化率</td><td>提升用户采集</td></tr><tr><td><strong>停留时长</strong></td><td>用户停留时长</td><td>提升用户粘性</td></tr><tr><td><strong>人均PV</strong></td><td>人均页面浏览量</td><td>提升内容消费</td></tr></tbody></table><hr><h2 id="三、基于画板的灵感推荐" tabindex="-1">三、基于画板的灵感推荐 <a class="header-anchor" href="#三、基于画板的灵感推荐" aria-label="Permalink to &quot;三、基于画板的灵感推荐&quot;">​</a></h2><h3 id="_3-1-推荐场景" tabindex="-1">3.1 推荐场景 <a class="header-anchor" href="#_3-1-推荐场景" aria-label="Permalink to &quot;3.1 推荐场景&quot;">​</a></h3><p><strong>位置</strong>：画板详情页</p><p><strong>目标</strong>：</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>基于用户画板内容</span></span>
<span class="line"><span>   ↓</span></span>
<span class="line"><span>推荐相关灵感</span></span>
<span class="line"><span>   ↓</span></span>
<span class="line"><span>增加画板采集数</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_3-2-推荐策略" tabindex="-1">3.2 推荐策略 <a class="header-anchor" href="#_3-2-推荐策略" aria-label="Permalink to &quot;3.2 推荐策略&quot;">​</a></h3><p><strong>策略框架</strong>：</p><div class="language-yaml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">输入</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">画板内已有内容</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">画板标签</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">画板标题</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">召回策略</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  协同过滤</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">找到相似画板</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">推荐相似画板中的内容</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  内容相似</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">基于画板内容的向量相似</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">推荐相似内容</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  标签匹配</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">基于画板标签</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">推荐相同标签内容</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">排序策略</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  相关性排序</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">与画板内容的相似度</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">与画板标签的匹配度</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  质量排序</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">内容质量分</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">内容热度分</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h3 id="_3-3-推荐流程" tabindex="-1">3.3 推荐流程 <a class="header-anchor" href="#_3-3-推荐流程" aria-label="Permalink to &quot;3.3 推荐流程&quot;">​</a></h3><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>用户打开画板</span></span>
<span class="line"><span>   ↓</span></span>
<span class="line"><span>分析画板内容</span></span>
<span class="line"><span>   ↓</span></span>
<span class="line"><span>┌──────────────────────────────────┐</span></span>
<span class="line"><span>│  召回阶段                        │</span></span>
<span class="line"><span>│  • 协同过滤召回（300个）         │</span></span>
<span class="line"><span>│  • 内容相似召回（300个）         │</span></span>
<span class="line"><span>│  • 标签匹配召回（200个）         │</span></span>
<span class="line"><span>│  总计：800 个候选                │</span></span>
<span class="line"><span>└────────────┬─────────────────────┘</span></span>
<span class="line"><span>             │</span></span>
<span class="line"><span>             ↓</span></span>
<span class="line"><span>┌──────────────────────────────────┐</span></span>
<span class="line"><span>│  排序阶段                        │</span></span>
<span class="line"><span>│  • 相关性得分计算                │</span></span>
<span class="line"><span>│  • 质量得分计算                  │</span></span>
<span class="line"><span>│  • 综合排序                      │</span></span>
<span class="line"><span>└────────────┬─────────────────────┘</span></span>
<span class="line"><span>             │</span></span>
<span class="line"><span>             ↓</span></span>
<span class="line"><span>┌──────────────────────────────────┐</span></span>
<span class="line"><span>│  策略调整                        │</span></span>
<span class="line"><span>│  • 去重（已在画板中的内容）      │</span></span>
<span class="line"><span>│  • 打散策略                      │</span></span>
<span class="line"><span>└────────────┬─────────────────────┘</span></span>
<span class="line"><span>             │</span></span>
<span class="line"><span>             ↓</span></span>
<span class="line"><span>    推荐结果展示（20个）</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><hr><h2 id="四、关联推荐-为你推荐-相似素材推荐" tabindex="-1">四、关联推荐（为你推荐）&amp; 相似素材推荐 <a class="header-anchor" href="#四、关联推荐-为你推荐-相似素材推荐" aria-label="Permalink to &quot;四、关联推荐（为你推荐）&amp; 相似素材推荐&quot;">​</a></h2><h3 id="_4-1-推荐场景" tabindex="-1">4.1 推荐场景 <a class="header-anchor" href="#_4-1-推荐场景" aria-label="Permalink to &quot;4.1 推荐场景&quot;">​</a></h3><p><strong>位置</strong>：</p><ul><li><strong>为你推荐</strong>：内容详情页底部</li><li><strong>相似素材推荐</strong>：素材详情页底部</li></ul><p><img src="`+l+'" alt="为你推荐示例"><img src="'+e+`" alt="相似素材推荐示例"></p><h3 id="_4-2-推荐策略" tabindex="-1">4.2 推荐策略 <a class="header-anchor" href="#_4-2-推荐策略" aria-label="Permalink to &quot;4.2 推荐策略&quot;">​</a></h3><h4 id="_4-2-1-为你推荐-灵感详情页" tabindex="-1">4.2.1 为你推荐（灵感详情页） <a class="header-anchor" href="#_4-2-1-为你推荐-灵感详情页" aria-label="Permalink to &quot;4.2.1 为你推荐（灵感详情页）&quot;">​</a></h4><p><strong>策略框架</strong>：</p><div class="language-yaml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">召回策略</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  内容相似</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">基于当前内容的向量相似</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">召回 300 个</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  协同过滤</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">看了这个内容的用户还看了</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">召回 300 个</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  标签匹配</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">基于当前内容标签</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">召回 200 个</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">排序策略</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  相关性</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">与当前内容的相似度</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  质量</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">内容质量分</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">内容热度分</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  个性化</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">用户兴趣匹配度</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p><strong>推荐流程</strong>：</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>用户浏览内容详情</span></span>
<span class="line"><span>   ↓</span></span>
<span class="line"><span>提取内容特征（标签、向量）</span></span>
<span class="line"><span>   ↓</span></span>
<span class="line"><span>召回相似内容（800个）</span></span>
<span class="line"><span>   ↓</span></span>
<span class="line"><span>排序（相关性 + 质量 + 个性化）</span></span>
<span class="line"><span>   ↓</span></span>
<span class="line"><span>策略调整（去重、打散）</span></span>
<span class="line"><span>   ↓</span></span>
<span class="line"><span>推荐结果展示（20个）</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h4 id="_4-2-2-相似素材推荐-素材详情页" tabindex="-1">4.2.2 相似素材推荐（素材详情页） <a class="header-anchor" href="#_4-2-2-相似素材推荐-素材详情页" aria-label="Permalink to &quot;4.2.2 相似素材推荐（素材详情页）&quot;">​</a></h4><p><strong>策略特点</strong>：</p><div class="language-yaml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">与灵感推荐的区别</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">更注重视觉相似</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">候选集为素材库（2亿）</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">相似度计算使用图像向量</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">召回策略</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  向量相似</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">基于图像特征向量</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">余弦相似度</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">召回 500 个</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  标签匹配</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">基于素材标签</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">召回 300 个</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">排序策略</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  相似度优先</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">视觉相似度权重最高</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  质量保证</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">清晰度过滤</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">质量分排序</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><hr><h2 id="五、主题页推荐" tabindex="-1">五、主题页推荐 <a class="header-anchor" href="#五、主题页推荐" aria-label="Permalink to &quot;五、主题页推荐&quot;">​</a></h2><h3 id="_5-1-推荐场景" tabindex="-1">5.1 推荐场景 <a class="header-anchor" href="#_5-1-推荐场景" aria-label="Permalink to &quot;5.1 推荐场景&quot;">​</a></h3><p><strong>定义</strong>：有筛选器 ID 限制，且无搜索词的推荐场景</p><p><strong>示例</strong>：</p><ul><li>主题页（如：&quot;春节主题&quot;）</li><li>专题页（如：&quot;扁平化风格&quot;）</li><li>分类页（如：&quot;海报分类&quot;）</li></ul><p><img src="`+r+`" alt="主题页示例"></p><h3 id="_5-2-推荐策略" tabindex="-1">5.2 推荐策略 <a class="header-anchor" href="#_5-2-推荐策略" aria-label="Permalink to &quot;5.2 推荐策略&quot;">​</a></h3><p><strong>策略框架</strong>：</p><div class="language-yaml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">输入</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">筛选器 ID（限定内容范围）</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">无搜索词（纯推荐场景）</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">召回策略</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  筛选器范围限制</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">在指定筛选器范围内召回</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  热度召回</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">近期热门内容</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">按热度分排序</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">排序策略</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  CTR 排序</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">预估点击率排序</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">个性化排序</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p><strong>技术实现</strong>：</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>走无搜索词的搜索接口逻辑</span></span>
<span class="line"><span>   ↓</span></span>
<span class="line"><span>筛选器范围限制 + 热度召回</span></span>
<span class="line"><span>   ↓</span></span>
<span class="line"><span>CTR 排序</span></span>
<span class="line"><span>   ↓</span></span>
<span class="line"><span>推荐结果</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="_5-3-推荐流程" tabindex="-1">5.3 推荐流程 <a class="header-anchor" href="#_5-3-推荐流程" aria-label="Permalink to &quot;5.3 推荐流程&quot;">​</a></h3><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>用户进入主题页</span></span>
<span class="line"><span>   ↓</span></span>
<span class="line"><span>获取筛选器 ID</span></span>
<span class="line"><span>   ↓</span></span>
<span class="line"><span>┌──────────────────────────────────┐</span></span>
<span class="line"><span>│  召回阶段                        │</span></span>
<span class="line"><span>│  • 筛选器范围内热度召回          │</span></span>
<span class="line"><span>│  • 按热度分排序                  │</span></span>
<span class="line"><span>│  总计：1000 个候选               │</span></span>
<span class="line"><span>└────────────┬─────────────────────┘</span></span>
<span class="line"><span>             │</span></span>
<span class="line"><span>             ↓</span></span>
<span class="line"><span>┌──────────────────────────────────┐</span></span>
<span class="line"><span>│  排序阶段                        │</span></span>
<span class="line"><span>│  • CTR 预估排序                  │</span></span>
<span class="line"><span>│  • 个性化调整                    │</span></span>
<span class="line"><span>└────────────┬─────────────────────┘</span></span>
<span class="line"><span>             │</span></span>
<span class="line"><span>             ↓</span></span>
<span class="line"><span>       推荐结果展示</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><hr><h2 id="六、图搜-相似采集-搜相似" tabindex="-1">六、图搜 / 相似采集 / 搜相似 <a class="header-anchor" href="#六、图搜-相似采集-搜相似" aria-label="Permalink to &quot;六、图搜 / 相似采集 / 搜相似&quot;">​</a></h2><h3 id="_6-1-推荐场景" tabindex="-1">6.1 推荐场景 <a class="header-anchor" href="#_6-1-推荐场景" aria-label="Permalink to &quot;6.1 推荐场景&quot;">​</a></h3><p><strong>三种图搜场景</strong>：</p><table tabindex="0"><thead><tr><th>场景</th><th>入口</th><th>用户行为</th><th>目标</th></tr></thead><tbody><tr><td><strong>图搜</strong></td><td>搜索页上传图片</td><td>主动搜索相似内容</td><td>精准匹配</td></tr><tr><td><strong>相似采集</strong></td><td>内容详情页</td><td>点击&quot;搜相似&quot;</td><td>找到类似内容</td></tr><tr><td><strong>搜相似</strong></td><td>灵感详情页</td><td>点击&quot;搜相似&quot;</td><td>发现更多灵感</td></tr></tbody></table><p><img src="`+t+`" alt="图搜示例"></p><h3 id="_6-2-候选集" tabindex="-1">6.2 候选集 <a class="header-anchor" href="#_6-2-候选集" aria-label="Permalink to &quot;6.2 候选集&quot;">​</a></h3><p><strong>候选集扩充</strong>：</p><div class="language-yaml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">候选集规模</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  素材候选集</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">2 亿</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  灵感候选集</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">2 亿</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">候选集规则</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">按热度分排序</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">不受热度分阈值限制</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">覆盖全量优质内容</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">更新策略</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  更新方式</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">每天增量更新</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  更新规则</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">取近 X 天创建的内容</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">可被搜索/上架状态</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">按热度分排取 TOP X</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="_6-3-推荐策略" tabindex="-1">6.3 推荐策略 <a class="header-anchor" href="#_6-3-推荐策略" aria-label="Permalink to &quot;6.3 推荐策略&quot;">​</a></h3><p><strong>技术实现</strong>：</p><div class="language-yaml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">图像特征提取</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  模型</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">深度学习图像特征提取模型</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  输出</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">高维图像特征向量</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">相似度计算</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  方法</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">余弦相似度</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  公式</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">cosine_similarity(vector_a, vector_b)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">召回策略</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  向量召回</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">在 2 亿候选集中进行向量相似度检索</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">召回 TOP 1000</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">排序策略</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  相似度优先</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">相似度得分权重最高</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  质量保证</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">清晰度过滤</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">质量分加权</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h3 id="_6-4-推荐流程" tabindex="-1">6.4 推荐流程 <a class="header-anchor" href="#_6-4-推荐流程" aria-label="Permalink to &quot;6.4 推荐流程&quot;">​</a></h3><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>用户上传图片 / 点击&quot;搜相似&quot;</span></span>
<span class="line"><span>   ↓</span></span>
<span class="line"><span>图像特征提取</span></span>
<span class="line"><span>   ↓</span></span>
<span class="line"><span>┌──────────────────────────────────┐</span></span>
<span class="line"><span>│  召回阶段                        │</span></span>
<span class="line"><span>│  • 向量相似度检索                │</span></span>
<span class="line"><span>│  • 候选集：2 亿                  │</span></span>
<span class="line"><span>│  • 召回：TOP 1000                │</span></span>
<span class="line"><span>└────────────┬─────────────────────┘</span></span>
<span class="line"><span>             │</span></span>
<span class="line"><span>             ↓</span></span>
<span class="line"><span>┌──────────────────────────────────┐</span></span>
<span class="line"><span>│  排序阶段                        │</span></span>
<span class="line"><span>│  • 相似度得分                    │</span></span>
<span class="line"><span>│  • 质量得分                      │</span></span>
<span class="line"><span>│  • 综合排序                      │</span></span>
<span class="line"><span>└────────────┬─────────────────────┘</span></span>
<span class="line"><span>             │</span></span>
<span class="line"><span>             ↓</span></span>
<span class="line"><span>┌──────────────────────────────────┐</span></span>
<span class="line"><span>│  策略调整                        │</span></span>
<span class="line"><span>│  • 去重                          │</span></span>
<span class="line"><span>│  • 打散                          │</span></span>
<span class="line"><span>└────────────┬─────────────────────┘</span></span>
<span class="line"><span>             │</span></span>
<span class="line"><span>             ↓</span></span>
<span class="line"><span>    推荐结果展示（50个）</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h3 id="_6-5-核心技术" tabindex="-1">6.5 核心技术 <a class="header-anchor" href="#_6-5-核心技术" aria-label="Permalink to &quot;6.5 核心技术&quot;">​</a></h3><p><strong>图像特征提取</strong>：</p><div class="language-python vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 伪代码</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> extract_image_features</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(image):</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 1. 图像预处理</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    image </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> preprocess(image)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 缩放、归一化</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 2. 特征提取模型</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    model </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> load_pretrained_model(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;resnet50&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    features </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> model.extract_features(image)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 3. 特征向量</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    vector </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> features.flatten()  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 2048 维向量</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> vector</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><strong>相似度检索</strong>：</p><div class="language-python vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 伪代码</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> search_similar_images</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(query_vector, candidate_pool, top_k</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">):</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 1. 向量相似度计算</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    similarities </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> []</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> candidate </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> candidate_pool:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        similarity </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> cosine_similarity(query_vector, candidate.vector)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        similarities.append((candidate.id, similarity))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 2. 排序</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    similarities.sort(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=lambda</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> x: x[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">reverse</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">True</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 3. 取 TOP K</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    top_results </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> similarities[:top_k]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> top_results</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p><strong>优化策略</strong>：</p><div class="language-yaml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">性能优化</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  向量索引</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">使用 Faiss/Milvus 等向量数据库</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">加速相似度检索</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  候选集分层</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">高质量候选集</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">全量候选集</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">根据场景选择</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  缓存策略</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">热门图片的相似结果缓存</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">减少重复计算</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><hr><h2 id="七、推荐效果评估" tabindex="-1">七、推荐效果评估 <a class="header-anchor" href="#七、推荐效果评估" aria-label="Permalink to &quot;七、推荐效果评估&quot;">​</a></h2><h3 id="_7-1-核心指标" tabindex="-1">7.1 核心指标 <a class="header-anchor" href="#_7-1-核心指标" aria-label="Permalink to &quot;7.1 核心指标&quot;">​</a></h3><p><strong>业务指标</strong>：</p><table tabindex="0"><thead><tr><th>指标</th><th>说明</th><th>计算方式</th></tr></thead><tbody><tr><td><strong>CTR</strong></td><td>点击率</td><td>点击数 / 曝光数</td></tr><tr><td><strong>采集率</strong></td><td>采集转化率</td><td>采集数 / 点击数</td></tr><tr><td><strong>下载率</strong></td><td>下载转化率</td><td>下载数 / 点击数</td></tr><tr><td><strong>停留时长</strong></td><td>用户停留时长</td><td>总停留时长 / 用户数</td></tr><tr><td><strong>人均PV</strong></td><td>人均浏览量</td><td>总PV / 用户数</td></tr></tbody></table><p><strong>模型指标</strong>：</p><table tabindex="0"><thead><tr><th>指标</th><th>说明</th><th>优化目标</th></tr></thead><tbody><tr><td><strong>AUC</strong></td><td>模型区分能力</td><td>越高越好（&gt; 0.7）</td></tr><tr><td><strong>GAUC</strong></td><td>分组 AUC</td><td>越高越好</td></tr><tr><td><strong>Coverage</strong></td><td>推荐覆盖率</td><td>提升长尾内容曝光</td></tr><tr><td><strong>Diversity</strong></td><td>推荐多样性</td><td>提升内容多样性</td></tr></tbody></table><h3 id="_7-2-ab-测试" tabindex="-1">7.2 AB 测试 <a class="header-anchor" href="#_7-2-ab-测试" aria-label="Permalink to &quot;7.2 AB 测试&quot;">​</a></h3><p><strong>测试流程</strong>：</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>1. 假设提出</span></span>
<span class="line"><span>   ↓</span></span>
<span class="line"><span>2. 实验设计</span></span>
<span class="line"><span>   ↓</span></span>
<span class="line"><span>3. 流量分配（对照组 vs 实验组）</span></span>
<span class="line"><span>   ↓</span></span>
<span class="line"><span>4. 数据收集</span></span>
<span class="line"><span>   ↓</span></span>
<span class="line"><span>5. 统计分析</span></span>
<span class="line"><span>   ↓</span></span>
<span class="line"><span>6. 决策（全量 / 回滚）</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><strong>测试维度</strong>：</p><div class="language-yaml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">召回层测试</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">召回策略对比</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">召回数量对比</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">排序层测试</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">排序模型对比</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">特征重要性对比</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">策略层测试</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">打散策略对比</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">多样性策略对比</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><hr><h2 id="八、总结与展望" tabindex="-1">八、总结与展望 <a class="header-anchor" href="#八、总结与展望" aria-label="Permalink to &quot;八、总结与展望&quot;">​</a></h2><h3 id="_8-1-核心能力总结" tabindex="-1">8.1 核心能力总结 <a class="header-anchor" href="#_8-1-核心能力总结" aria-label="Permalink to &quot;8.1 核心能力总结&quot;">​</a></h3><p><strong>推荐场景</strong>：</p><ul><li>✅ 发现页：个性化 + 热度推荐</li><li>✅ 画板推荐：基于画板的协同过滤</li><li>✅ 关联推荐：内容相似 + 协同过滤</li><li>✅ 图搜：以图搜图能力</li><li>✅ 主题页：热度召回 + CTR 排序</li></ul><p><strong>技术能力</strong>：</p><ul><li>✅ 深度学习排序模型</li><li>✅ 图像特征提取</li><li>✅ 向量相似度检索</li><li>✅ 多目标排序</li><li>✅ 实时个性化</li></ul><h3 id="_8-2-数据成果" tabindex="-1">8.2 数据成果 <a class="header-anchor" href="#_8-2-数据成果" aria-label="Permalink to &quot;8.2 数据成果&quot;">​</a></h3><p><strong>推荐效果</strong>：</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>CTR 提升：相比随机推荐提升 150%</span></span>
<span class="line"><span>采集率提升：相比热度推荐提升 80%</span></span>
<span class="line"><span>停留时长提升：提升 40%</span></span>
<span class="line"><span>人均PV提升：提升 60%</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="_8-3-未来优化方向" tabindex="-1">8.3 未来优化方向 <a class="header-anchor" href="#_8-3-未来优化方向" aria-label="Permalink to &quot;8.3 未来优化方向&quot;">​</a></h3><p><strong>召回优化</strong>：</p><ul><li>🔄 引入更多召回策略（知识图谱）</li><li>🔄 提升召回多样性</li><li>🔄 实时召回优化</li></ul><p><strong>排序优化</strong>：</p><ul><li>🔄 深度学习模型升级</li><li>🔄 引入更多特征</li><li>🔄 多目标平衡优化</li></ul><p><strong>策略优化</strong>：</p><ul><li>🔄 更精细的打散策略</li><li>🔄 实时个性化策略</li><li>🔄 用户生命周期策略</li></ul><p><strong>技术创新</strong>：</p><ul><li>🔄 大模型在推荐中的应用</li><li>🔄 多模态推荐（图文结合）</li><li>🔄 因果推荐</li></ul><hr><h2 id="九、参考资料" tabindex="-1">九、参考资料 <a class="header-anchor" href="#九、参考资料" aria-label="Permalink to &quot;九、参考资料&quot;">​</a></h2><p><strong>内部文档</strong>：</p><ul><li><a href="https://doc.huanleguang.com/wiki/pages/viewpage.action?pageId=248343892" target="_blank" rel="noreferrer">L3: 个性化排序</a></li><li><a href="./01-搜索能力介绍">花瓣搜索能力介绍</a></li></ul><p><strong>原始文档</strong>：</p><ul><li><a href="https://doc.huanleguang.com/pages/viewpage.action?pageId=288235203" target="_blank" rel="noreferrer">Confluence: 花瓣推荐能力介绍</a></li></ul><p><strong>业界参考</strong>：</p><ul><li>推荐系统实践（项亮）</li><li>深度学习推荐系统</li><li>YouTube 推荐系统论文</li><li>阿里巴巴推荐系统实践</li></ul><hr><p><strong>文档维护</strong>：推荐算法团队<br><strong>文档整理</strong>：前端基建团队<br><strong>整理日期</strong>：2025-01-25<br><strong>文档版本</strong>：v2.0</p>`,129)]))}const o=n(h,[["render",k]]);export{m as __pageData,o as default};
