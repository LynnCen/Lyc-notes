import{_ as a,c as n,o as i,a7 as p}from"./chunks/framework.BQb8NfN9.js";const c=JSON.parse('{"title":"RFC 15: Importmap ç”Ÿæˆå·¥å…· WPM2","description":"","frontmatter":{},"headers":[],"relativePath":"work/gd/import-map/02-å·¥å…·æ¼”è¿›-RFC15-WPM2.md","filePath":"work/gd/import-map/02-å·¥å…·æ¼”è¿›-RFC15-WPM2.md","lastUpdated":1770085732000}'),l={name:"work/gd/import-map/02-å·¥å…·æ¼”è¿›-RFC15-WPM2.md"};function t(e,s,r,h,k,d){return i(),n("div",null,s[0]||(s[0]=[p(`<h1 id="rfc-15-importmap-ç”Ÿæˆå·¥å…·-wpm2" tabindex="-1">RFC 15: Importmap ç”Ÿæˆå·¥å…· WPM2 <a class="header-anchor" href="#rfc-15-importmap-ç”Ÿæˆå·¥å…·-wpm2" aria-label="Permalink to &quot;RFC 15: Importmap ç”Ÿæˆå·¥å…· WPM2&quot;">â€‹</a></h1><blockquote><p><strong>æ–‡æ¡£æ¥æº</strong><br> Confluence: <a href="https://doc.huanleguang.com/pages/viewpage.action?pageId=412705023" target="_blank" rel="noreferrer">https://doc.huanleguang.com/pages/viewpage.action?pageId=412705023</a></p></blockquote><hr><h2 id="æ–‡æ¡£æ¦‚è¿°" tabindex="-1">æ–‡æ¡£æ¦‚è¿° <a class="header-anchor" href="#æ–‡æ¡£æ¦‚è¿°" aria-label="Permalink to &quot;æ–‡æ¡£æ¦‚è¿°&quot;">â€‹</a></h2><p>æœ¬ RFC æå‡ºäº† <strong>WPM2</strong>ï¼ˆWeb Package Manager 2.0ï¼‰çš„è®¾è®¡æ–¹æ¡ˆï¼Œæ—¨åœ¨è§£å†³ WPM v1 çš„å±€é™æ€§ï¼Œæä¾›æ›´å¼ºå¤§ã€æ›´å¯é çš„ Import Map ç”Ÿæˆèƒ½åŠ›ã€‚</p><p><strong>æ ¸å¿ƒç›®æ ‡</strong>ï¼š</p><ul><li>ğŸ¯ æ”¯æŒåŒ…çš„å­è·¯å¾„å…¥å£</li><li>ğŸ”’ ç¡®ä¿ä¾èµ–ç‰ˆæœ¬ä¸€è‡´æ€§</li><li>ğŸ¤– å®Œå…¨è‡ªåŠ¨åŒ–çš„ç”Ÿæˆæµç¨‹</li><li>âœ… å¼€å‘ä¸ç”Ÿäº§ç¯å¢ƒä¸€è‡´</li></ul><hr><h2 id="ä¸€ã€åŠ¨æœº" tabindex="-1">ä¸€ã€åŠ¨æœº <a class="header-anchor" href="#ä¸€ã€åŠ¨æœº" aria-label="Permalink to &quot;ä¸€ã€åŠ¨æœº&quot;">â€‹</a></h2><h3 id="_1-1-èƒŒæ™¯" tabindex="-1">1.1 èƒŒæ™¯ <a class="header-anchor" href="#_1-1-èƒŒæ™¯" aria-label="Permalink to &quot;1.1 èƒŒæ™¯&quot;">â€‹</a></h3><p><strong>Import Map</strong> æ˜¯æµè§ˆå™¨ä¸­æ¨¡å—ç‰ˆæœ¬ç®¡ç†çš„æ ‡å‡†ã€‚</p><p><strong>ç°æœ‰å·¥å…·</strong>ï¼š</p><ul><li><strong>WPM v1</strong>ï¼šæˆ‘ä»¬è‡ªç ”çš„ Import Map ç”Ÿæˆå·¥å…·</li><li><strong>esm.dancf.com</strong>ï¼šé…å¥—çš„ ESM CDN æœåŠ¡</li></ul><p><strong>åº”ç”¨åœºæ™¯</strong>ï¼š</p><ul><li>âœ… æµè§ˆå™¨ç«¯ npm åŒ…åŠ é€Ÿ</li><li>âœ… è·¨åº”ç”¨å…±äº«ä¾èµ–</li></ul><p><strong>è¯¦ç»†èƒŒæ™¯</strong>ï¼šå‚è§ <a href="./01-åŸºç¡€æ¦‚å¿µ-importmapä¸ESM-CDNä»‹ç»">importmap &amp; ESM CDN ä»‹ç»</a></p><h3 id="_1-2-wpm-v1-çš„å±€é™æ€§" tabindex="-1">1.2 WPM v1 çš„å±€é™æ€§ <a class="header-anchor" href="#_1-2-wpm-v1-çš„å±€é™æ€§" aria-label="Permalink to &quot;1.2 WPM v1 çš„å±€é™æ€§&quot;">â€‹</a></h3><h4 id="é—®é¢˜-1-ä¸æ”¯æŒåŒ…çš„å­è·¯å¾„å…¥å£" tabindex="-1">é—®é¢˜ 1ï¼šä¸æ”¯æŒåŒ…çš„å­è·¯å¾„å…¥å£ <a class="header-anchor" href="#é—®é¢˜-1-ä¸æ”¯æŒåŒ…çš„å­è·¯å¾„å…¥å£" aria-label="Permalink to &quot;é—®é¢˜ 1ï¼šä¸æ”¯æŒåŒ…çš„å­è·¯å¾„å…¥å£&quot;">â€‹</a></h4><p><strong>å…¸å‹æ¡ˆä¾‹ï¼šlit åŒ…</strong></p><p><strong>WPM v1 åªèƒ½å¯¼å…¥é»˜è®¤å…¥å£</strong>ï¼š</p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;imports&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;lit&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://esm.dancf.com/npm:lit@2.7.0/index.js&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>æ— æ³•æ”¯æŒå­è·¯å¾„å¯¼å‡º</strong>ï¼š</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// âŒ æ— æ³•ä½¿ç”¨</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { customElement } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;lit/decorators.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { html } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;lit/html.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>å½±å“</strong>ï¼š</p><table tabindex="0"><thead><tr><th>éœ€æ±‚</th><th>WPM v1 çš„åšæ³•</th><th>é—®é¢˜</th></tr></thead><tbody><tr><td><strong>å¤šå…¥å£åŒ…</strong></td><td>åˆ›å»ºå¤šä¸ªç‹¬ç«‹çš„åŒ…</td><td>âŒ ç¹ç</td></tr><tr><td><strong>å¤šè¯­è¨€æ–‡ä»¶</strong></td><td>æ¯ä¸ªè¯­è¨€ä¸€ä¸ªåŒ…</td><td>âŒ éœ€è¦æ•°åä¸ªåŒ…</td></tr><tr><td><strong>å·¥å…·å‡½æ•°åº“</strong></td><td>æ— æ³•æŒ‰éœ€å¯¼å…¥</td><td>âŒ åŒ…ä½“ç§¯å¤§</td></tr></tbody></table><p><strong>ç¤ºä¾‹åœºæ™¯</strong>ï¼š</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>éœ€æ±‚ï¼šæ”¯æŒ 10 ç§è¯­è¨€çš„ i18n åŒ…</span></span>
<span class="line"><span></span></span>
<span class="line"><span>WPM v1 æ–¹æ¡ˆï¼š</span></span>
<span class="line"><span>- @company/i18n-zh-CN</span></span>
<span class="line"><span>- @company/i18n-en-US</span></span>
<span class="line"><span>- @company/i18n-ja-JP</span></span>
<span class="line"><span>- ... (å…± 10 ä¸ªåŒ…)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>ç†æƒ³æ–¹æ¡ˆï¼ˆå­è·¯å¾„ï¼‰ï¼š</span></span>
<span class="line"><span>- @company/i18n/zh-CN.js</span></span>
<span class="line"><span>- @company/i18n/en-US.js</span></span>
<span class="line"><span>- @company/i18n/ja-JP.js</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h4 id="é—®é¢˜-2-åŒ…çš„ä¾èµ–ç®¡ç†å®¹æ˜“å‡ºé”™" tabindex="-1">é—®é¢˜ 2ï¼šåŒ…çš„ä¾èµ–ç®¡ç†å®¹æ˜“å‡ºé”™ <a class="header-anchor" href="#é—®é¢˜-2-åŒ…çš„ä¾èµ–ç®¡ç†å®¹æ˜“å‡ºé”™" aria-label="Permalink to &quot;é—®é¢˜ 2ï¼šåŒ…çš„ä¾èµ–ç®¡ç†å®¹æ˜“å‡ºé”™&quot;">â€‹</a></h4><p><strong>é—®é¢˜æè¿°</strong>ï¼š</p><p>WPM v1 è™½ç„¶å¯ä»¥å¼•ç”¨ <code>package.json</code> çš„ <code>dependencies</code> æ¥ç¡®å®šç‰ˆæœ¬ï¼Œä½†å­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼š</p><table tabindex="0"><thead><tr><th>é—®é¢˜</th><th>è¯´æ˜</th><th>å½±å“</th></tr></thead><tbody><tr><td><strong>è¦†ç›–é…ç½®å½±å“</strong></td><td>å—ä»“åº“çº§åˆ«çš„ overrides å½±å“</td><td>âš ï¸ ç‰ˆæœ¬ä¸å‡†ç¡®</td></tr><tr><td><strong>ç‰ˆæœ¬åˆå¹¶ç­–ç•¥</strong></td><td>ä¸ä¸€å®šæ˜¯å®é™…å®‰è£…çš„ç‰ˆæœ¬</td><td>âš ï¸ ç‰ˆæœ¬ä¸ä¸€è‡´</td></tr><tr><td><strong>ç§æœ‰åè®®ä¸æ”¯æŒ</strong></td><td>pnpm çš„ <code>workspace:*</code></td><td>âŒ æ— æ³•è¯†åˆ«</td></tr><tr><td><strong>æ–°åè®®ä¸æ”¯æŒ</strong></td><td>pnpm çš„ <code>catalog:</code></td><td>âŒ æ— æ³•è¯†åˆ«</td></tr></tbody></table><p><strong>ç¤ºä¾‹åœºæ™¯</strong>ï¼š</p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// package.json</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;dependencies&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;vue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;catalog:default&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// â† WPM v1 æ— æ³•è¯†åˆ«</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;@company/utils&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;workspace:*&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // â† WPM v1 æ— æ³•è¯†åˆ«</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>åæœ</strong>ï¼š</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>WPM é…ç½®çš„ç‰ˆæœ¬ â‰  å®é™…å®‰è£…çš„ç‰ˆæœ¬</span></span>
<span class="line"><span>   â†“</span></span>
<span class="line"><span>å¼€å‘ç¯å¢ƒ vs ç”Ÿäº§ç¯å¢ƒç‰ˆæœ¬ä¸åŒ</span></span>
<span class="line"><span>   â†“</span></span>
<span class="line"><span>æœåŠ¡ç«¯ vs å®¢æˆ·ç«¯ç‰ˆæœ¬ä¸åŒ</span></span>
<span class="line"><span>   â†“</span></span>
<span class="line"><span>å¯èƒ½å¯¼è‡´æ•…éšœï¼</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>é¢å¤–ç»´æŠ¤æˆæœ¬</strong>ï¼š</p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// éœ€è¦æ‰‹å·¥ç»´æŠ¤ä¸“å±é…ç½®</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;web-module&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;dependencies&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;vue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2.7.13&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// â† æ‰‹å·¥æŒ‡å®š</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;@company/utils&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;1.2.0&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // â† æ‰‹å·¥æŒ‡å®š</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><strong>é—®é¢˜</strong>ï¼š</p><ul><li>âŒ æ‰‹å·¥ç»´æŠ¤å®¹æ˜“å‡ºé”™</li><li>âŒ ç‰ˆæœ¬åŒæ­¥å›°éš¾</li><li>âŒ å®¹æ˜“è„±èŠ‚</li></ul><hr><h2 id="äºŒã€æè®®å†…å®¹" tabindex="-1">äºŒã€æè®®å†…å®¹ <a class="header-anchor" href="#äºŒã€æè®®å†…å®¹" aria-label="Permalink to &quot;äºŒã€æè®®å†…å®¹&quot;">â€‹</a></h2><h3 id="_2-1-æ ¸å¿ƒæè®®" tabindex="-1">2.1 æ ¸å¿ƒæè®® <a class="header-anchor" href="#_2-1-æ ¸å¿ƒæè®®" aria-label="Permalink to &quot;2.1 æ ¸å¿ƒæè®®&quot;">â€‹</a></h3><blockquote><p><strong>æè®®</strong><br> é‡æ–°è®¾è®¡ Import Map çš„ä¾èµ–é…ç½®æœºåˆ¶å’Œç”Ÿæˆæµç¨‹ï¼Œç¡®ä¿ï¼š</p><ol><li><strong>ç‰ˆæœ¬ä¸€è‡´æ€§</strong>ï¼šå¼€å‘â†’ç”Ÿäº§ã€åç«¯â†’å‰ç«¯çš„ä¾èµ–ç‰ˆæœ¬å®Œå…¨ä¸€è‡´</li><li><strong>æµç¨‹è‡ªåŠ¨åŒ–</strong>ï¼šå®Œå…¨è‡ªåŠ¨åŒ–ç”Ÿæˆï¼Œæ— éœ€äººå·¥ç»´æŠ¤</li></ol></blockquote><h3 id="_2-2-å…³é”®æ”¹è¿›" tabindex="-1">2.2 å…³é”®æ”¹è¿› <a class="header-anchor" href="#_2-2-å…³é”®æ”¹è¿›" aria-label="Permalink to &quot;2.2 å…³é”®æ”¹è¿›&quot;">â€‹</a></h3><table tabindex="0"><thead><tr><th>æ”¹è¿›é¡¹</th><th>WPM v1</th><th>WPM2</th></tr></thead><tbody><tr><td><strong>å­è·¯å¾„æ”¯æŒ</strong></td><td>âŒ ä¸æ”¯æŒ</td><td>âœ… å®Œæ•´æ”¯æŒ</td></tr><tr><td><strong>ç‰ˆæœ¬æ¥æº</strong></td><td>package.json dependencies</td><td>âœ… node_modules å®é™…å®‰è£…ç‰ˆæœ¬</td></tr><tr><td><strong>workspace æ”¯æŒ</strong></td><td>âŒ ä¸æ”¯æŒ</td><td>âœ… æ”¯æŒ workspace:*</td></tr><tr><td><strong>catalog æ”¯æŒ</strong></td><td>âŒ ä¸æ”¯æŒ</td><td>âœ… æ”¯æŒ catalog:</td></tr><tr><td><strong>è‡ªåŠ¨åŒ–ç¨‹åº¦</strong></td><td>éœ€è¦æ‰‹å·¥é…ç½®</td><td>âœ… å®Œå…¨è‡ªåŠ¨åŒ–</td></tr></tbody></table><hr><h2 id="ä¸‰ã€è¯¦ç»†è®¾è®¡" tabindex="-1">ä¸‰ã€è¯¦ç»†è®¾è®¡ <a class="header-anchor" href="#ä¸‰ã€è¯¦ç»†è®¾è®¡" aria-label="Permalink to &quot;ä¸‰ã€è¯¦ç»†è®¾è®¡&quot;">â€‹</a></h2><h3 id="_3-1-import-map-æ ‡å‡†é…ç½®" tabindex="-1">3.1 Import Map æ ‡å‡†é…ç½® <a class="header-anchor" href="#_3-1-import-map-æ ‡å‡†é…ç½®" aria-label="Permalink to &quot;3.1 Import Map æ ‡å‡†é…ç½®&quot;">â€‹</a></h3><h4 id="é…ç½®ä½ç½®" tabindex="-1">é…ç½®ä½ç½® <a class="header-anchor" href="#é…ç½®ä½ç½®" aria-label="Permalink to &quot;é…ç½®ä½ç½®&quot;">â€‹</a></h4><p>åœ¨ <code>package.json</code> ä¸­å®šä¹‰éœ€è¦åœ¨æµè§ˆå™¨ä¸­å…±äº«çš„ Import Map åŒ…ã€‚</p><p><strong>ä½¿ç”¨ <code>browserImportMap</code> å­—æ®µ</strong>ï¼š</p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;my-app&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;browserImportMap&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;packages&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;react&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;react-dom&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;lit/decorators.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;defaultProvider&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;dancf&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;providers&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;@orgscope&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;nodemodules&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;defaultImportMap&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h4 id="é…ç½®å­—æ®µè¯´æ˜" tabindex="-1">é…ç½®å­—æ®µè¯´æ˜ <a class="header-anchor" href="#é…ç½®å­—æ®µè¯´æ˜" aria-label="Permalink to &quot;é…ç½®å­—æ®µè¯´æ˜&quot;">â€‹</a></h4><h5 id="packages" tabindex="-1">packages <a class="header-anchor" href="#packages" aria-label="Permalink to &quot;packages&quot;">â€‹</a></h5><p><strong>ç±»å‹</strong>ï¼š<code>string[]</code></p><p><strong>è¯´æ˜</strong>ï¼šç”Ÿæˆ Import Map çš„åŒ…ååˆ—è¡¨</p><p><strong>æ”¯æŒæ ¼å¼</strong>ï¼š</p><table tabindex="0"><thead><tr><th>æ ¼å¼</th><th>ç¤ºä¾‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>åŒ…å</strong></td><td><code>&quot;react&quot;</code></td><td>åŒ…çš„é»˜è®¤å…¥å£</td></tr><tr><td><strong>å­è·¯å¾„</strong></td><td><code>&quot;lit/decorators.js&quot;</code></td><td>åŒ…çš„å­è·¯å¾„å…¥å£</td></tr><tr><td><strong>Scoped åŒ…</strong></td><td><code>&quot;@gaoding/utils&quot;</code></td><td>Scoped åŒ…</td></tr><tr><td><strong>Scoped + å­è·¯å¾„</strong></td><td><code>&quot;@gaoding/utils/date.js&quot;</code></td><td>Scoped åŒ…çš„å­è·¯å¾„</td></tr></tbody></table><p><strong>ç¤ºä¾‹</strong>ï¼š</p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;browserImportMap&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;packages&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;react&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;react-dom&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;lit&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;lit/decorators.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;lit/html.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;@gaoding/user-device-id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;@gaoding/utils/date.js&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><strong>å…³é”®ç‰¹æ€§</strong>ï¼š</p><ul><li>âœ… <strong>æ— éœ€æŒ‡å®šç‰ˆæœ¬å·</strong>ï¼šå·¥å…·ä¼šè‡ªåŠ¨æŸ¥æ‰¾ node_modules ä¸­çš„å®é™…å®‰è£…ç‰ˆæœ¬</li><li>âœ… <strong>æ”¯æŒå­è·¯å¾„</strong>ï¼šè§£å†³ WPM v1 çš„æ ¸å¿ƒé™åˆ¶</li><li>âœ… <strong>è‡ªåŠ¨è§£æä¾èµ–</strong>ï¼šé€’å½’è§£æå­ä¾èµ–</li></ul><h5 id="defaultprovider" tabindex="-1">defaultProvider <a class="header-anchor" href="#defaultprovider" aria-label="Permalink to &quot;defaultProvider&quot;">â€‹</a></h5><p><strong>ç±»å‹</strong>ï¼š<code>string</code></p><p><strong>è¯´æ˜</strong>ï¼šé»˜è®¤çš„ CDN ä¾›åº”å•†</p><p><strong>å¯é€‰å€¼</strong>ï¼š</p><table tabindex="0"><thead><tr><th>å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>&quot;dancf&quot;</code></td><td>esm.dancf.comï¼ˆé»˜è®¤ï¼‰</td></tr><tr><td><code>&quot;jspm&quot;</code></td><td>ga.jspm.io</td></tr><tr><td><code>&quot;nodemodules&quot;</code></td><td>æœ¬åœ° node_modules</td></tr></tbody></table><p><strong>ç¤ºä¾‹</strong>ï¼š</p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;browserImportMap&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;defaultProvider&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;dancf&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h5 id="providers" tabindex="-1">providers <a class="header-anchor" href="#providers" aria-label="Permalink to &quot;providers&quot;">â€‹</a></h5><p><strong>ç±»å‹</strong>ï¼š<code>Record&lt;string, string&gt;</code>ï¼ˆå¯é€‰ï¼‰</p><p><strong>è¯´æ˜</strong>ï¼šè‡ªå®šä¹‰ä¾›åº”å•†æ˜ å°„</p><p><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼š</p><ul><li>âœ… ç‰¹å®š scope ä½¿ç”¨ä¸åŒçš„ä¾›åº”å•†</li><li>âœ… æœ¬åœ°å¼€å‘ä½¿ç”¨ node_modules</li><li>âœ… å†…éƒ¨åŒ…ä½¿ç”¨ç§æœ‰ CDN</li></ul><p><strong>ç¤ºä¾‹</strong>ï¼š</p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;browserImportMap&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;defaultProvider&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;dancf&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;providers&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;@company&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;nodemodules&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å…¬å¸å†…éƒ¨åŒ…ä½¿ç”¨æœ¬åœ°</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;@test&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;jspm&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">              // æµ‹è¯•åŒ…ä½¿ç”¨ JSPM</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><strong>å·¥ä½œåŸç†</strong>ï¼š</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>åŒ…: @company/utils</span></span>
<span class="line"><span>   â†“</span></span>
<span class="line"><span>åŒ¹é… providers è§„åˆ™</span></span>
<span class="line"><span>   â†“</span></span>
<span class="line"><span>æ‰¾åˆ° @company â†’ nodemodules</span></span>
<span class="line"><span>   â†“</span></span>
<span class="line"><span>ä½¿ç”¨æœ¬åœ° node_modules è·¯å¾„</span></span>
<span class="line"><span></span></span>
<span class="line"><span>åŒ…: react</span></span>
<span class="line"><span>   â†“</span></span>
<span class="line"><span>åŒ¹é… providers è§„åˆ™</span></span>
<span class="line"><span>   â†“</span></span>
<span class="line"><span>æœªæ‰¾åˆ°åŒ¹é…</span></span>
<span class="line"><span>   â†“</span></span>
<span class="line"><span>ä½¿ç”¨ defaultProvider: dancf</span></span>
<span class="line"><span>   â†“</span></span>
<span class="line"><span>ä½¿ç”¨ esm.dancf.com CDN</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h5 id="defaultimportmap" tabindex="-1">defaultImportMap <a class="header-anchor" href="#defaultimportmap" aria-label="Permalink to &quot;defaultImportMap&quot;">â€‹</a></h5><p><strong>ç±»å‹</strong>ï¼š<code>ImportMap</code>ï¼ˆå¯é€‰ï¼‰</p><p><strong>è¯´æ˜</strong>ï¼šé»˜è®¤çš„ Import Map å†…å®¹ï¼Œä¼šä¸ç”Ÿæˆçš„ Import Map åˆå¹¶</p><p><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼š</p><ul><li>âœ… æ·»åŠ é¢å¤–çš„æ˜ å°„</li><li>âœ… è¦†ç›–ç‰¹å®šåŒ…çš„ URL</li><li>âœ… æ·»åŠ è‡ªå®šä¹‰çš„ scopes</li></ul><p><strong>ç¤ºä¾‹</strong>ï¼š</p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;browserImportMap&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;packages&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;react&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;defaultImportMap&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;imports&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;utils&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./src/utils/index.js&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;scopes&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;/admin/&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">          &quot;react&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://custom-cdn.com/react@17.0.2/index.js&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="_3-2-import-map-çš„æ ‡å‡†ç”Ÿæˆæµç¨‹" tabindex="-1">3.2 Import Map çš„æ ‡å‡†ç”Ÿæˆæµç¨‹ <a class="header-anchor" href="#_3-2-import-map-çš„æ ‡å‡†ç”Ÿæˆæµç¨‹" aria-label="Permalink to &quot;3.2 Import Map çš„æ ‡å‡†ç”Ÿæˆæµç¨‹&quot;">â€‹</a></h3><h4 id="ç”Ÿæˆæ—¶æœº-å®‰è£…é˜¶æ®µ" tabindex="-1">ç”Ÿæˆæ—¶æœºï¼šå®‰è£…é˜¶æ®µ <a class="header-anchor" href="#ç”Ÿæˆæ—¶æœº-å®‰è£…é˜¶æ®µ" aria-label="Permalink to &quot;ç”Ÿæˆæ—¶æœºï¼šå®‰è£…é˜¶æ®µ&quot;">â€‹</a></h4><p><strong>è®¾è®¡åŸåˆ™</strong>ï¼šImport Map ç±»ä¼¼äº lockfileï¼Œåº”åœ¨åŒ…å®‰è£…é˜¶æ®µå®Œæˆã€‚</p><p><strong>é…ç½® postinstall</strong>ï¼š</p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;scripts&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;postinstall&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;wpm2 --output public/importmap.json&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>å·¥ä½œæµç¨‹</strong>ï¼š</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>npm install / pnpm install</span></span>
<span class="line"><span>   â†“</span></span>
<span class="line"><span>å®‰è£…ä¾èµ–åˆ° node_modules</span></span>
<span class="line"><span>   â†“</span></span>
<span class="line"><span>è§¦å‘ postinstall é’©å­</span></span>
<span class="line"><span>   â†“</span></span>
<span class="line"><span>æ‰§è¡Œ wpm2</span></span>
<span class="line"><span>   â”œâ”€ è¯»å– browserImportMap é…ç½®</span></span>
<span class="line"><span>   â”œâ”€ æ‰«æ node_modules è·å–å®é™…ç‰ˆæœ¬</span></span>
<span class="line"><span>   â”œâ”€ ç”Ÿæˆ Import Map</span></span>
<span class="line"><span>   â””â”€ è¾“å‡º importmap.json</span></span>
<span class="line"><span>      â†“</span></span>
<span class="line"><span>æäº¤åˆ° gitï¼ˆç±»ä¼¼ package-lock.jsonï¼‰</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><strong>å…³é”®ç‰¹æ€§</strong>ï¼š</p><ul><li>âœ… è‡ªåŠ¨è§¦å‘ï¼Œæ— éœ€æ‰‹åŠ¨æ‰§è¡Œ</li><li>âœ… å¼€å‘é˜¶æ®µå°±ç”Ÿæˆï¼Œä¾¿äºè°ƒè¯•</li><li>âœ… æäº¤åˆ° gitï¼Œç¡®ä¿å›¢é˜Ÿä¸€è‡´</li></ul><h4 id="ç‰ˆæœ¬ç®¡ç†-ä½¿ç”¨-catalog-åè®®" tabindex="-1">ç‰ˆæœ¬ç®¡ç†ï¼šä½¿ç”¨ catalog åè®® <a class="header-anchor" href="#ç‰ˆæœ¬ç®¡ç†-ä½¿ç”¨-catalog-åè®®" aria-label="Permalink to &quot;ç‰ˆæœ¬ç®¡ç†ï¼šä½¿ç”¨ catalog åè®®&quot;">â€‹</a></h4><p><strong>èƒŒæ™¯</strong>ï¼š</p><ul><li><code>overrides</code>ï¼šä»“åº“çº§åˆ«è¦†ç›–ï¼Œä¼šå½±å“æ·±å±‚ä¾èµ–ï¼ˆé£é™©é«˜ï¼‰</li><li><code>catalog:</code>ï¼šåŒ…çº§åˆ«æ§åˆ¶ï¼Œä¸è¦†ç›–æ·±å±‚ä¾èµ–ï¼ˆæ›´å®‰å…¨ï¼‰</li></ul><p><strong>æ¨èä½¿ç”¨ catalog</strong>ï¼š</p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// pnpm-workspace.yaml</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">catalogs:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  default:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    vue: ^</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2.7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    react: ^</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">17.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// package.json</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;dependencies&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;vue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;catalog:default&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;react&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;catalog:default&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><strong>ä¼˜åŠ¿</strong>ï¼š</p><table tabindex="0"><thead><tr><th>ç‰¹æ€§</th><th>overrides</th><th>catalog</th></tr></thead><tbody><tr><td><strong>æ§åˆ¶ç²’åº¦</strong></td><td>å…¨å±€ï¼ˆåŒ…æ‹¬æ·±å±‚ä¾èµ–ï¼‰</td><td>åŒ…çº§åˆ«</td></tr><tr><td><strong>å®‰å…¨æ€§</strong></td><td>âš ï¸ å¯èƒ½ç ´åæ·±å±‚ä¾èµ–</td><td>âœ… ä¸å½±å“æ·±å±‚ä¾èµ–</td></tr><tr><td><strong>å¯æ§æ€§</strong></td><td>âš ï¸ å…¨å±€å½±å“</td><td>âœ… ç²¾ç¡®æ§åˆ¶</td></tr><tr><td><strong>æ¨è</strong></td><td>è°¨æ…ä½¿ç”¨</td><td>âœ… ä¼˜å…ˆä½¿ç”¨</td></tr></tbody></table><h3 id="_3-3-browserimportmap-ä¸-wpm2-çš„è¾¹ç•Œ" tabindex="-1">3.3 browserImportMap ä¸ WPM2 çš„è¾¹ç•Œ <a class="header-anchor" href="#_3-3-browserimportmap-ä¸-wpm2-çš„è¾¹ç•Œ" aria-label="Permalink to &quot;3.3 browserImportMap ä¸ WPM2 çš„è¾¹ç•Œ&quot;">â€‹</a></h3><h4 id="è®¾è®¡ç†å¿µ" tabindex="-1">è®¾è®¡ç†å¿µ <a class="header-anchor" href="#è®¾è®¡ç†å¿µ" aria-label="Permalink to &quot;è®¾è®¡ç†å¿µ&quot;">â€‹</a></h4><p><strong>åˆ†å±‚è®¾è®¡</strong>ï¼š</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span></span>
<span class="line"><span>â”‚       browserImportMap              â”‚</span></span>
<span class="line"><span>â”‚   (æ ‡å‡†é…ç½®æ ¼å¼ï¼Œå·¥å…·æ— å…³)            â”‚</span></span>
<span class="line"><span>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span></span>
<span class="line"><span>               â”‚ å®ç°</span></span>
<span class="line"><span>               â†“</span></span>
<span class="line"><span>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span></span>
<span class="line"><span>â”‚            WPM2                      â”‚</span></span>
<span class="line"><span>â”‚  (å…·ä½“å®ç°å·¥å…·ï¼Œæ”¯æŒ esm.dancf.com)   â”‚</span></span>
<span class="line"><span>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span></span>
<span class="line"><span>               â”‚ ä½¿ç”¨</span></span>
<span class="line"><span>               â†“</span></span>
<span class="line"><span>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span></span>
<span class="line"><span>â”‚        JSPM Generator                â”‚</span></span>
<span class="line"><span>â”‚      (åº•å±‚ç”Ÿæˆå¼•æ“)                   â”‚</span></span>
<span class="line"><span>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h4 id="browserimportmap" tabindex="-1">browserImportMap <a class="header-anchor" href="#browserimportmap" aria-label="Permalink to &quot;browserImportMap&quot;">â€‹</a></h4><p><strong>å®šä½</strong>ï¼š</p><ul><li>âœ… å·¥å…·æ— å…³çš„é…ç½®æ ¼å¼æ ‡å‡†</li><li>âœ… æœªæ¥å¯èƒ½è¢«å…ƒæ¡†æ¶å†…ç½®æ”¯æŒ</li><li>âœ… å…¶ä»–å·¥å…·ä¹Ÿå¯ä»¥å®ç°</li></ul><p><strong>ç‰¹ç‚¹</strong>ï¼š</p><ul><li>âœ… åªå®šä¹‰æ ‡å‡†æ ¼å¼</li><li>âŒ ä¸åŒ…å«å…·ä½“å®ç°</li><li>âŒ ä¸æ”¯æŒæ ‡å‡†ä¹‹å¤–çš„æ‰©å±•</li></ul><h4 id="wpm2" tabindex="-1">WPM2 <a class="header-anchor" href="#wpm2" aria-label="Permalink to &quot;WPM2&quot;">â€‹</a></h4><p><strong>å®šä½</strong>ï¼š</p><ul><li>âœ… browserImportMap çš„æ ‡å‡†å®ç°</li><li>âœ… é»˜è®¤æ”¯æŒ esm.dancf.com</li><li>âœ… ç®€å•æ˜“ç”¨çš„å‘½ä»¤è¡Œå·¥å…·</li></ul><p><strong>å®ç°è¾¹ç•Œ</strong>ï¼š</p><ul><li>âœ… å®ç° browserImportMap æ ‡å‡†</li><li>âœ… æä¾›åˆç†çš„é»˜è®¤é…ç½®</li><li>âŒ ä¸æ”¯æŒæ ‡å‡†ä¹‹å¤–çš„æ‰©å±•</li></ul><p><strong>é«˜çº§éœ€æ±‚</strong>ï¼š</p><ul><li>å¦‚éœ€æ ‡å‡†ä¹‹å¤–çš„åŠŸèƒ½ï¼Œå»ºè®®ç›´æ¥ä½¿ç”¨ JSPM Generator API</li></ul><p><strong>ç¤ºä¾‹å¯¹æ¯”</strong>ï¼š</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// âœ… WPM2 æ ‡å‡†ç”¨æ³•ï¼ˆæ¨èï¼‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;browserImportMap&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;packages&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;react&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;vue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// âŒ è‡ªå®šä¹‰éœ€æ±‚ï¼ˆä½¿ç”¨ JSPM Generatorï¼‰</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { Generator } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@jspm/generator&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> generator</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Generator</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å®Œå…¨è‡ªå®šä¹‰çš„é…ç½®</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  customProviders: { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  customResolve: { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="_3-4-å®ç°æ–¹æ¡ˆ" tabindex="-1">3.4 å®ç°æ–¹æ¡ˆ <a class="header-anchor" href="#_3-4-å®ç°æ–¹æ¡ˆ" aria-label="Permalink to &quot;3.4 å®ç°æ–¹æ¡ˆ&quot;">â€‹</a></h3><h4 id="wpm2-å®ç°" tabindex="-1">WPM2 å®ç° <a class="header-anchor" href="#wpm2-å®ç°" aria-label="Permalink to &quot;WPM2 å®ç°&quot;">â€‹</a></h4><p><strong>æ ¸å¿ƒæŠ€æœ¯</strong>ï¼šå€ŸåŠ© <a href="https://github.com/jspm/generator" target="_blank" rel="noreferrer">JSPM Generator</a> å®ç°</p><p><strong>å…³é”®æ­¥éª¤</strong>ï¼š</p><ol><li><strong>åˆ›å»º CDN é€‚é…å™¨</strong></li></ol><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { Generator } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@jspm/generator&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä½¿ç”¨ customProviders åˆ›å»º esm.dancf.com é€‚é…å™¨</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> generator</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Generator</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  defaultProvider: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;dancf&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  customProviders: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    dancf: {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      pkgToUrl</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">pkg</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">subpath</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> \`https://esm.dancf.com/npm:\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">pkg</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}@\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">pkg</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">version</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">subpath</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><ol start="2"><li><strong>æŸ¥æ‰¾å®é™…å®‰è£…ç‰ˆæœ¬</strong></li></ol><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ ¹æ®é¡¹ç›® node_modules ç¡®å®šç‰ˆæœ¬å·</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getInstalledVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">packageName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> pkgPath</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> path.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">join</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    process.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cwd</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;node_modules&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    packageName,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;package.json&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  );</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> pkg</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(pkgPath);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> pkg.version;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>å‚è€ƒï¼š<a href="https://github.com/jspm/generator/blob/main/src/providers/nodemodules.ts" target="_blank" rel="noreferrer">providers/nodemodules.ts</a></p><ol start="3"><li><strong>ç”Ÿæˆ Import Map</strong></li></ol><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è¯»å– browserImportMap é…ç½®</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> config</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> pkg.browserImportMap;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å®‰è£…åŒ…åˆ° Import Map</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> packageName</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> config.packages) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> version</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getInstalledVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(packageName);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> generator.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">install</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(packageName, version);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç”Ÿæˆæœ€ç»ˆçš„ Import Map</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> importMap</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> generator.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getMap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h4 id="vite-æ’ä»¶" tabindex="-1">Vite æ’ä»¶ <a class="header-anchor" href="#vite-æ’ä»¶" aria-label="Permalink to &quot;Vite æ’ä»¶&quot;">â€‹</a></h4><p><strong>èŒè´£</strong>ï¼š</p><table tabindex="0"><thead><tr><th>åŠŸèƒ½</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>æ’é™¤å¤–éƒ¨åŒ–åŒ…</strong></td><td>æ„å»ºæ—¶è‡ªåŠ¨æ’é™¤ Import Map ä¸­çš„åŒ…</td></tr><tr><td><strong>æ³¨å…¥ Import Map</strong></td><td>è‡ªåŠ¨ä¸º HTML æ’å…¥ <code>&lt;script type=&quot;importmap&quot;&gt;</code></td></tr><tr><td><strong>å¼€å‘æœåŠ¡å™¨æ”¯æŒ</strong></td><td>å¼€å‘ç¯å¢ƒä¹Ÿä½¿ç”¨ Import Map</td></tr></tbody></table><p><strong>å®ç°ç¤ºä¾‹</strong>ï¼š</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// vite-plugin-import-map.js</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> importMapPlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> importMap;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;vite-plugin-import-map&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // è¯»å– Import Map</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    configResolved</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      importMap </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> JSON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parse</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        fs.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readFileSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;importmap.json&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;utf-8&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      );</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // è‡ªåŠ¨æ’é™¤å¤–éƒ¨åŒ–åŒ…</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> external</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Object.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">keys</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(importMap.imports);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        build: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          rollupOptions: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            external</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // æ³¨å…¥åˆ° HTML</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    transformIndexHtml</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">html</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> importMapScript</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> \`</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &lt;script type=&quot;importmap&quot;&gt;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">          \${</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">JSON</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">stringify</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">importMap</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &lt;/script&gt;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      \`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> html.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">replace</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;/head&gt;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">importMapScript</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}&lt;/head&gt;\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br></div></div><hr><h2 id="å››ã€ä½¿ç”¨ç¤ºä¾‹" tabindex="-1">å››ã€ä½¿ç”¨ç¤ºä¾‹ <a class="header-anchor" href="#å››ã€ä½¿ç”¨ç¤ºä¾‹" aria-label="Permalink to &quot;å››ã€ä½¿ç”¨ç¤ºä¾‹&quot;">â€‹</a></h2><h3 id="_4-1-åŸºç¡€ä½¿ç”¨" tabindex="-1">4.1 åŸºç¡€ä½¿ç”¨ <a class="header-anchor" href="#_4-1-åŸºç¡€ä½¿ç”¨" aria-label="Permalink to &quot;4.1 åŸºç¡€ä½¿ç”¨&quot;">â€‹</a></h3><p><strong>1. å®‰è£… WPM2</strong></p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -D</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @growing-web/wpm2</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>2. é…ç½® package.json</strong></p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;my-app&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;browserImportMap&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;packages&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;react&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;react-dom&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;vue&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;defaultProvider&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;dancf&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;scripts&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;postinstall&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;wpm2&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p><strong>3. å®‰è£…ä¾èµ–</strong></p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>4. ç”Ÿæˆçš„ importmap.json</strong></p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;imports&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;react&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://esm.dancf.com/npm:react@17.0.2/index.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;react-dom&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://esm.dancf.com/npm:react-dom@17.0.2/index.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;vue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://esm.dancf.com/npm:vue@2.7.13/dist/vue.runtime.esm.js&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;scopes&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;https://esm.dancf.com/&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;object-assign&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://esm.dancf.com/npm:object-assign@4.1.1/index.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;@vue/runtime-core&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://esm.dancf.com/npm:@vue/runtime-core@2.7.13/index.js&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="_4-2-å­è·¯å¾„æ”¯æŒ" tabindex="-1">4.2 å­è·¯å¾„æ”¯æŒ <a class="header-anchor" href="#_4-2-å­è·¯å¾„æ”¯æŒ" aria-label="Permalink to &quot;4.2 å­è·¯å¾„æ”¯æŒ&quot;">â€‹</a></h3><p><strong>é…ç½®</strong>ï¼š</p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;browserImportMap&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;packages&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;lit&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;lit/decorators.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;lit/html.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;lit/directives/class-map.js&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><strong>ç”Ÿæˆçš„ Import Map</strong>ï¼š</p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;imports&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;lit&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://esm.dancf.com/npm:lit@2.7.0/index.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;lit/decorators.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://esm.dancf.com/npm:lit@2.7.0/decorators.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;lit/html.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://esm.dancf.com/npm:lit@2.7.0/html.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;lit/directives/class-map.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://esm.dancf.com/npm:lit@2.7.0/directives/class-map.js&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>ä½¿ç”¨</strong>ï¼š</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { LitElement } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;lit&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { customElement, property } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;lit/decorators.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { html } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;lit/html.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { classMap } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;lit/directives/class-map.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">customElement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;my-element&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyElement</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> LitElement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  @</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">property</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;World&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  render</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> html</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`&lt;div&gt;Hello \${</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}!&lt;/div&gt;\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="_4-3-æ··åˆä¾›åº”å•†" tabindex="-1">4.3 æ··åˆä¾›åº”å•† <a class="header-anchor" href="#_4-3-æ··åˆä¾›åº”å•†" aria-label="Permalink to &quot;4.3 æ··åˆä¾›åº”å•†&quot;">â€‹</a></h3><p><strong>é…ç½®</strong>ï¼š</p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;browserImportMap&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;packages&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;react&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;@company/utils&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;@company/components&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;defaultProvider&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;dancf&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;providers&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;@company&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;nodemodules&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><strong>ç”Ÿæˆçš„ Import Map</strong>ï¼š</p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;imports&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;react&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://esm.dancf.com/npm:react@17.0.2/index.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;@company/utils&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/node_modules/@company/utils/dist/index.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;@company/components&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/node_modules/@company/components/dist/index.js&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>åº”ç”¨åœºæ™¯</strong>ï¼š</p><ul><li>âœ… å¼€å‘ç¯å¢ƒï¼šå†…éƒ¨åŒ…ä½¿ç”¨æœ¬åœ°ï¼Œçƒ­æ›´æ–°æ›´å¿«</li><li>âœ… ç”Ÿäº§ç¯å¢ƒï¼šå†…éƒ¨åŒ…ä½¿ç”¨ CDN</li><li>âœ… æ··åˆéƒ¨ç½²ï¼šçµæ´»é…ç½®</li></ul><hr><h2 id="äº”ã€ä¸šåŠ¡å‡çº§è®¡åˆ’" tabindex="-1">äº”ã€ä¸šåŠ¡å‡çº§è®¡åˆ’ <a class="header-anchor" href="#äº”ã€ä¸šåŠ¡å‡çº§è®¡åˆ’" aria-label="Permalink to &quot;äº”ã€ä¸šåŠ¡å‡çº§è®¡åˆ’&quot;">â€‹</a></h2><h3 id="_5-1-å‡çº§æ­¥éª¤" tabindex="-1">5.1 å‡çº§æ­¥éª¤ <a class="header-anchor" href="#_5-1-å‡çº§æ­¥éª¤" aria-label="Permalink to &quot;5.1 å‡çº§æ­¥éª¤&quot;">â€‹</a></h3><p><strong>é˜¶æ®µ 1ï¼šè¯•ç‚¹é¡¹ç›®</strong></p><ul><li>[ ] é€‰æ‹© 1-2 ä¸ªé¡¹ç›®è¯•ç‚¹</li><li>[ ] å®‰è£… WPM2</li><li>[ ] é…ç½® browserImportMap</li><li>[ ] éªŒè¯åŠŸèƒ½å’Œæ€§èƒ½</li></ul><p><strong>é˜¶æ®µ 2ï¼šé€æ­¥æ¨å¹¿</strong></p><ul><li>[ ] æ€»ç»“è¯•ç‚¹ç»éªŒ</li><li>[ ] ç¼–å†™å‡çº§æ–‡æ¡£</li><li>[ ] é€æ­¥æ¨å¹¿åˆ°å…¶ä»–é¡¹ç›®</li></ul><p><strong>é˜¶æ®µ 3ï¼šå…¨é¢è¿ç§»</strong></p><ul><li>[ ] æ‰€æœ‰é¡¹ç›®è¿ç§»åˆ° WPM2</li><li>[ ] ä¸‹çº¿ WPM v1</li></ul><h3 id="_5-2-å…¼å®¹æ€§è€ƒè™‘" tabindex="-1">5.2 å…¼å®¹æ€§è€ƒè™‘ <a class="header-anchor" href="#_5-2-å…¼å®¹æ€§è€ƒè™‘" aria-label="Permalink to &quot;5.2 å…¼å®¹æ€§è€ƒè™‘&quot;">â€‹</a></h3><p><strong>WPM v1 â†’ WPM2 å‡çº§</strong>ï¼š</p><table tabindex="0"><thead><tr><th>é¡¹ç›®</th><th>å…¼å®¹æ€§</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>é…ç½®æ ¼å¼</strong></td><td>âŒ ä¸å…¼å®¹</td><td>éœ€è¦è¿ç§»åˆ° browserImportMap</td></tr><tr><td><strong>ç”Ÿæˆç»“æœ</strong></td><td>âœ… å…¼å®¹</td><td>Import Map æ ¼å¼ç›¸åŒ</td></tr><tr><td><strong>ä½¿ç”¨æ–¹å¼</strong></td><td>âœ… å…¼å®¹</td><td>HTML ä¸­çš„ä½¿ç”¨æ–¹å¼ç›¸åŒ</td></tr></tbody></table><p><strong>è¿ç§»æˆæœ¬</strong>ï¼š</p><ul><li>ğŸŸ¢ ä½ï¼šåªéœ€ä¿®æ”¹é…ç½®æ–‡ä»¶</li><li>ğŸŸ¢ è‡ªåŠ¨ï¼šç‰ˆæœ¬ä¿¡æ¯è‡ªåŠ¨è·å–</li><li>ğŸŸ¢ é€æ˜ï¼šä¸šåŠ¡ä»£ç æ— éœ€æ”¹åŠ¨</li></ul><hr><h2 id="å…­ã€æ€»ç»“" tabindex="-1">å…­ã€æ€»ç»“ <a class="header-anchor" href="#å…­ã€æ€»ç»“" aria-label="Permalink to &quot;å…­ã€æ€»ç»“&quot;">â€‹</a></h2><h3 id="_6-1-æ ¸å¿ƒæ”¹è¿›" tabindex="-1">6.1 æ ¸å¿ƒæ”¹è¿› <a class="header-anchor" href="#_6-1-æ ¸å¿ƒæ”¹è¿›" aria-label="Permalink to &quot;6.1 æ ¸å¿ƒæ”¹è¿›&quot;">â€‹</a></h3><p><strong>WPM2 è§£å†³çš„é—®é¢˜</strong>ï¼š</p><table tabindex="0"><thead><tr><th>é—®é¢˜</th><th>WPM v1</th><th>WPM2</th><th>æ”¹è¿›</th></tr></thead><tbody><tr><td><strong>å­è·¯å¾„æ”¯æŒ</strong></td><td>âŒ</td><td>âœ…</td><td>ğŸ¯ æ ¸å¿ƒç‰¹æ€§</td></tr><tr><td><strong>ç‰ˆæœ¬ä¸€è‡´æ€§</strong></td><td>âš ï¸ æ˜“å‡ºé”™</td><td>âœ… ä¿è¯ä¸€è‡´</td><td>ğŸ”’ å…³é”®æ”¹è¿›</td></tr><tr><td><strong>è‡ªåŠ¨åŒ–ç¨‹åº¦</strong></td><td>âš ï¸ éœ€æ‰‹å·¥ç»´æŠ¤</td><td>âœ… å®Œå…¨è‡ªåŠ¨</td><td>ğŸ¤– æ•ˆç‡æå‡</td></tr><tr><td><strong>workspace æ”¯æŒ</strong></td><td>âŒ</td><td>âœ…</td><td>ğŸ“¦ ç°ä»£åŒ–</td></tr><tr><td><strong>catalog æ”¯æŒ</strong></td><td>âŒ</td><td>âœ…</td><td>ğŸ“¦ ç°ä»£åŒ–</td></tr></tbody></table><h3 id="_6-2-å…³é”®ä»·å€¼" tabindex="-1">6.2 å…³é”®ä»·å€¼ <a class="header-anchor" href="#_6-2-å…³é”®ä»·å€¼" aria-label="Permalink to &quot;6.2 å…³é”®ä»·å€¼&quot;">â€‹</a></h3><p><strong>æŠ€æœ¯ä»·å€¼</strong>ï¼š</p><ul><li>âœ… æ”¯æŒç°ä»£åŒ…ç®¡ç†ç‰¹æ€§</li><li>âœ… å®Œå…¨è‡ªåŠ¨åŒ–çš„å·¥ä½œæµ</li><li>âœ… ç¡®ä¿ç‰ˆæœ¬ä¸€è‡´æ€§</li><li>âœ… é™ä½ç»´æŠ¤æˆæœ¬</li></ul><p><strong>ä¸šåŠ¡ä»·å€¼</strong>ï¼š</p><ul><li>âœ… å‡å°‘æ•…éšœé£é™©</li><li>âœ… æå‡å¼€å‘æ•ˆç‡</li><li>âœ… æ”¹å–„éƒ¨ç½²æµç¨‹</li><li>âœ… æ”¯æŒæ›´çµæ´»çš„åŒ…ç»„ç»‡</li></ul><h3 id="_6-3-æœªæ¥å±•æœ›" tabindex="-1">6.3 æœªæ¥å±•æœ› <a class="header-anchor" href="#_6-3-æœªæ¥å±•æœ›" aria-label="Permalink to &quot;6.3 æœªæ¥å±•æœ›&quot;">â€‹</a></h3><p><strong>çŸ­æœŸç›®æ ‡</strong>ï¼š</p><ul><li>ğŸ¯ å®Œæˆ WPM2 å®ç°</li><li>ğŸ¯ åœ¨è¯•ç‚¹é¡¹ç›®éªŒè¯</li><li>ğŸ¯ ç¼–å†™å®Œæ•´æ–‡æ¡£</li></ul><p><strong>é•¿æœŸç›®æ ‡</strong>ï¼š</p><ul><li>ğŸ”® é›†æˆåˆ°å…ƒæ¡†æ¶</li><li>ğŸ”® æ”¯æŒæ›´å¤š CDN ä¾›åº”å•†</li><li>ğŸ”® æä¾›å¯è§†åŒ–é…ç½®å·¥å…·</li></ul><hr><h2 id="ä¸ƒã€å‚è€ƒèµ„æº" tabindex="-1">ä¸ƒã€å‚è€ƒèµ„æº <a class="header-anchor" href="#ä¸ƒã€å‚è€ƒèµ„æº" aria-label="Permalink to &quot;ä¸ƒã€å‚è€ƒèµ„æº&quot;">â€‹</a></h2><h3 id="_7-1-ç›¸å…³æ–‡æ¡£" tabindex="-1">7.1 ç›¸å…³æ–‡æ¡£ <a class="header-anchor" href="#_7-1-ç›¸å…³æ–‡æ¡£" aria-label="Permalink to &quot;7.1 ç›¸å…³æ–‡æ¡£&quot;">â€‹</a></h3><ul><li><a href="./01-åŸºç¡€æ¦‚å¿µ-importmapä¸ESM-CDNä»‹ç»">Import Map ä¸ ESM CDN ä»‹ç»</a></li><li><a href="./03-å·¥å…·æ¼”è¿›-RFC20-WPM3">RFC 20: WPM3</a></li></ul><h3 id="_7-2-æŠ€æœ¯èµ„æº" tabindex="-1">7.2 æŠ€æœ¯èµ„æº <a class="header-anchor" href="#_7-2-æŠ€æœ¯èµ„æº" aria-label="Permalink to &quot;7.2 æŠ€æœ¯èµ„æº&quot;">â€‹</a></h3><ul><li><a href="https://github.com/jspm/generator" target="_blank" rel="noreferrer">JSPM Generator</a></li><li><a href="https://github.com/WICG/import-maps" target="_blank" rel="noreferrer">Import Maps Spec</a></li><li><a href="https://pnpm.io/catalogs" target="_blank" rel="noreferrer">pnpm Catalogs</a></li></ul><hr><p><strong>æ–‡æ¡£ç»´æŠ¤</strong>ï¼šå‰ç«¯åŸºå»ºå›¢é˜Ÿ<br><strong>RFC ä½œè€…</strong>ï¼š[ä½œè€…å]<br><strong>æ•´ç†æ—¥æœŸ</strong>ï¼š2025-01-24<br><strong>æ–‡æ¡£ç‰ˆæœ¬</strong>ï¼šv1.0</p>`,197)]))}const E=a(l,[["render",t]]);export{c as __pageData,E as default};
