/***** vitepress 样式优化 ******/

/* 大屏大一点 */
@media (min-width: 1440px) {
  .VPDoc.has-aside .content-container.content-container {
    max-width: 100%;
  }
}

/* nav 换行问题（6 个还是有点小多，后面看看怎么优化） */
@media (max-width: 960px) {
  .VPNav {
    .VPNavBarMenuLink,
    .VPNavBarMenuGroup .button {
      padding-left: 10px;
      padding-right: 10px;
    }
  }
}

/* 首页样式修改 */
.VPHero {
  .image-bg {
    opacity: 0.8;
    transition: opacity 1s ease;
  }
  .image-container:hover .image-bg {
    opacity: 0.4;
  }
}

/* Feature Cards 美化 */
.VPFeatures {
  .VPFeature {
    position: relative;
    background: linear-gradient(135deg, var(--vp-c-bg-soft) 0%, var(--vp-c-bg) 100%);
    border: 1px solid var(--vp-c-divider);
    border-radius: 16px;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    overflow: hidden;

    /* 顶部渐变条 */
    &::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: linear-gradient(90deg, var(--vp-c-brand-1), var(--vp-c-brand-2), var(--vp-c-brand-3));
      transform: scaleX(0);
      transform-origin: left;
      transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }

    /* 背景光晕 */
    &::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: radial-gradient(
        circle at top left,
        rgba(var(--vp-c-brand-1-rgb), 0.08) 0%,
        transparent 50%
      );
      opacity: 0;
      transition: opacity 0.4s ease;
      pointer-events: none;
    }

    &:hover {
      transform: translateY(-8px) scale(1.02);
      border-color: var(--vp-c-brand-1);
      box-shadow:
        0 20px 40px rgba(0, 0, 0, 0.1),
        0 0 0 1px var(--vp-c-brand-soft);

      &::before {
        transform: scaleX(1);
      }

      &::after {
        opacity: 1;
      }

      .icon {
        transform: scale(1.15) rotate(5deg);
      }

      .title {
        color: var(--vp-c-brand-1);
      }

      .link-text {
        transform: translateX(4px);
      }

      .link-text::after {
        transform: translateX(4px);
        opacity: 1;
      }
    }

    .icon {
      font-size: 2.25rem;
      margin-bottom: 0.75rem;
      transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .title {
      font-size: 1.15rem;
      font-weight: 600;
      color: var(--vp-c-text-1);
      transition: color 0.3s ease;
    }

    .details {
      font-size: 0.9rem;
      color: var(--vp-c-text-2);
      line-height: 1.7;
    }

    .link-text {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      font-size: 0.85rem;
      font-weight: 600;
      color: var(--vp-c-brand-1);
      transition: all 0.3s ease;

      &::after {
        content: '→';
        opacity: 0.7;
        transition: all 0.3s ease;
      }
    }
  }
}

/* Dark mode adjustments */
.dark .VPFeatures .VPFeature {
  background: linear-gradient(135deg, var(--vp-c-bg-soft) 0%, rgba(30, 30, 32, 0.8) 100%);

  &:hover {
    box-shadow:
      0 20px 40px rgba(0, 0, 0, 0.4),
      0 0 0 1px var(--vp-c-brand-soft),
      0 0 40px rgba(var(--vp-c-brand-1-rgb), 0.1);
  }
}

/* 自定义块样式 */
.custom-block .custom-block-title {
  font-size: 16px;
}
.custom-block.tip .custom-block-title {
  color: var(--vp-c-brand-1);
}

/* code-group 样式 */
.vp-code-group .tabs label {
  background-color: transparent;
}

/* table 样式 */
table {
  width: 100% !important;
  display: table !important;
}

/**
 * VitePress: Custom fix
 * -------------------------------------------------------------------------- */

/*
  Use lighter colors for links in dark mode for a11y.
  Also specify some classes twice to have higher specificity
  over scoped class data attribute.
*/

.link.active,
.link.active span,
.VPNavBarMenuLink:hover span,
.VPSidebarItem.is-active .link,
.VPSidebar .link:hover {
  color: var(--vp-c-brand-1);
}

.vp-doc a:hover,
.vp-doc a > code:hover {
  color: var(--vp-c-brand-2);
}

/* Transition by color instead of opacity */
.dark .vp-doc .custom-block a {
  transition: color 0.25s;
}

/* dark/light radial transition */
::view-transition-old(root),
::view-transition-new(root) {
  animation: none;
  mix-blend-mode: normal;
}

::view-transition-old(root),
.dark::view-transition-new(root) {
  z-index: 1;
}

::view-transition-new(root),
.dark::view-transition-old(root) {
  z-index: 9999;
}
