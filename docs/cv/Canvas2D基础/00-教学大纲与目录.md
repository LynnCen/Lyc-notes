# Canvas 2D æŠ€æœ¯æ·±åº¦è§£æ - æ•™å­¦å¤§çº²

> æœ¬ç³»åˆ—æ–‡æ¡£æ—¨åœ¨ç³»ç»Ÿæ€§åœ°è®²è§£ HTML5 Canvas 2D ç»‘åˆ¶æŠ€æœ¯ï¼Œä»åŸºç¡€æ¦‚å¿µåˆ°é«˜çº§åº”ç”¨ï¼Œå¸®åŠ©è¯»è€…å…¨é¢æŒæ¡ Web 2D å›¾å½¢ç»‘åˆ¶èƒ½åŠ›ã€‚

---

## ğŸ“š ç³»åˆ—æ–‡æ¡£ç»“æ„

```
Canvas2DåŸºç¡€/
â”œâ”€â”€ 00-æ•™å­¦å¤§çº²ä¸ç›®å½•.md           â† å½“å‰æ–‡æ¡£
â”œâ”€â”€ 01-Canvaså…ƒç´ ä¸ç»‘åˆ¶ç¯å¢ƒ.md     â† å…¥é—¨åŸºç¡€
â”œâ”€â”€ 02-åŸºç¡€å›¾å½¢ç»‘åˆ¶.md             â† å‡ ä½•å›¾å½¢
â”œâ”€â”€ 03-è·¯å¾„ä¸è´å¡å°”æ›²çº¿.md         â† è·¯å¾„ç³»ç»Ÿ
â”œâ”€â”€ 04-æ ·å¼ä¸é¢œè‰²ç³»ç»Ÿ.md           â† è§†è§‰æ•ˆæœ
â”œâ”€â”€ 05-å˜æ¢ä¸åæ ‡ç³»ç»Ÿ.md           â† æ•°å­¦å˜æ¢
â”œâ”€â”€ 06-å›¾åƒä¸åƒç´ æ“ä½œ.md           â† å›¾åƒå¤„ç†
â”œâ”€â”€ 07-åˆæˆä¸æ··åˆæ¨¡å¼.md           â† å›¾å±‚åˆæˆ
â”œâ”€â”€ 08-æ–‡æœ¬æ¸²æŸ“.md                 â† æ–‡å­—ç»˜åˆ¶
â”œâ”€â”€ 09-åŠ¨ç”»ä¸å¸§å¾ªç¯.md             â† åŠ¨ç”»ç³»ç»Ÿ
â”œâ”€â”€ 10-ç¦»å±æ¸²æŸ“ä¸æ€§èƒ½ä¼˜åŒ–.md       â† æ€§èƒ½è°ƒä¼˜
â””â”€â”€ 11-å®æˆ˜æ¡ˆä¾‹ä¸æœ€ä½³å®è·µ.md       â† ç»¼åˆåº”ç”¨
```

---

## ğŸ¯ å­¦ä¹ ç›®æ ‡

å®Œæˆæœ¬ç³»åˆ—å­¦ä¹ åï¼Œä½ å°†èƒ½å¤Ÿï¼š

1. **ç†è§£ Canvas æœ¬è´¨**ï¼šæŒæ¡ Canvas ä¸ DOMã€SVGã€WebGL çš„åŒºåˆ«å’Œé€‚ç”¨åœºæ™¯
2. **ç†Ÿç»ƒåŸºç¡€ç»˜å›¾**ï¼šä½¿ç”¨ Canvas API ç»‘åˆ¶å„ç§å‡ ä½•å›¾å½¢å’Œè·¯å¾„
3. **æŒæ¡å˜æ¢ç³»ç»Ÿ**ï¼šç†è§£åæ ‡å˜æ¢çš„æ•°å­¦åŸç†å¹¶çµæ´»åº”ç”¨
4. **å¤„ç†å›¾åƒåƒç´ **ï¼šè¿›è¡Œå›¾åƒç»˜åˆ¶ã€åƒç´ è¯»å†™å’Œæ»¤é•œæ•ˆæœå¼€å‘
5. **å®ç°æµç•…åŠ¨ç”»**ï¼šä½¿ç”¨ requestAnimationFrame åˆ›å»ºé«˜æ€§èƒ½åŠ¨ç”»
6. **ä¼˜åŒ–æ¸²æŸ“æ€§èƒ½**ï¼šåº”ç”¨ç¦»å±æ¸²æŸ“ã€è„çŸ©å½¢ç­‰ä¼˜åŒ–ç­–ç•¥
7. **å¼€å‘å®é™…é¡¹ç›®**ï¼šå…·å¤‡å¼€å‘ç”»æ¿ã€å›¾è¡¨ã€æ¸¸æˆç­‰åº”ç”¨çš„èƒ½åŠ›

---

## ğŸ“– ç¬¬ä¸€éƒ¨åˆ†ï¼šåŸºç¡€å…¥é—¨ç¯‡

### ç¬¬1ç« ï¼šCanvas å…ƒç´ ä¸ç»˜åˆ¶ç¯å¢ƒ

**æ ¸å¿ƒé—®é¢˜**ï¼šå¦‚ä½•åˆ›å»ºå’Œé…ç½® Canvas ç”»å¸ƒï¼ŸCanvas çš„åæ ‡ç³»ç»Ÿæ˜¯æ€æ ·çš„ï¼Ÿ

**å†…å®¹è¦ç‚¹**ï¼š

- 1.1 Canvas ç®€ä»‹
  - Canvas çš„å†å²ä¸å‘å±•
  - Canvas vs SVG vs WebGL
  - Canvas çš„åº”ç”¨åœºæ™¯ï¼ˆæ¸¸æˆã€å›¾è¡¨ã€å›¾åƒç¼–è¾‘ï¼‰
  - æµè§ˆå™¨å…¼å®¹æ€§

- 1.2 åˆ›å»º Canvas å…ƒç´ 
  - HTML å£°æ˜æ–¹å¼
  - JavaScript åŠ¨æ€åˆ›å»º
  - Canvas å°ºå¯¸è®¾ç½®ï¼ˆwidth/height å±æ€§ vs CSS æ ·å¼ï¼‰
  - å›é€€å†…å®¹ï¼ˆFallback Contentï¼‰

- 1.3 è·å–ç»‘åˆ¶ä¸Šä¸‹æ–‡
  - `getContext('2d')` è¯¦è§£
  - CanvasRenderingContext2D æ¥å£
  - ä¸Šä¸‹æ–‡å±æ€§ä¸€è§ˆ
  - æ£€æµ‹ Canvas æ”¯æŒ

- 1.4 Canvas åæ ‡ç³»ç»Ÿ
  - åæ ‡åŸç‚¹ä½ç½®ï¼ˆå·¦ä¸Šè§’ï¼‰
  - X è½´å’Œ Y è½´æ–¹å‘
  - åƒç´ åæ ‡ä¸ç‰©ç†åƒç´ 
  - å­åƒç´ æ¸²æŸ“

- 1.5 é«˜æ¸…å±ï¼ˆRetinaï¼‰é€‚é…
  - è®¾å¤‡åƒç´ æ¯”ï¼ˆdevicePixelRatioï¼‰
  - CSS åƒç´  vs ç‰©ç†åƒç´ 
  - é«˜æ¸…å±é€‚é…æ–¹æ¡ˆ
  - åŠ¨æ€ DPR å¤„ç†

- 1.6 Canvas çŠ¶æ€ç®¡ç†
  - `save()` å’Œ `restore()` æ–¹æ³•
  - çŠ¶æ€æ ˆæœºåˆ¶
  - å¯ä¿å­˜çš„çŠ¶æ€åˆ—è¡¨
  - çŠ¶æ€ç®¡ç†æœ€ä½³å®è·µ

**å­¦ä¹ ç›®æ ‡**ï¼šæŒæ¡ Canvas çš„åŸºæœ¬ä½¿ç”¨æ–¹æ³•å’Œé«˜æ¸…å±é€‚é…æŠ€æœ¯

**ä»£ç ç¤ºä¾‹**ï¼š
```javascript
// é«˜æ¸…å±é€‚é…
const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');
const dpr = window.devicePixelRatio || 1;

// è®¾ç½® Canvas å®é™…å°ºå¯¸
canvas.width = 800 * dpr;
canvas.height = 600 * dpr;

// è®¾ç½® CSS æ˜¾ç¤ºå°ºå¯¸
canvas.style.width = '800px';
canvas.style.height = '600px';

// ç¼©æ”¾ç»‘åˆ¶ä¸Šä¸‹æ–‡
ctx.scale(dpr, dpr);
```

---

### ç¬¬2ç« ï¼šåŸºç¡€å›¾å½¢ç»‘åˆ¶

**æ ¸å¿ƒé—®é¢˜**ï¼šå¦‚ä½•ä½¿ç”¨ Canvas ç»‘åˆ¶åŸºæœ¬å‡ ä½•å›¾å½¢ï¼Ÿ

**å†…å®¹è¦ç‚¹**ï¼š

- 2.1 çŸ©å½¢ç»˜åˆ¶
  - `fillRect(x, y, width, height)` - å¡«å……çŸ©å½¢
  - `strokeRect(x, y, width, height)` - æè¾¹çŸ©å½¢
  - `clearRect(x, y, width, height)` - æ¸…é™¤çŸ©å½¢åŒºåŸŸ
  - åœ†è§’çŸ©å½¢å®ç°

- 2.2 åœ†ä¸åœ†å¼§
  - `arc(x, y, radius, startAngle, endAngle, counterclockwise)`
  - è§’åº¦ä¸å¼§åº¦è½¬æ¢
  - `arcTo(x1, y1, x2, y2, radius)` - åˆ‡çº¿åœ†å¼§
  - ç»˜åˆ¶å®Œæ•´åœ†å½¢
  - ç»˜åˆ¶æ‰‡å½¢

- 2.3 ç›´çº¿ä¸æŠ˜çº¿
  - `moveTo(x, y)` - ç§»åŠ¨ç”»ç¬”
  - `lineTo(x, y)` - ç»˜åˆ¶ç›´çº¿
  - è¿ç»­æŠ˜çº¿ç»˜åˆ¶
  - çº¿æ®µç«¯ç‚¹è¿æ¥

- 2.4 å¤šè¾¹å½¢ç»˜åˆ¶
  - ä¸‰è§’å½¢
  - æ­£å¤šè¾¹å½¢ï¼ˆæ­£äº”è¾¹å½¢ã€æ­£å…­è¾¹å½¢ç­‰ï¼‰
  - æ˜Ÿå½¢
  - ä»»æ„å¤šè¾¹å½¢

- 2.5 å¡«å……ä¸æè¾¹
  - `fill()` æ–¹æ³•è¯¦è§£
  - `stroke()` æ–¹æ³•è¯¦è§£
  - å¡«å……è§„åˆ™ï¼ˆnonzeroã€evenoddï¼‰
  - å¡«å……ä¸æè¾¹çš„é¡ºåº

**å­¦ä¹ ç›®æ ‡**ï¼šç†Ÿç»ƒç»˜åˆ¶å„ç§åŸºç¡€å‡ ä½•å›¾å½¢

**ä»£ç ç¤ºä¾‹**ï¼š
```javascript
// ç»˜åˆ¶æ­£å¤šè¾¹å½¢
function drawPolygon(ctx, cx, cy, radius, sides) {
    ctx.beginPath();
    for (let i = 0; i < sides; i++) {
        const angle = (i * 2 * Math.PI) / sides - Math.PI / 2;
        const x = cx + radius * Math.cos(angle);
        const y = cy + radius * Math.sin(angle);
        if (i === 0) {
            ctx.moveTo(x, y);
        } else {
            ctx.lineTo(x, y);
        }
    }
    ctx.closePath();
    ctx.stroke();
}
```

---

### ç¬¬3ç« ï¼šè·¯å¾„ä¸è´å¡å°”æ›²çº¿

**æ ¸å¿ƒé—®é¢˜**ï¼šå¦‚ä½•ä½¿ç”¨è·¯å¾„ç³»ç»Ÿç»˜åˆ¶å¤æ‚å›¾å½¢ï¼Ÿè´å¡å°”æ›²çº¿çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ

**å†…å®¹è¦ç‚¹**ï¼š

- 3.1 è·¯å¾„æ¦‚å¿µ
  - ä»€ä¹ˆæ˜¯è·¯å¾„ï¼ˆPathï¼‰
  - `beginPath()` - å¼€å§‹æ–°è·¯å¾„
  - `closePath()` - é—­åˆè·¯å¾„
  - è·¯å¾„ä¸å­è·¯å¾„
  - è·¯å¾„ç»˜åˆ¶æµç¨‹

- 3.2 Path2D å¯¹è±¡
  - åˆ›å»º Path2D å¯¹è±¡
  - è·¯å¾„å¤ç”¨
  - è·¯å¾„åˆå¹¶
  - SVG è·¯å¾„å­—ç¬¦ä¸²è½¬æ¢
  - Path2D çš„åº”ç”¨åœºæ™¯

- 3.3 äºŒæ¬¡è´å¡å°”æ›²çº¿
  - `quadraticCurveTo(cpx, cpy, x, y)`
  - æ§åˆ¶ç‚¹çš„ä½œç”¨
  - äºŒæ¬¡è´å¡å°”æ›²çº¿æ•°å­¦å…¬å¼ï¼šB(t) = (1-t)Â²Pâ‚€ + 2(1-t)tPâ‚ + tÂ²Pâ‚‚
  - æ›²çº¿ç»˜åˆ¶ç¤ºä¾‹
  - æ§åˆ¶ç‚¹å¯è§†åŒ–

- 3.4 ä¸‰æ¬¡è´å¡å°”æ›²çº¿
  - `bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y)`
  - ä¸¤ä¸ªæ§åˆ¶ç‚¹çš„ä½œç”¨
  - ä¸‰æ¬¡è´å¡å°”æ›²çº¿æ•°å­¦å…¬å¼
  - ä¸äºŒæ¬¡è´å¡å°”çš„åŒºåˆ«
  - S å½¢æ›²çº¿ç»˜åˆ¶

- 3.5 æ›²çº¿å®é™…åº”ç”¨
  - å¹³æ»‘æ›²çº¿è¿æ¥å¤šä¸ªç‚¹
  - åœ†è§’çŸ©å½¢çš„è´å¡å°”å®ç°
  - æ³¢æµªçº¿æ•ˆæœ
  - å¿ƒå½¢ç»˜åˆ¶
  - æ›²çº¿ç¼–è¾‘å™¨å®ç°æ€è·¯

**å­¦ä¹ ç›®æ ‡**ï¼šç†è§£è·¯å¾„ç³»ç»Ÿå’Œè´å¡å°”æ›²çº¿çš„æ•°å­¦åŸç†

**ä»£ç ç¤ºä¾‹**ï¼š
```javascript
// ä¸‰æ¬¡è´å¡å°”æ›²çº¿ç»˜åˆ¶ S å½¢
ctx.beginPath();
ctx.moveTo(50, 200);
ctx.bezierCurveTo(50, 100, 150, 100, 150, 200);
ctx.bezierCurveTo(150, 300, 250, 300, 250, 200);
ctx.stroke();

// ä½¿ç”¨ Path2D å¤ç”¨è·¯å¾„
const heart = new Path2D();
heart.moveTo(75, 40);
heart.bezierCurveTo(75, 37, 70, 25, 50, 25);
heart.bezierCurveTo(20, 25, 20, 62.5, 20, 62.5);
heart.bezierCurveTo(20, 80, 40, 102, 75, 120);
heart.bezierCurveTo(110, 102, 130, 80, 130, 62.5);
heart.bezierCurveTo(130, 62.5, 130, 25, 100, 25);
heart.bezierCurveTo(85, 25, 75, 37, 75, 40);

ctx.fill(heart);
```

---

## ğŸ“– ç¬¬äºŒéƒ¨åˆ†ï¼šæ ·å¼ä¸å˜æ¢ç¯‡

### ç¬¬4ç« ï¼šæ ·å¼ä¸é¢œè‰²ç³»ç»Ÿ

**æ ¸å¿ƒé—®é¢˜**ï¼šå¦‚ä½•ä¸ºå›¾å½¢æ·»åŠ ä¸°å¯Œçš„æ ·å¼æ•ˆæœï¼Ÿ

**å†…å®¹è¦ç‚¹**ï¼š

- 4.1 é¢œè‰²è¡¨ç¤º
  - CSS é¢œè‰²åç§°
  - åå…­è¿›åˆ¶é¢œè‰²ï¼ˆ#RRGGBBã€#RGBï¼‰
  - RGB/RGBA å‡½æ•°
  - HSL/HSLA å‡½æ•°
  - é¢œè‰²é€æ˜åº¦

- 4.2 çº¿æ¡æ ·å¼
  - `lineWidth` - çº¿æ¡å®½åº¦
  - `lineCap` - çº¿ç«¯æ ·å¼ï¼ˆbuttã€roundã€squareï¼‰
  - `lineJoin` - çº¿æ®µè¿æ¥æ ·å¼ï¼ˆmiterã€roundã€bevelï¼‰
  - `miterLimit` - æ–œæ¥é™åˆ¶
  - çº¿æ¡æ ·å¼ç¤ºæ„å›¾

- 4.3 è™šçº¿ç»˜åˆ¶
  - `setLineDash([segments])` - è®¾ç½®è™šçº¿æ¨¡å¼
  - `getLineDash()` - è·å–è™šçº¿æ¨¡å¼
  - `lineDashOffset` - è™šçº¿åç§»
  - åŠ¨æ€è™šçº¿åŠ¨ç”»ï¼ˆèš‚èšçº¿æ•ˆæœï¼‰

- 4.4 æ¸å˜å¡«å……
  - `createLinearGradient(x0, y0, x1, y1)` - çº¿æ€§æ¸å˜
  - `createRadialGradient(x0, y0, r0, x1, y1, r1)` - å¾„å‘æ¸å˜
  - `createConicGradient(startAngle, x, y)` - é”¥å½¢æ¸å˜
  - `addColorStop(offset, color)` - æ·»åŠ é¢œè‰²åœæ­¢ç‚¹
  - å¤šè‰²æ¸å˜æ•ˆæœ

- 4.5 å›¾æ¡ˆå¡«å……
  - `createPattern(image, repetition)` - åˆ›å»ºå›¾æ¡ˆ
  - é‡å¤æ¨¡å¼ï¼ˆrepeatã€repeat-xã€repeat-yã€no-repeatï¼‰
  - å›¾æ¡ˆå˜æ¢
  - åŠ¨æ€å›¾æ¡ˆ

- 4.6 é˜´å½±æ•ˆæœ
  - `shadowColor` - é˜´å½±é¢œè‰²
  - `shadowBlur` - é˜´å½±æ¨¡ç³Šåº¦
  - `shadowOffsetX` - æ°´å¹³åç§»
  - `shadowOffsetY` - å‚ç›´åç§»
  - é˜´å½±æ€§èƒ½è€ƒé‡

**å­¦ä¹ ç›®æ ‡**ï¼šæŒæ¡ Canvas çš„æ ·å¼ç³»ç»Ÿ

**ä»£ç ç¤ºä¾‹**ï¼š
```javascript
// åˆ›å»ºçº¿æ€§æ¸å˜
const gradient = ctx.createLinearGradient(0, 0, 200, 0);
gradient.addColorStop(0, '#ff0000');
gradient.addColorStop(0.5, '#00ff00');
gradient.addColorStop(1, '#0000ff');
ctx.fillStyle = gradient;
ctx.fillRect(0, 0, 200, 100);

// èš‚èšçº¿åŠ¨ç”»
let offset = 0;
function animate() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    ctx.setLineDash([4, 4]);
    ctx.lineDashOffset = -offset;
    ctx.strokeRect(10, 10, 100, 100);
    offset++;
    if (offset > 8) offset = 0;
    requestAnimationFrame(animate);
}
```

---

### ç¬¬5ç« ï¼šå˜æ¢ä¸åæ ‡ç³»ç»Ÿ

**æ ¸å¿ƒé—®é¢˜**ï¼šå¦‚ä½•ä½¿ç”¨å˜æ¢æ“ä½œå›¾å½¢ï¼Ÿå˜æ¢çŸ©é˜µçš„æ•°å­¦åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ

**å†…å®¹è¦ç‚¹**ï¼š

- 5.1 å¹³ç§»å˜æ¢
  - `translate(x, y)` æ–¹æ³•
  - åæ ‡åŸç‚¹ç§»åŠ¨
  - å¹³ç§»çš„ç´¯ç§¯æ•ˆæœ
  - å¹³ç§»çŸ©é˜µè¡¨ç¤º

- 5.2 æ—‹è½¬å˜æ¢
  - `rotate(angle)` æ–¹æ³•
  - è§’åº¦ä¸å¼§åº¦ï¼š`radians = degrees * Math.PI / 180`
  - æ—‹è½¬ä¸­å¿ƒï¼ˆé»˜è®¤åŸç‚¹ï¼‰
  - ç»•ä»»æ„ç‚¹æ—‹è½¬çš„å®ç°
  - æ—‹è½¬çŸ©é˜µè¡¨ç¤º

- 5.3 ç¼©æ”¾å˜æ¢
  - `scale(x, y)` æ–¹æ³•
  - ç­‰æ¯”ç¼©æ”¾ä¸éç­‰æ¯”ç¼©æ”¾
  - è´Ÿå€¼ç¼©æ”¾å®ç°é•œåƒ
  - ç¼©æ”¾çŸ©é˜µè¡¨ç¤º

- 5.4 çŸ©é˜µå˜æ¢
  - `transform(a, b, c, d, e, f)` - åº”ç”¨å˜æ¢çŸ©é˜µ
  - `setTransform(a, b, c, d, e, f)` - é‡ç½®å¹¶åº”ç”¨å˜æ¢
  - `resetTransform()` - é‡ç½®ä¸ºå•ä½çŸ©é˜µ
  - 6 å‚æ•°å«ä¹‰è¯¦è§£
  - `getTransform()` - è·å–å½“å‰å˜æ¢çŸ©é˜µ

- 5.5 å˜æ¢çŸ©é˜µæ•°å­¦åŸç†
  - 2D ä»¿å°„å˜æ¢çŸ©é˜µï¼ˆ3Ã—3ï¼‰
  - é½æ¬¡åæ ‡
  - çŸ©é˜µä¹˜æ³•ä¸å˜æ¢ç»„åˆ
  - é€†å˜æ¢è®¡ç®—

  ```
  | a  c  e |   | x |   | ax + cy + e |
  | b  d  f | Ã— | y | = | bx + dy + f |
  | 0  0  1 |   | 1 |   |      1      |
  ```

- 5.6 å˜æ¢ç»„åˆä¸é¡ºåº
  - å˜æ¢é¡ºåºçš„é‡è¦æ€§
  - å…ˆæ—‹è½¬åå¹³ç§» vs å…ˆå¹³ç§»åæ—‹è½¬
  - å¤åˆå˜æ¢çš„å®ç°
  - å¸¸è§å˜æ¢é™·é˜±

**å­¦ä¹ ç›®æ ‡**ï¼šç†è§£å˜æ¢çš„æ•°å­¦åŸç†å¹¶çµæ´»åº”ç”¨

**ä»£ç ç¤ºä¾‹**ï¼š
```javascript
// ç»•ä»»æ„ç‚¹æ—‹è½¬
function rotateAroundPoint(ctx, x, y, angle) {
    ctx.translate(x, y);
    ctx.rotate(angle);
    ctx.translate(-x, -y);
}

// ä½¿ç”¨å˜æ¢çŸ©é˜µå®ç°é”™åˆ‡
function shear(ctx, shx, shy) {
    // | 1   shx  0 |
    // | shy  1   0 |
    // | 0    0   1 |
    ctx.transform(1, shy, shx, 1, 0, 0);
}

// è·å–å½“å‰å˜æ¢çŸ©é˜µ
const matrix = ctx.getTransform();
console.log(matrix); // DOMMatrix { a, b, c, d, e, f }
```

---

## ğŸ“– ç¬¬ä¸‰éƒ¨åˆ†ï¼šå›¾åƒä¸åƒç´ ç¯‡

### ç¬¬6ç« ï¼šå›¾åƒä¸åƒç´ æ“ä½œ

**æ ¸å¿ƒé—®é¢˜**ï¼šå¦‚ä½•åœ¨ Canvas ä¸­å¤„ç†å›¾åƒå’Œæ“ä½œåƒç´ ï¼Ÿ

**å†…å®¹è¦ç‚¹**ï¼š

- 6.1 ç»˜åˆ¶å›¾åƒ
  - `drawImage(image, dx, dy)` - åŸºæœ¬ç»˜åˆ¶
  - `drawImage(image, dx, dy, dw, dh)` - ç¼©æ”¾ç»˜åˆ¶
  - `drawImage(image, sx, sy, sw, sh, dx, dy, dw, dh)` - è£å‰ªç»˜åˆ¶
  - ä¹å‚æ•°è¯¦è§£ä¸åº”ç”¨
  - å›¾åƒå¹³æ»‘ï¼š`imageSmoothingEnabled`

- 6.2 å›¾åƒæºç±»å‹
  - `HTMLImageElement` - Image å¯¹è±¡
  - `HTMLCanvasElement` - å¦ä¸€ä¸ª Canvas
  - `HTMLVideoElement` - è§†é¢‘å¸§
  - `ImageBitmap` - ä½å›¾å¯¹è±¡
  - `OffscreenCanvas` - ç¦»å± Canvas
  - å›¾åƒåŠ è½½ä¸ onload äº‹ä»¶

- 6.3 ImageData å¯¹è±¡
  - `createImageData(width, height)` - åˆ›å»ºç©ºç™½ ImageData
  - `createImageData(imageData)` - å¤åˆ¶å°ºå¯¸
  - ImageData ç»“æ„ï¼šwidthã€heightã€data
  - RGBA æ•°æ®æ’åˆ—ï¼š`[R, G, B, A, R, G, B, A, ...]`
  - åƒç´ ç´¢å¼•è®¡ç®—ï¼š`index = (y * width + x) * 4`

- 6.4 åƒç´ è¯»å–
  - `getImageData(sx, sy, sw, sh)` - è¯»å–åƒç´ æ•°æ®
  - è·¨åŸŸé™åˆ¶ï¼ˆTainted Canvasï¼‰
  - CORS å¤„ç†
  - æ€§èƒ½è€ƒé‡

- 6.5 åƒç´ å†™å…¥
  - `putImageData(imageData, dx, dy)` - å†™å…¥åƒç´ æ•°æ®
  - `putImageData(imageData, dx, dy, dirtyX, dirtyY, dirtyW, dirtyH)` - éƒ¨åˆ†å†™å…¥
  - è„çŸ©å½¢ä¼˜åŒ–

- 6.6 åƒç´ æ“ä½œå®æˆ˜
  - ç°åº¦åŒ–æ»¤é•œ
  - åè‰²æ•ˆæœ
  - äº®åº¦/å¯¹æ¯”åº¦è°ƒæ•´
  - æ¨¡ç³Šæ•ˆæœï¼ˆå‡å€¼æ¨¡ç³Šã€é«˜æ–¯æ¨¡ç³Šï¼‰
  - è¾¹ç¼˜æ£€æµ‹ï¼ˆSobel ç®—å­ï¼‰
  - é©¬èµ›å…‹æ•ˆæœ

**å­¦ä¹ ç›®æ ‡**ï¼šæŒæ¡å›¾åƒç»˜åˆ¶å’Œåƒç´ çº§æ“ä½œ

**ä»£ç ç¤ºä¾‹**ï¼š
```javascript
// ç°åº¦åŒ–æ»¤é•œ
function grayscale(ctx, x, y, width, height) {
    const imageData = ctx.getImageData(x, y, width, height);
    const data = imageData.data;
    
    for (let i = 0; i < data.length; i += 4) {
        const r = data[i];
        const g = data[i + 1];
        const b = data[i + 2];
        // åŠ æƒå¹³å‡æ³•
        const gray = r * 0.299 + g * 0.587 + b * 0.114;
        data[i] = data[i + 1] = data[i + 2] = gray;
    }
    
    ctx.putImageData(imageData, x, y);
}

// è¾¹ç¼˜æ£€æµ‹ (Sobel)
function sobelEdgeDetection(imageData) {
    const width = imageData.width;
    const height = imageData.height;
    const data = imageData.data;
    const output = new Uint8ClampedArray(data.length);
    
    // Sobel æ ¸
    const sobelX = [-1, 0, 1, -2, 0, 2, -1, 0, 1];
    const sobelY = [-1, -2, -1, 0, 0, 0, 1, 2, 1];
    
    // ... å·ç§¯è®¡ç®—
}
```

---

### ç¬¬7ç« ï¼šåˆæˆä¸æ··åˆæ¨¡å¼

**æ ¸å¿ƒé—®é¢˜**ï¼šå¦‚ä½•æ§åˆ¶å›¾å½¢çš„å åŠ æ•ˆæœï¼Ÿ

**å†…å®¹è¦ç‚¹**ï¼š

- 7.1 å…¨å±€é€æ˜åº¦
  - `globalAlpha` å±æ€§
  - é€æ˜åº¦èŒƒå›´ï¼š0.0ï¼ˆå®Œå…¨é€æ˜ï¼‰åˆ° 1.0ï¼ˆå®Œå…¨ä¸é€æ˜ï¼‰
  - é€æ˜åº¦å åŠ è®¡ç®—
  - ä¸ RGBA é€æ˜åº¦çš„åŒºåˆ«

- 7.2 åˆæˆæ“ä½œæ¦‚è¿°
  - `globalCompositeOperation` å±æ€§
  - æºï¼ˆSourceï¼‰ä¸ç›®æ ‡ï¼ˆDestinationï¼‰æ¦‚å¿µ
  - 26 ç§åˆæˆæ¨¡å¼ä¸€è§ˆ

- 7.3 åŸºç¡€åˆæˆæ¨¡å¼
  - `source-over` - é»˜è®¤æ¨¡å¼ï¼Œæºè¦†ç›–ç›®æ ‡
  - `source-in` - æºä¸ç›®æ ‡é‡å éƒ¨åˆ†ï¼Œæ˜¾ç¤ºæº
  - `source-out` - æºä¸ç›®æ ‡ä¸é‡å éƒ¨åˆ†
  - `source-atop` - æºåœ¨ç›®æ ‡ä¹‹ä¸Šï¼Œåªæ˜¾ç¤ºé‡å éƒ¨åˆ†
  - `destination-over` - ç›®æ ‡è¦†ç›–æº
  - `destination-in` - ç›®æ ‡ä¸æºé‡å éƒ¨åˆ†ï¼Œæ˜¾ç¤ºç›®æ ‡
  - `destination-out` - ç›®æ ‡ä¸æºä¸é‡å éƒ¨åˆ†
  - `destination-atop` - ç›®æ ‡åœ¨æºä¹‹ä¸Š

- 7.4 æ··åˆæ¨¡å¼
  - `lighter` - é¢œè‰²å åŠ 
  - `multiply` - æ­£ç‰‡å åº•
  - `screen` - æ»¤è‰²
  - `overlay` - å åŠ 
  - `darken` - å˜æš—
  - `lighten` - å˜äº®
  - `color-dodge` - é¢œè‰²å‡æ·¡
  - `color-burn` - é¢œè‰²åŠ æ·±
  - `hard-light` / `soft-light` - å¼ºå…‰/æŸ”å…‰
  - `difference` / `exclusion` - å·®å€¼/æ’é™¤

- 7.5 è£å‰ªè·¯å¾„
  - `clip()` æ–¹æ³•
  - `clip(path, fillRule)` - ä½¿ç”¨ Path2D
  - å¡«å……è§„åˆ™ï¼š`nonzero`ã€`evenodd`
  - è£å‰ªåŒºåŸŸçš„å åŠ 
  - é‡ç½®è£å‰ªåŒºåŸŸï¼ˆä½¿ç”¨ save/restoreï¼‰

- 7.6 åˆæˆå®æˆ˜åº”ç”¨
  - æ©¡çš®æ“¦æ•ˆæœï¼ˆdestination-outï¼‰
  - é®ç½©æ•ˆæœï¼ˆsource-inï¼‰
  - åˆ®åˆ®å¡æ•ˆæœ
  - å›¾åƒå åŠ æ•ˆæœ
  - æ¢ç…§ç¯æ•ˆæœ

**å­¦ä¹ ç›®æ ‡**ï¼šç†è§£åˆæˆæ“ä½œå’Œæ··åˆæ¨¡å¼

**ä»£ç ç¤ºä¾‹**ï¼š
```javascript
// æ©¡çš®æ“¦æ•ˆæœ
canvas.addEventListener('mousemove', (e) => {
    if (!isDrawing) return;
    ctx.globalCompositeOperation = 'destination-out';
    ctx.beginPath();
    ctx.arc(e.offsetX, e.offsetY, 20, 0, Math.PI * 2);
    ctx.fill();
    ctx.globalCompositeOperation = 'source-over';
});

// åˆ®åˆ®å¡æ•ˆæœ
function createScratchCard() {
    // ç»˜åˆ¶åº•å±‚å†…å®¹ï¼ˆå¥–å“ï¼‰
    ctx.fillStyle = '#FFD700';
    ctx.fillRect(0, 0, 300, 150);
    ctx.fillStyle = '#000';
    ctx.font = '30px Arial';
    ctx.fillText('æ­å–œä¸­å¥–ï¼', 80, 85);
    
    // ç»˜åˆ¶è¦†ç›–å±‚
    ctx.fillStyle = '#888';
    ctx.fillRect(0, 0, 300, 150);
}
```

---

## ğŸ“– ç¬¬å››éƒ¨åˆ†ï¼šæ–‡æœ¬ä¸åŠ¨ç”»ç¯‡

### ç¬¬8ç« ï¼šæ–‡æœ¬æ¸²æŸ“

**æ ¸å¿ƒé—®é¢˜**ï¼šå¦‚ä½•åœ¨ Canvas ä¸­æ¸²æŸ“é«˜è´¨é‡æ–‡æœ¬ï¼Ÿ

**å†…å®¹è¦ç‚¹**ï¼š

- 8.1 æ–‡æœ¬ç»˜åˆ¶
  - `fillText(text, x, y, maxWidth)` - å¡«å……æ–‡æœ¬
  - `strokeText(text, x, y, maxWidth)` - æè¾¹æ–‡æœ¬
  - maxWidth å‚æ•°çš„ä½œç”¨
  - æ–‡æœ¬å‹ç¼©è¡Œä¸º

- 8.2 å­—ä½“è®¾ç½®
  - `font` å±æ€§è¯¦è§£
  - CSS font è¯­æ³•ï¼š`[style] [variant] [weight] [size]/[lineHeight] [family]`
  - å¸¸ç”¨å­—ä½“è®¾ç½®ç¤ºä¾‹
  - Web å­—ä½“åŠ è½½ä¸æ£€æµ‹

- 8.3 æ–‡æœ¬å¯¹é½
  - `textAlign` - æ°´å¹³å¯¹é½
    - `start`ã€`end`ã€`left`ã€`right`ã€`center`
  - `textBaseline` - å‚ç›´åŸºçº¿
    - `top`ã€`hanging`ã€`middle`ã€`alphabetic`ã€`ideographic`ã€`bottom`
  - å¯¹é½æ–¹å¼ç¤ºæ„å›¾

- 8.4 æ–‡æœ¬æµ‹é‡
  - `measureText(text)` æ–¹æ³•
  - TextMetrics å¯¹è±¡å±æ€§
    - `width` - æ–‡æœ¬å®½åº¦
    - `actualBoundingBoxLeft/Right` - å®é™…è¾¹ç•Œ
    - `fontBoundingBoxAscent/Descent` - å­—ä½“è¾¹ç•Œ
    - `actualBoundingBoxAscent/Descent` - å®é™…è¾¹ç•Œ
  - è®¡ç®—æ–‡æœ¬é«˜åº¦

- 8.5 å¤šè¡Œæ–‡æœ¬
  - Canvas ä¸æ”¯æŒè‡ªåŠ¨æ¢è¡Œ
  - æ‰‹åŠ¨æ¢è¡Œå®ç°
  - è‡ªåŠ¨æ¢è¡Œç®—æ³•
  - æ–‡æœ¬æº¢å‡ºå¤„ç†ï¼ˆçœç•¥å·ï¼‰

- 8.6 æ–‡æœ¬ç‰¹æ•ˆ
  - æ¸å˜æ–‡å­—
  - æè¾¹æ–‡å­—ï¼ˆç©ºå¿ƒå­—ï¼‰
  - é˜´å½±æ–‡å­—
  - 3D ç«‹ä½“æ–‡å­—æ•ˆæœ
  - æ‰“å­—æœºåŠ¨ç”»æ•ˆæœ

**å­¦ä¹ ç›®æ ‡**ï¼šæŒæ¡ Canvas æ–‡æœ¬æ¸²æŸ“æŠ€æœ¯

**ä»£ç ç¤ºä¾‹**ï¼š
```javascript
// è‡ªåŠ¨æ¢è¡Œæ–‡æœ¬
function wrapText(ctx, text, x, y, maxWidth, lineHeight) {
    const words = text.split('');
    let line = '';
    let lines = [];
    
    for (let i = 0; i < words.length; i++) {
        const testLine = line + words[i];
        const metrics = ctx.measureText(testLine);
        
        if (metrics.width > maxWidth && i > 0) {
            lines.push(line);
            line = words[i];
        } else {
            line = testLine;
        }
    }
    lines.push(line);
    
    lines.forEach((line, index) => {
        ctx.fillText(line, x, y + index * lineHeight);
    });
}

// æ¸å˜æ–‡å­—
const gradient = ctx.createLinearGradient(0, 0, 200, 0);
gradient.addColorStop(0, '#ff0000');
gradient.addColorStop(1, '#0000ff');
ctx.font = '48px Arial';
ctx.fillStyle = gradient;
ctx.fillText('æ¸å˜æ–‡å­—', 50, 100);
```

---

### ç¬¬9ç« ï¼šåŠ¨ç”»ä¸å¸§å¾ªç¯

**æ ¸å¿ƒé—®é¢˜**ï¼šå¦‚ä½•å®ç°æµç•…çš„ Canvas åŠ¨ç”»ï¼Ÿ

**å†…å®¹è¦ç‚¹**ï¼š

- 9.1 åŠ¨ç”»åŸç†
  - å¸§ç‡ï¼ˆFPSï¼‰æ¦‚å¿µ
  - è§†è§‰æš‚ç•™æ•ˆåº”
  - åˆ·æ–°ç‡ä¸å¸§ç‡çš„å…³ç³»
  - 60 FPS çš„æ„ä¹‰

- 9.2 requestAnimationFrame
  - `requestAnimationFrame(callback)` ç”¨æ³•
  - ä¸ setInterval/setTimeout çš„åŒºåˆ«
  - æ—¶é—´æˆ³å‚æ•°
  - `cancelAnimationFrame(id)` - å–æ¶ˆåŠ¨ç”»
  - æµè§ˆå™¨åå°æ ‡ç­¾é¡µè¡Œä¸º

- 9.3 å¸§ç‡æ§åˆ¶
  - å›ºå®šå¸§ç‡å®ç°
  - è·³å¸§å¤„ç†
  - deltaTime æ—¶é—´å·®
  - å¸§ç‡æ— å…³çš„åŠ¨ç”»

- 9.4 ç¼“åŠ¨å‡½æ•°
  - çº¿æ€§ç¼“åŠ¨
  - ease-inï¼ˆåŠ é€Ÿï¼‰
  - ease-outï¼ˆå‡é€Ÿï¼‰
  - ease-in-outï¼ˆå…ˆåŠ é€Ÿåå‡é€Ÿï¼‰
  - è´å¡å°”ç¼“åŠ¨æ›²çº¿
  - å¼¹æ€§ç¼“åŠ¨

  ```javascript
  // å¸¸ç”¨ç¼“åŠ¨å‡½æ•°
  const easing = {
      linear: t => t,
      easeInQuad: t => t * t,
      easeOutQuad: t => t * (2 - t),
      easeInOutQuad: t => t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t,
      easeInCubic: t => t * t * t,
      easeOutCubic: t => (--t) * t * t + 1,
  };
  ```

- 9.5 ç‰©ç†åŠ¨ç”»
  - é€Ÿåº¦ä¸åŠ é€Ÿåº¦
  - é‡åŠ›æ¨¡æ‹Ÿ
  - å¼¹æ€§æ•ˆæœ
  - æ‘©æ“¦åŠ›
  - ç¢°æ’åå¼¹

- 9.6 ç²’å­ç³»ç»Ÿ
  - ç²’å­å±æ€§ï¼ˆä½ç½®ã€é€Ÿåº¦ã€ç”Ÿå‘½å‘¨æœŸã€é¢œè‰²ã€å¤§å°ï¼‰
  - ç²’å­å‘å°„å™¨
  - ç²’å­æ›´æ–°ä¸æ¸²æŸ“
  - ç²’å­æ± ä¼˜åŒ–
  - å¸¸è§ç²’å­æ•ˆæœï¼ˆçƒŸèŠ±ã€ç«ç„°ã€é›ªèŠ±ï¼‰

**å­¦ä¹ ç›®æ ‡**ï¼šæŒæ¡åŠ¨ç”»åŸç†å’Œå®ç°æŠ€æœ¯

**ä»£ç ç¤ºä¾‹**ï¼š
```javascript
// åŸºç¡€åŠ¨ç”»å¾ªç¯
let lastTime = 0;

function animate(currentTime) {
    const deltaTime = currentTime - lastTime;
    lastTime = currentTime;
    
    // æ¸…é™¤ç”»å¸ƒ
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    
    // æ›´æ–°çŠ¶æ€
    update(deltaTime);
    
    // ç»˜åˆ¶
    render();
    
    requestAnimationFrame(animate);
}

requestAnimationFrame(animate);

// ç²’å­ç±»
class Particle {
    constructor(x, y) {
        this.x = x;
        this.y = y;
        this.vx = (Math.random() - 0.5) * 4;
        this.vy = (Math.random() - 0.5) * 4;
        this.life = 1;
        this.decay = 0.01 + Math.random() * 0.02;
    }
    
    update() {
        this.x += this.vx;
        this.y += this.vy;
        this.vy += 0.1; // é‡åŠ›
        this.life -= this.decay;
    }
    
    draw(ctx) {
        ctx.globalAlpha = this.life;
        ctx.beginPath();
        ctx.arc(this.x, this.y, 3, 0, Math.PI * 2);
        ctx.fill();
    }
}
```

---

## ğŸ“– ç¬¬äº”éƒ¨åˆ†ï¼šæ€§èƒ½ä¸å®æˆ˜ç¯‡

### ç¬¬10ç« ï¼šç¦»å±æ¸²æŸ“ä¸æ€§èƒ½ä¼˜åŒ–

**æ ¸å¿ƒé—®é¢˜**ï¼šå¦‚ä½•ä¼˜åŒ– Canvas æ¸²æŸ“æ€§èƒ½ï¼Ÿ

**å†…å®¹è¦ç‚¹**ï¼š

- 10.1 ç¦»å± Canvas
  - åˆ›å»ºç¦»å± Canvas
  - ç¦»å±æ¸²æŸ“çš„ç”¨é€”
  - åŒç¼“å†²æŠ€æœ¯
  - é¢„æ¸²æŸ“é™æ€å†…å®¹

- 10.2 OffscreenCanvas
  - `OffscreenCanvas` æ„é€ å‡½æ•°
  - Web Worker ä¸­ä½¿ç”¨ Canvas
  - `transferControlToOffscreen()` æ–¹æ³•
  - ä¸»çº¿ç¨‹ä¸ Worker é€šä¿¡
  - æ€§èƒ½æå‡åœºæ™¯

- 10.3 è„çŸ©å½¢ä¼˜åŒ–
  - è„çŸ©å½¢æ¦‚å¿µ
  - è„åŒºåŸŸè®¡ç®—
  - å±€éƒ¨é‡ç»˜å®ç°
  - è„çŸ©å½¢åˆå¹¶ç­–ç•¥

- 10.4 å›¾å±‚åˆ†ç¦»
  - å¤š Canvas å åŠ æŠ€æœ¯
  - é™æ€å±‚ä¸åŠ¨æ€å±‚åˆ†ç¦»
  - èƒŒæ™¯å±‚ã€å†…å®¹å±‚ã€UI å±‚
  - å›¾å±‚ç®¡ç†ç­–ç•¥

- 10.5 ç¼“å­˜ç­–ç•¥
  - å¤æ‚å›¾å½¢ç¼“å­˜
  - ç¼“å­˜å¤±æ•ˆåˆ¤æ–­
  - ç¼“å­˜å¤§å°æ§åˆ¶
  - ç¼“å­˜æ›´æ–°ç­–ç•¥

- 10.6 æ€§èƒ½ç›‘æµ‹ä¸è°ƒä¼˜
  - FPS è®¡ç®—ä¸æ˜¾ç¤º
  - Chrome DevTools Performance é¢æ¿
  - å†…å­˜ç›‘æµ‹
  - å¸¸è§æ€§èƒ½ç“¶é¢ˆ
  - æ€§èƒ½æ£€æŸ¥æ¸…å•

**å­¦ä¹ ç›®æ ‡**ï¼šæŒæ¡ Canvas æ€§èƒ½ä¼˜åŒ–ç­–ç•¥

**ä»£ç ç¤ºä¾‹**ï¼š
```javascript
// ç¦»å± Canvas é¢„æ¸²æŸ“
const offscreen = document.createElement('canvas');
offscreen.width = 100;
offscreen.height = 100;
const offCtx = offscreen.getContext('2d');

// é¢„æ¸²æŸ“å¤æ‚å›¾å½¢
offCtx.beginPath();
offCtx.arc(50, 50, 40, 0, Math.PI * 2);
offCtx.fill();

// ä¸» Canvas ä¸­ä½¿ç”¨
function render() {
    ctx.drawImage(offscreen, x, y);
}

// OffscreenCanvas in Worker
// main.js
const canvas = document.getElementById('canvas');
const offscreen = canvas.transferControlToOffscreen();
const worker = new Worker('worker.js');
worker.postMessage({ canvas: offscreen }, [offscreen]);

// worker.js
self.onmessage = function(e) {
    const canvas = e.data.canvas;
    const ctx = canvas.getContext('2d');
    // åœ¨ Worker ä¸­ç»‘åˆ¶
};
```

---

### ç¬¬11ç« ï¼šå®æˆ˜æ¡ˆä¾‹ä¸æœ€ä½³å®è·µ

**æ ¸å¿ƒé—®é¢˜**ï¼šå¦‚ä½•ç»¼åˆè¿ç”¨ Canvas æŠ€æœ¯å¼€å‘å®é™…åº”ç”¨ï¼Ÿ

**å†…å®¹è¦ç‚¹**ï¼š

- 11.1 ç”»æ¿åº”ç”¨
  - ç”»æ¿æ¶æ„è®¾è®¡
  - è‡ªç”±ç»‘åˆ¶å®ç°
  - ç¬”åˆ·æ•ˆæœï¼ˆé“…ç¬”ã€æ¯›ç¬”ã€å–·æªï¼‰
  - æ’¤é”€/é‡åšåŠŸèƒ½
  - å›¾å±‚ç³»ç»Ÿ
  - å¯¼å‡ºå›¾ç‰‡

- 11.2 å›¾è¡¨ç»˜åˆ¶
  - æŸ±çŠ¶å›¾å®ç°
  - æŠ˜çº¿å›¾å®ç°
  - é¥¼å›¾/ç¯å½¢å›¾å®ç°
  - åæ ‡è½´ä¸åˆ»åº¦
  - æ•°æ®æ ‡ç­¾
  - åŠ¨ç”»æ•ˆæœ
  - äº¤äº’åŠŸèƒ½ï¼ˆæ‚¬åœã€ç‚¹å‡»ï¼‰

- 11.3 æ¸¸æˆå¼€å‘åŸºç¡€
  - æ¸¸æˆå¾ªç¯
  - ç²¾çµï¼ˆSpriteï¼‰ç³»ç»Ÿ
  - ç¢°æ’æ£€æµ‹
  - é”®ç›˜/é¼ æ ‡è¾“å…¥
  - éŸ³æ•ˆç®¡ç†
  - ç®€å•æ¸¸æˆæ¡ˆä¾‹

- 11.4 å›¾åƒç¼–è¾‘å™¨
  - å›¾åƒåŠ è½½ä¸æ˜¾ç¤º
  - è£å‰ªåŠŸèƒ½
  - æ»¤é•œæ•ˆæœ
  - å›¾å±‚åˆæˆ
  - å†å²è®°å½•
  - å¯¼å‡ºåŠŸèƒ½

- 11.5 æ•°æ®å¯è§†åŒ–
  - å¤§æ•°æ®æ¸²æŸ“ç­–ç•¥
  - çƒ­åŠ›å›¾å®ç°
  - åŠ›å¯¼å‘å›¾
  - åœ°å›¾å¯è§†åŒ–
  - å®æ—¶æ•°æ®æ›´æ–°

- 11.6 æœ€ä½³å®è·µæ€»ç»“
  - ä»£ç ç»„ç»‡æ¨¡å¼
  - æ¨¡å—åŒ–è®¾è®¡
  - å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ
  - æ€§èƒ½æ£€æŸ¥æ¸…å•
  - è°ƒè¯•æŠ€å·§
  - å­¦ä¹ èµ„æºæ¨è

**å­¦ä¹ ç›®æ ‡**ï¼šé€šè¿‡å®æˆ˜æ¡ˆä¾‹å·©å›º Canvas æŠ€æœ¯

**ä»£ç ç¤ºä¾‹**ï¼š
```javascript
// ç®€æ˜“ç”»æ¿
class DrawingBoard {
    constructor(canvas) {
        this.canvas = canvas;
        this.ctx = canvas.getContext('2d');
        this.isDrawing = false;
        this.lastX = 0;
        this.lastY = 0;
        this.bindEvents();
    }
    
    bindEvents() {
        this.canvas.addEventListener('mousedown', (e) => {
            this.isDrawing = true;
            [this.lastX, this.lastY] = [e.offsetX, e.offsetY];
        });
        
        this.canvas.addEventListener('mousemove', (e) => {
            if (!this.isDrawing) return;
            this.ctx.beginPath();
            this.ctx.moveTo(this.lastX, this.lastY);
            this.ctx.lineTo(e.offsetX, e.offsetY);
            this.ctx.stroke();
            [this.lastX, this.lastY] = [e.offsetX, e.offsetY];
        });
        
        this.canvas.addEventListener('mouseup', () => {
            this.isDrawing = false;
        });
    }
}
```

---

## ğŸ“Š å­¦ä¹ è·¯çº¿å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Canvas 2D å­¦ä¹ è·¯çº¿                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                         â”‚                         â”‚
        â–¼                         â–¼                         â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ ç¬¬1-3ç«  â”‚             â”‚ ç¬¬4-7ç«  â”‚             â”‚ ç¬¬8-11ç« â”‚
   â”‚ åŸºç¡€å…¥é—¨â”‚             â”‚ æ ·å¼å›¾åƒâ”‚             â”‚ åŠ¨ç”»å®æˆ˜â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                         â”‚                         â”‚
        â–¼                         â–¼                         â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚åˆ›å»ºCanvasâ”‚            â”‚é¢œè‰²æ¸å˜ â”‚             â”‚åŠ¨ç”»å¾ªç¯ â”‚
   â”‚åŸºç¡€å›¾å½¢ â”‚             â”‚å˜æ¢çŸ©é˜µ â”‚             â”‚æ€§èƒ½ä¼˜åŒ– â”‚
   â”‚è·¯å¾„æ›²çº¿ â”‚             â”‚åƒç´ æ“ä½œ â”‚             â”‚å®æˆ˜é¡¹ç›® â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                         â”‚                         â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â–¼
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚  è¿›é˜¶ï¼šWebGL    â”‚
                        â”‚  è¿›é˜¶ï¼šPixiJS   â”‚
                        â”‚  è¿›é˜¶ï¼šæ— é™ç”»å¸ƒ  â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“š å‚è€ƒèµ„æº

### å®˜æ–¹æ–‡æ¡£
- [MDN Canvas æ•™ç¨‹](https://developer.mozilla.org/zh-CN/docs/Web/API/Canvas_API/Tutorial)
- [W3C Canvas 2D Context è§„èŒƒ](https://www.w3.org/TR/2dcontext/)
- [WHATWG Canvas è§„èŒƒ](https://html.spec.whatwg.org/multipage/canvas.html)

### æ¨èä¹¦ç±
- ã€ŠHTML5 Canvas æ ¸å¿ƒæŠ€æœ¯ã€‹ - David Geary
- ã€ŠCanvas é«˜çº§ç¼–ç¨‹ã€‹ - Rob Hawkes

### åœ¨çº¿å·¥å…·
- [Canvas Cheat Sheet](https://simon.html5.org/dump/html5-canvas-cheat-sheet.html)
- [Desmos å›¾å½¢è®¡ç®—å™¨](https://www.desmos.com/calculator)

---

## ğŸ“ ç¼–å†™çŠ¶æ€

| ç« èŠ‚ | çŠ¶æ€ | é¢„è®¡è¡Œæ•° |
|------|------|----------|
| 00 - æ•™å­¦å¤§çº²ä¸ç›®å½• | âœ… å®Œæˆ | ~800 |
| 01 - Canvaså…ƒç´ ä¸ç»‘åˆ¶ç¯å¢ƒ | â³ å¾…ç¼–å†™ | ~1,000 |
| 02 - åŸºç¡€å›¾å½¢ç»˜åˆ¶ | â³ å¾…ç¼–å†™ | ~1,000 |
| 03 - è·¯å¾„ä¸è´å¡å°”æ›²çº¿ | â³ å¾…ç¼–å†™ | ~1,200 |
| 04 - æ ·å¼ä¸é¢œè‰²ç³»ç»Ÿ | â³ å¾…ç¼–å†™ | ~1,000 |
| 05 - å˜æ¢ä¸åæ ‡ç³»ç»Ÿ | â³ å¾…ç¼–å†™ | ~1,200 |
| 06 - å›¾åƒä¸åƒç´ æ“ä½œ | â³ å¾…ç¼–å†™ | ~1,200 |
| 07 - åˆæˆä¸æ··åˆæ¨¡å¼ | â³ å¾…ç¼–å†™ | ~1,000 |
| 08 - æ–‡æœ¬æ¸²æŸ“ | â³ å¾…ç¼–å†™ | ~900 |
| 09 - åŠ¨ç”»ä¸å¸§å¾ªç¯ | â³ å¾…ç¼–å†™ | ~1,200 |
| 10 - ç¦»å±æ¸²æŸ“ä¸æ€§èƒ½ä¼˜åŒ– | â³ å¾…ç¼–å†™ | ~1,100 |
| 11 - å®æˆ˜æ¡ˆä¾‹ä¸æœ€ä½³å®è·µ | â³ å¾…ç¼–å†™ | ~1,200 |

---

**æ–‡æ¡£ç‰ˆæœ¬**ï¼šv1.0  
**åˆ›å»ºæ—¥æœŸ**ï¼š2026-01-28  
**ç³»åˆ—å®šä½**ï¼šWeb 2D å›¾å½¢ç»˜åˆ¶å…¥é—¨æ•™ç¨‹
