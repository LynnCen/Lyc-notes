# 操作系统强化

## 第一章 计算机系统概述

1. 操作系统的基本特征 

并发、共享、虚拟、异步

2. OS的目标和功能

处理机管理、存储器管理、设备管理、文件管理

高内聚 低耦合

3. 内核态和用户态的转换

用户态使用trap指令转移到内核态

4. 操作系统初始化过程

5. 中断过程和多重中断过程

6. 系统调用处理过程和CPU状态变化

7. 中断和异常

区分中断和异常的区别（外中断和内中断）

问题点：操作系统初始化过程、中断过程

## 第二章 进程和线程

1. 进程和线程的概念

进程是资源分配的基本单位、线程是CPU调度的基本单位

2. 进程和线程的组成

进程控制块（PCB）：进程创建后，常驻内存，包含PID，进程控制管理信息，CPU状态信息，恢复现场的信息，时间片，资源分配信息等

程序段（CPU调度执行的代码）

数据段（加工后称为程序段）

线程控制块TCB

3. 进程的状态与转换

3状态模型和5状态模型

3状态：就绪、运行、阻塞

5状态:创建、就绪、阻塞态、运行态、终止态

就绪只缺少CPU，阻塞缺少其他资源（除CPU之外的）

引起进程状态转换的事件

就绪——〉执行 获得CPU

执行->阻塞 io阻塞

创建->就绪 除CPU外的资源分配完毕

阻塞->就绪 申请到io资源

运行->就绪 时间片使用完毕 被高优先级抢占


4. 进程控制

原语：不可再分的基本单位

父子进程的关系：子进程的虚拟地址空间是父进程的副本（不是子集 相互隔离的），父子进程可共享io设备

进程创建的过程：分配pid pcb 内存 io等资源 初始化pcb的内容 

进程的终止的操作：根据pid 找到pcb 回收io资源 终止该进程以及子孙进程，删除pcb

进程的阻塞和唤醒：

阻塞：申请io资源失败时，使用阻塞原语将该进程从执行态变为阻塞态，将该进程PCB插入对应事件等待队列

唤醒：所需要的io操作已完成或所期待的数据已到达时，使用唤醒原语（wakeup）将该进程从阻塞变成就绪

5. 进程通信

共享存储、消息传递、管道通信

管道通信：管道是一个特殊的文件，理解为buffer，大小固定，采用读者-写者模式管理该buffer，由父进程创建，从而实现子进程与父进程间的通信。

父进程与子进程之间的通信：

管道（Pipe）、命名管道（FIFO）、共享内存（Shared Memory）、消息队列（Message Queue）、信号（Signal）

独立进程之间的通信：

套接字（Socket）、共享内存（Shared Memory）、消息队列（Message Queue）、信号（Signal）、文件（File）、命名管道（FIFO）






