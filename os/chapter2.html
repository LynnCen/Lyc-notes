<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>林岑LynnCenʘᴗʘ </title>
    <meta name="description" content="林岑的成长之路，包含前端常用知识、源码阅读笔记、各种奇淫技巧、日常提效工具等">
    <meta name="generator" content="VitePress v1.0.1">
    <link rel="preload stylesheet" href="/Lyc-notes/assets/style.gfDl9ujF.css" as="style">
    
    <script type="module" src="/Lyc-notes/assets/app.acu2Gtwm.js"></script>
    <link rel="preload" href="/Lyc-notes/assets/inter-roman-latin.Bu8hRsVA.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/Lyc-notes/assets/chunks/framework.CAVwB9kQ.js">
    <link rel="modulepreload" href="/Lyc-notes/assets/chunks/theme.DZL1zuEx.js">
    <link rel="modulepreload" href="/Lyc-notes/assets/os_chapter2.md.DMg4bONV.lean.js">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon" href="/favicon.ico">
    <link rel="mask-icon" href="/favicon.ico" color="#3eaf7c">
    <meta name="msapplication-TileImage" content="/favicon.ico">
    <meta name="msapplication-TileColor" content="#000000">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-7cb4efe6><!--[--><!--]--><!--[--><span tabindex="-1" data-v-e8152104></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-e8152104> Skip to content </a><!--]--><!----><header class="VPNav" data-v-7cb4efe6 data-v-ea148854><div class="VPNavBar has-sidebar top" data-v-ea148854 data-v-0724480d><div class="wrapper" data-v-0724480d><div class="container" data-v-0724480d><div class="title" data-v-0724480d><div class="VPNavBarTitle has-sidebar" data-v-0724480d data-v-1f66e29d><a class="title" href="/Lyc-notes/" data-v-1f66e29d><!--[--><!--]--><!--[--><img class="VPImage logo" src="/Lyc-notes/LynnCenLogo.png" alt data-v-6e5ecf35><!--]--><span data-v-1f66e29d>林岑LynnCenʘᴗʘ </span><!--[--><!--[--><!--[--><!--[--><img class="visitor" src="https://visitor-badge.laobi.icu/badge?page_id=LynnCen.Lyc-notes" onerror="this.style.display=&#39;none&#39;" data-v-124f1dab><!--]--><!--]--><!--]--><!--]--></a></div></div><div class="content" data-v-0724480d><div class="content-body" data-v-0724480d><!--[--><!--]--><div class="VPNavBarSearch search" data-v-0724480d><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-0724480d data-v-05bd997a><span id="main-nav-aria-label" class="visually-hidden" data-v-05bd997a>Main Navigation</span><!--[--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-05bd997a data-v-6dd6b830><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-6dd6b830><span class="text" data-v-6dd6b830><!----><span data-v-6dd6b830>WebFront</span><span class="vpi-chevron-down text-icon" data-v-6dd6b830></span></span></button><div class="menu" data-v-6dd6b830><div class="VPMenu" data-v-6dd6b830 data-v-f7a45937><div class="items" data-v-f7a45937><!--[--><!--[--><div class="VPMenuLink" data-v-f7a45937 data-v-4174e14e><a class="VPLink link" href="/Lyc-notes/Javascript/basic/%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84js" data-v-4174e14e><!--[-->Javascript基础<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-f7a45937 data-v-4174e14e><a class="VPLink link" href="/Lyc-notes/Javascript/Advance/executionContext" data-v-4174e14e><!--[-->Javascript进阶<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-f7a45937 data-v-4174e14e><a class="VPLink link" href="/Lyc-notes/typescript/%E8%AE%B0%E5%BD%95" data-v-4174e14e><!--[-->Typescript<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-f7a45937 data-v-4174e14e><a class="VPLink link" href="/Lyc-notes/browser/Chrome%E6%9E%B6%E6%9E%84" data-v-4174e14e><!--[-->浏览器原理<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-05bd997a data-v-6dd6b830><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-6dd6b830><span class="text" data-v-6dd6b830><!----><span data-v-6dd6b830>ComputerBasics</span><span class="vpi-chevron-down text-icon" data-v-6dd6b830></span></span></button><div class="menu" data-v-6dd6b830><div class="VPMenu" data-v-6dd6b830 data-v-f7a45937><div class="items" data-v-f7a45937><!--[--><!--[--><div class="VPMenuGroup" data-v-f7a45937 data-v-6f4f184d><p class="title" data-v-6f4f184d>计算机组成原理</p><!--[--><!--[--><div class="VPMenuLink" data-v-6f4f184d data-v-4174e14e><a class="VPLink link" href="/Lyc-notes/%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/chapter1" data-v-4174e14e><!--[-->计算机组成原理基础<!--]--></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="VPMenuGroup" data-v-f7a45937 data-v-6f4f184d><p class="title" data-v-6f4f184d>数据结构</p><!--[--><!--[--><div class="VPMenuLink" data-v-6f4f184d data-v-4174e14e><a class="VPLink link" href="/Lyc-notes/dataStructure/chapter1" data-v-4174e14e><!--[-->数据结构基础<!--]--></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="VPMenuGroup" data-v-f7a45937 data-v-6f4f184d><p class="title" data-v-6f4f184d>操作系统OS</p><!--[--><!--[--><div class="VPMenuLink" data-v-6f4f184d data-v-4174e14e><a class="VPLink link" href="/Lyc-notes/os/chapter1" data-v-4174e14e><!--[-->操作系统基础<!--]--></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="VPMenuGroup" data-v-f7a45937 data-v-6f4f184d><p class="title" data-v-6f4f184d>计算机网络</p><!--[--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-05bd997a data-v-6dd6b830><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-6dd6b830><span class="text" data-v-6dd6b830><!----><span data-v-6dd6b830>Frameworks</span><span class="vpi-chevron-down text-icon" data-v-6dd6b830></span></span></button><div class="menu" data-v-6dd6b830><div class="VPMenu" data-v-6dd6b830 data-v-f7a45937><div class="items" data-v-f7a45937><!--[--><!--[--><div class="VPMenuLink" data-v-f7a45937 data-v-4174e14e><a class="VPLink link" href="/Lyc-notes/react/core/basic" data-v-4174e14e><!--[-->React<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-f7a45937 data-v-4174e14e><a class="VPLink link" href="/Lyc-notes/Vue/basic" data-v-4174e14e><!--[-->Vue<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-05bd997a data-v-6dd6b830><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-6dd6b830><span class="text" data-v-6dd6b830><!----><span data-v-6dd6b830>Engineering</span><span class="vpi-chevron-down text-icon" data-v-6dd6b830></span></span></button><div class="menu" data-v-6dd6b830><div class="VPMenu" data-v-6dd6b830 data-v-f7a45937><div class="items" data-v-f7a45937><!--[--><!--[--><div class="VPMenuLink" data-v-f7a45937 data-v-4174e14e><a class="VPLink link" href="/Lyc-notes/webpack/performance" data-v-4174e14e><!--[-->WebPack<!--]--></a></div><!--]--><!--[--><div class="VPMenuGroup" data-v-f7a45937 data-v-6f4f184d><p class="title" data-v-6f4f184d>Vite</p><!--[--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/Lyc-notes/interview/js" tabindex="0" data-v-05bd997a data-v-20d3dafa><!--[--><span data-v-20d3dafa>Interview</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-0724480d data-v-632dc8b9><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-632dc8b9 data-v-aefec510 data-v-45278f36><span class="check" data-v-45278f36><span class="icon" data-v-45278f36><!--[--><span class="vpi-sun sun" data-v-aefec510></span><span class="vpi-moon moon" data-v-aefec510></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-0724480d data-v-dedde283 data-v-4d9d7801><!--[--><a class="VPSocialLink no-icon" href="https://github.com/LynnCen" aria-label="github" target="_blank" rel="noopener" data-v-4d9d7801 data-v-219c289b><span class="vpi-social-github" /></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-0724480d data-v-51b1c64a data-v-6dd6b830><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-6dd6b830><span class="vpi-more-horizontal icon" data-v-6dd6b830></span></button><div class="menu" data-v-6dd6b830><div class="VPMenu" data-v-6dd6b830 data-v-f7a45937><!----><!--[--><!--[--><!----><div class="group" data-v-51b1c64a><div class="item appearance" data-v-51b1c64a><p class="label" data-v-51b1c64a>外观</p><div class="appearance-action" data-v-51b1c64a><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-51b1c64a data-v-aefec510 data-v-45278f36><span class="check" data-v-45278f36><span class="icon" data-v-45278f36><!--[--><span class="vpi-sun sun" data-v-aefec510></span><span class="vpi-moon moon" data-v-aefec510></span><!--]--></span></span></button></div></div></div><div class="group" data-v-51b1c64a><div class="item social-links" data-v-51b1c64a><div class="VPSocialLinks social-links-list" data-v-51b1c64a data-v-4d9d7801><!--[--><a class="VPSocialLink no-icon" href="https://github.com/LynnCen" aria-label="github" target="_blank" rel="noopener" data-v-4d9d7801 data-v-219c289b><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-0724480d data-v-51c438c1><span class="container" data-v-51c438c1><span class="top" data-v-51c438c1></span><span class="middle" data-v-51c438c1></span><span class="bottom" data-v-51c438c1></span></span></button></div></div></div></div><div class="divider" data-v-0724480d><div class="divider-line" data-v-0724480d></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-7cb4efe6 data-v-bc19262c><div class="container" data-v-bc19262c><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-bc19262c><span class="vpi-align-left menu-icon" data-v-bc19262c></span><span class="menu-text" data-v-bc19262c>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-bc19262c data-v-2079d3b9><button data-v-2079d3b9>返回顶部</button><!----></div></div></div><aside class="VPSidebar" data-v-7cb4efe6 data-v-3f58d2a6><div class="curtain" data-v-3f58d2a6></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-3f58d2a6><span class="visually-hidden" id="sidebar-aria-label" data-v-3f58d2a6> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-3f58d2a6><section class="VPSidebarItem level-0 has-active" data-v-3f58d2a6 data-v-84b46cca><div class="item" role="button" tabindex="0" data-v-84b46cca><div class="indicator" data-v-84b46cca></div><h2 class="text" data-v-84b46cca>操作系统基础</h2><!----></div><div class="items" data-v-84b46cca><!--[--><div class="VPSidebarItem level-1 is-link" data-v-84b46cca data-v-84b46cca><div class="item" data-v-84b46cca><div class="indicator" data-v-84b46cca></div><a class="VPLink link link" href="/Lyc-notes/os/chapter1" data-v-84b46cca><!--[--><p class="text" data-v-84b46cca>第一章 操作系统引论</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-84b46cca data-v-84b46cca><div class="item" data-v-84b46cca><div class="indicator" data-v-84b46cca></div><a class="VPLink link link" href="/Lyc-notes/os/chapter2" data-v-84b46cca><!--[--><p class="text" data-v-84b46cca>第二章 进程与线程</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-7cb4efe6 data-v-46f1df28><div class="VPDoc has-sidebar has-aside" data-v-46f1df28 data-v-68270971><!--[--><!--]--><div class="container" data-v-68270971><div class="aside" data-v-68270971><div class="aside-curtain" data-v-68270971></div><div class="aside-container" data-v-68270971><div class="aside-content" data-v-68270971><div class="VPDocAside" data-v-68270971 data-v-578eff5a><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-578eff5a data-v-645a1e5e><div class="content" data-v-645a1e5e><div class="outline-marker" data-v-645a1e5e></div><div class="outline-title" role="heading" aria-level="2" data-v-645a1e5e>本页目录</div><nav aria-labelledby="doc-outline-aria-label" data-v-645a1e5e><span class="visually-hidden" id="doc-outline-aria-label" data-v-645a1e5e> Table of Contents for current page </span><ul class="VPDocOutlineItem root" data-v-645a1e5e data-v-a088e582><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-578eff5a></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-68270971><div class="content-container" data-v-68270971><!--[--><!--]--><main class="main" data-v-68270971><div style="position:relative;" class="vp-doc _Lyc-notes_os_chapter2" data-v-68270971><div><h2 id="进程的描述与控制" tabindex="-1">进程的描述与控制 <a class="header-anchor" href="#进程的描述与控制" aria-label="Permalink to &quot;进程的描述与控制&quot;">​</a></h2><h3 id="前驱图和程序执行" tabindex="-1">前驱图和程序执行 <a class="header-anchor" href="#前驱图和程序执行" aria-label="Permalink to &quot;前驱图和程序执行&quot;">​</a></h3><h4 id="前驱图" tabindex="-1">前驱图 <a class="header-anchor" href="#前驱图" aria-label="Permalink to &quot;前驱图&quot;">​</a></h4><p>作用：用于描述程序执行先后顺序 定义：一个有向无循环图（DAG），用于描述进程之间执行的先后顺序。 每个结点可用来表示一个进程或程序段，乃至一条语句，结点之间的有向边表示两个节点之间存在的偏序或前驱关系。 初始结点：没有前驱的结点 终止结点：没有后继的结点。 重量（weight）：每个结点含有一个重量，用于表示该结点所含的程序量或程序的执行时间。</p><h4 id="程序顺序执行" tabindex="-1">程序顺序执行 <a class="header-anchor" href="#程序顺序执行" aria-label="Permalink to &quot;程序顺序执行&quot;">​</a></h4><ol><li>程序的顺序执行</li><li>程序顺序执行时的特征 顺序性： 封闭性：程序在封闭的环境下运行，运行时独占全机资源，资源的状态只有本程序才能改变它，程序一旦开始执行，其执行结果不受外界因素影响 可再现性：只要程序执行时的环境和初始条件相同，当程序重复执行时，不论它时从头到尾不停顿地执行，还是走走停停，都可获得相同的结果。</li></ol><h4 id="程序并发执行" tabindex="-1">程序并发执行 <a class="header-anchor" href="#程序并发执行" aria-label="Permalink to &quot;程序并发执行&quot;">​</a></h4><p>只有在不存在前驱关系的程序之间才可能并发执行，否则无法并发执行。</p><ol><li>程序的并发执行</li><li>程序并发执行时的特征 （1）间断性。程序在并发执行时，由于它们共享系统资源，以及完成同一项任务而相互合作，致使在这些并发执行的程序之间形成了相互制约的关系。“执行-暂停-执行” （2）失去封闭性。当系统中存在着多个可以并发执行的程序时，系统中的各种资源将为它们所共享，而这些资源的状态也由这些程序来改变，致使其中任一程序在运行时，其环境都必然会收到其他程序的影响。 （3）不可再现性。程序在并发执行时，由于失去了封闭性，也将导致其又失去了可再现性。</li></ol><h3 id="进程的描述" tabindex="-1">进程的描述 <a class="header-anchor" href="#进程的描述" aria-label="Permalink to &quot;进程的描述&quot;">​</a></h3><h4 id="进程的定义和特征" tabindex="-1">进程的定义和特征 <a class="header-anchor" href="#进程的定义和特征" aria-label="Permalink to &quot;进程的定义和特征&quot;">​</a></h4><ol><li>进程的定义 进程控制块（PCB）：一种数据结构，用来描述进程的基本情况和活动过程，进而控制和管理进程。 进程实体-进程（进程映像）：由程序段、相关的数据段和 PCB 组成。 定义： （1）进程是程序的一次执行。 （2）进程是一个程序及其数据在处理机上顺序执行时所发生的活动。 （3）进程是具有独立功能的程序在一个数据集合上运行的过程，它是系统进行资源分配和调度的一个独立单位。 总结：进程是进程实体的运行过程，是系统进行资源分配和调度的一个独立单位</li><li>进程的特征 （1）动态性。 （2）并发性。 （3）独立性。 （4）异步性。</li></ol><h4 id="进程的基本状态及转换" tabindex="-1">进程的基本状态及转换 <a class="header-anchor" href="#进程的基本状态及转换" aria-label="Permalink to &quot;进程的基本状态及转换&quot;">​</a></h4><ol><li>进程的三种基本状态 （1）就绪态。指进程已处于准备好运行的状态，即进程已分配到除 CPU 以外的所有必要资源后，只要再获得 CPU，便可立即执行。 （2）执行态。已获得 CPU，其程序正在执行的状态。 （3）阻塞态。指正在执行的进程由于发生某事件（I/O，申请缓冲区失败）等暂时无法继续执行时的状态，亦即进程的执行收到阻塞。</li><li>三种基本状态的转换 <img src="/Lyc-notes/assets/%E8%BF%9B%E7%A8%8B%E7%9A%84%E4%B8%89%E7%A7%8D%E5%9F%BA%E6%9C%AC%E7%8A%B6%E6%80%81%E5%8F%8A%E5%85%B6%E8%BD%AC%E6%8D%A2.KRABCbow.png" alt="4"></li><li>创建状态和终止状态</li></ol><p>1）创建状态 进程申请空白的 PCB，并向 PCB 中填写用于控制和管理进程的信息，然后为该进程分配所必须的资源，最后，将该进程转入就绪状态并插入就绪队列。 2）终止状态 等待 OS 进行善后处理，最后将其 PCB 清空，并将 PCB 空间返回给系统。 <img src="/Lyc-notes/assets/%E8%BF%9B%E7%A8%8B%E7%9A%84%E7%89%A9%E7%A7%8D%E5%9F%BA%E6%9C%AC%E7%8A%B6%E6%80%81%E8%BD%AC%E6%8D%A2.BBrk5nZX.png" alt="5"></p><h4 id="挂起操作和进程状态的转换" tabindex="-1">挂起操作和进程状态的转换 <a class="header-anchor" href="#挂起操作和进程状态的转换" aria-label="Permalink to &quot;挂起操作和进程状态的转换&quot;">​</a></h4><ol><li>挂起操作的引入 （1）终端用户的需要。 （2）父进程请求。 （3）负荷调节的需要 （4）操作系统的需要</li><li>引入挂起原语操作后三个进程状态的转换 （1）活动就绪-&gt;静止就绪。 （2）活动阻塞-&gt;静止阻塞。 （3）静止就绪-&gt;活动就绪。 （4）静止阻塞-&gt;活动阻塞 <img src="/Lyc-notes/assets/%E5%85%B7%E6%9C%89%E6%8C%82%E8%B5%B7%E7%8A%B6%E6%80%81%E7%9A%84%E8%BF%9B%E7%A8%8B%E7%8A%B6%E6%80%81%E5%9B%BE.KksGE6dy.png" alt="6"></li><li>引入挂起操作后五个进程状态的转换</li></ol><p><img src="/Lyc-notes/assets/%E5%85%B7%E6%9C%89%E5%88%9B%E5%BB%BA%E3%80%81%E7%BB%88%E6%AD%A2%E5%92%8C%E6%8C%82%E8%B5%B7%E7%8A%B6%E6%80%81.DiA6WWc4.png" alt="6"></p><h4 id="进程管理中的数据结构" tabindex="-1">进程管理中的数据结构 <a class="header-anchor" href="#进程管理中的数据结构" aria-label="Permalink to &quot;进程管理中的数据结构&quot;">​</a></h4><ol><li>操作系统中用于管理控制的数据结构 资源信息表（进程信息表）：对每个资源和每个进程都设置了一个数据结构，用于表征其实体，其中包含了资源或进程的标识、描述、状态等信息以及一批指针。 <img src="/Lyc-notes/assets/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%8E%A7%E5%88%B6%E8%A1%A8%E7%9A%84%E4%B8%80%E8%88%AC%E7%BB%93%E6%9E%84.CukUOIHA.png" alt="7"></li><li>进程控制块 PCB 的作用</li></ol><p>（1）作为独立运行基本单位的标志。PCB 是进程存在与系统中的唯一标志。 （2）能实现间断性运行方式。 （3）提供进程管理所需要的信息。 （4）提供进程调度所需要的信息。 （5）实现与其他进程的同步与通信。</p><ol start="3"><li>进程控制块中的信息 1）进程标识符 用于唯一地标识一个进程。 （1）外部标识 （2）内部标识 2）处理机状态 处理机信息也称为处理的上下文，主要是由处理机的各种寄存器中的内容组成。 通用寄存器（用户可见寄存器）、指令计数器、程序状态字 PSW、用户栈指针、 3）进程调度信息 进程状态、进程优先级、进程调度所需其他信息、事件 4）进程控制信息 程序和数据的地址、进程同步和通信机制、资源清单、链接指针</li><li>进程控制块的组织方式 （1）线性方式 （2）链接方式 （3）索引方式 <img src="/Lyc-notes/assets/PCB%E9%93%BE%E6%8E%A5%E6%96%B9%E5%BC%8F.dneqpn5Q.png" alt="8"></li></ol><p><img src="/Lyc-notes/assets/PCB%E7%B4%A2%E5%BC%95%E9%93%BE%E6%8E%A5%E6%96%B9%E5%BC%8F.BV8Me7MX.png" alt="9"></p><h3 id="进程控制" tabindex="-1">进程控制 <a class="header-anchor" href="#进程控制" aria-label="Permalink to &quot;进程控制&quot;">​</a></h3><p>进程控制一般由 OS 的内核中的原语来实现</p><h4 id="操作系统内核" tabindex="-1">操作系统内核 <a class="header-anchor" href="#操作系统内核" aria-label="Permalink to &quot;操作系统内核&quot;">​</a></h4><p>系统态 ： 又称为管态，也称为内核态，它具有较高的特权，能执行一切指令，访问所有寄存器和存储区，传统的 OS 都在系统态运行。 用户态：又称为目态，具有较低特权的执行状态，仅能执行规定的指令，访问特定的寄存器和存储区，一般情况下，应用程序只能在用户态运行，不能取执行 OS 指令及访问 OS 区域，以防止应用程序对 OS 的破坏。</p><ol><li>支撑功能 （1）中断处理。 （2）时钟管理 （3）原语操作。由若干条指令组成的，用于完成一定功能的一个过程。它与一般过程的区别在于，它们是“原子操作”，指一个操作中的所有动作要么全不做，要么全做。它是一个不可分割的基本单位，因此原语在执行过程中不允许被中断，原子操作在系统态下执行，常驻内存。</li><li>资源管理功能 （1）进程管理 （2）存储器管理 （3）设备管理</li></ol><h4 id="进程的创建" tabindex="-1">进程的创建 <a class="header-anchor" href="#进程的创建" aria-label="Permalink to &quot;进程的创建&quot;">​</a></h4><ol><li>进程的层次结构</li><li>进程图 描述进程家族关系的有向树</li><li>引起创建进程的事件 （1）用户登陆 （2）作业调度 （3）提供服务 （4）应用请求</li><li>进程的创建 （1）申请空白的 PCB，为新进程申请获得唯一的数字标识符，并从 PCB 集合中索取一个空白 PCB （2）为新进程分配其运行所需的资源，包括各种物理和逻辑资源，如内存、文件、I/O 设备和 CPU 时间等。 （3）初始化进程控制块（PCB） （4）如果进程就绪队列能够接纳新进程，便将新进程插入就绪队列。</li></ol><h4 id="进程的终止" tabindex="-1">进程的终止 <a class="header-anchor" href="#进程的终止" aria-label="Permalink to &quot;进程的终止&quot;">​</a></h4><ol><li>引起进程终止的事件 （1）正常结束 （2）异常结束。 常见的异常事件： 越界错：指程序所访问的存储区，已越出该进程的区域 保护错：指进程试图取访问一个不允许访问的资源或文件，或者以不适当的方式进程访问，例如，去写一个只读文件。 非法指令：指程序试图去执行一条不存在的指令 特权指令错：指用户进程试图去执行一条只允许 OS 执行的指令 运行超时：指进程的执行时间超过了指定的最大值 等待超时：指进程等待某事件的时间超过了规定的最大值 算术运算错：指进程试图去执行一个被禁止的运算 I/O 故障：指 I/O 过程中发生了错误 （3）外界干预</li><li>进程的终止过程</li></ol><h4 id="进程的阻塞与唤醒" tabindex="-1">进程的阻塞与唤醒 <a class="header-anchor" href="#进程的阻塞与唤醒" aria-label="Permalink to &quot;进程的阻塞与唤醒&quot;">​</a></h4><ol><li>引起进程阻塞和唤醒的事件 （1） 向系统请求共享资源失败。 （2）等待某种操作的完成。 （3）新数据尚未到达。 （4）等待新任务的到达</li><li>进程阻塞过程 通过调用阻塞原语 block 将自己阻塞。</li><li>进程唤醒过程 调用 wakeup 原语唤醒：首先将被阻塞的进程从等待该事件的阻塞队列中移出，将其 PCB 中的现行状态由阻塞态改为就绪，然后再将 PCB 插入到就绪队列中。</li></ol><h4 id="进程的挂起与激活" tabindex="-1">进程的挂起与激活 <a class="header-anchor" href="#进程的挂起与激活" aria-label="Permalink to &quot;进程的挂起与激活&quot;">​</a></h4><ol><li>进程的挂起 使用 suspend 挂起原语将指定进程或处于阻塞状态的进程挂起。活动就绪 -&gt; 静止就绪 。 活动阻塞 -&gt; 静止阻塞</li><li>进程的激活过程 使用 active 原语激活进程。</li></ol><h3 id="进程同步" tabindex="-1">进程同步 <a class="header-anchor" href="#进程同步" aria-label="Permalink to &quot;进程同步&quot;">​</a></h3><h4 id="进程同步的基本概念" tabindex="-1">进程同步的基本概念 <a class="header-anchor" href="#进程同步的基本概念" aria-label="Permalink to &quot;进程同步的基本概念&quot;">​</a></h4><p>同步机制的主要任务：对多个相关进程在执行次序上进行协调，使并发执行的诸进程之间能按照一定的规则（或时序）共享系统资源</p><ol><li><p>两种形式的制约关系 1）间接相互制约关系 访问共享系统资源（同一时间只允许一个进程访问），所以形成了间接相互制约关系。 2）直接相互制约关系 完成同一项任务的两个进程而相互合作。例如 A 输入进程，B 计算进程，共享一个缓冲区，进程 A 向 B 提供数据，B 从缓冲区中取出数据。</p></li><li><p>临界资源 对临界资源（打印机、磁带机）的访问，诸进程之间应采用互斥方式。 生产者-消费者</p></li><li><p>临界区 临界区：把每个进程中访问临界资源的那段代码称为临界区。</p></li><li><p>同步机制应遵循的规则 （1）空闲让进：当无进程进入自己的临界区，表明临界资源处于空闲状态，应允许一个请求进入临界区的进程立即进入自己的临界区，以有效地利用临界资源。 （2）忙则等待：当已有进程进入临界区时，表明临界资源正在被访问，因而其它试图进入临界区的进程必须等待，以保证对临界资源的护持访问。 （3）有限等待：对要求访问临界资源的进程，应保证在有限时间内能进入自己的临界区，以免陷入“死等”状态。 （4）让权等待：当进程不能进入自己的临界区时，应立即释放处理机，以免进程陷入“忙等”状态</p><p><img src="/Lyc-notes/assets/%E4%B8%B4%E7%95%8C%E5%8C%BA%E7%9A%84%E5%BE%AA%E7%8E%AF%E8%BF%9B%E7%A8%8B.Bt_v9vu3.png" alt="10"></p></li></ol><h4 id="硬件同步机制" tabindex="-1">硬件同步机制 <a class="header-anchor" href="#硬件同步机制" aria-label="Permalink to &quot;硬件同步机制&quot;">​</a></h4><ol><li>关中断</li><li>利用 Test-and-Set 指令实现互斥</li><li>利用 Swap 指令实现进程互斥 不符合“让权等待”</li></ol><h4 id="信号量机制" tabindex="-1">信号量机制 <a class="header-anchor" href="#信号量机制" aria-label="Permalink to &quot;信号量机制&quot;">​</a></h4><ol><li>整型信号量 S：表示资源数目的整型量 S wait（S）和 signal（S） -&gt; P、V 操作 <img src="/Lyc-notes/assets/PV.CQpK-kb9.png" alt="10"> 未遵循让权等待</li><li>记录型信号量 <img src="/Lyc-notes/assets/%E8%AE%B0%E5%BD%95%E5%9E%8B%E4%BF%A1%E5%8F%B7%E9%87%8F.DmkhllZN.png" alt="11"></li><li>AND 型信号量 基本思想：将进程在整个运行过程中需要的所有资源，一次性全部地分配给进程，待进程使用完后再一起释放。只要尚有一个资源分配给进程，其它所有可能其它所有可能为之分配的资源也不分配给它。要么把它所请求的资源全部分配到进程，要么一个也不分配 <img src="/Lyc-notes/assets/AND%E5%9E%8B%E4%BF%A1%E5%8F%B7%E9%87%8F.B8k18j0q.png" alt="12"></li><li>信号量集</li></ol><h4 id="信号量的应用" tabindex="-1">信号量的应用 <a class="header-anchor" href="#信号量的应用" aria-label="Permalink to &quot;信号量的应用&quot;">​</a></h4><ol><li>利用信号量实现进程互斥 设置 mutex 为互斥信号量，初始值为 1，取值范围为（-1，0，1）。当 mutex=1 时，表示两个进程皆未进入需要互斥的临界区；当 mutex=0 时，表示有一个进程进入临界区运行，另一个必须等待，挂入阻塞队列；当 mutex = -1 时，表示有一个进程正在临界区运行，另一个进程因等待而阻塞在信号量队列中，需要被当前已在临界区运行的进程退出时唤醒。 <img src="/Lyc-notes/assets/%E4%B8%B4%E7%95%8C%E5%8C%BA%E4%BA%92%E6%96%A5.DYCp_M34.png" alt="12"> PV 必须成对的出现。缺失 P 将会导致系统混乱，不能保证对临界区资源的互斥访问；缺少 V 操作将会使临界资源永远不被释放，从而使等待该资源而阻塞的进程不能被唤醒。</li><li>利用信号量实现前趋关系 设置信号量 S，初始值为 0，欲使 P1 进程的 S1 语句要在 P2 进程中的 S2 语句之前执行。 在进程 P1 中，执行 S1；signal(s)； 在进程 P2 中，wait(s);执行 S2； <img src="/Lyc-notes/assets/%E5%88%A9%E7%94%A8%E4%BF%A1%E5%8F%B7%E9%87%8F%E5%AE%9E%E7%8E%B0%E5%89%8D%E9%A9%B1.aBg2ku2w.png" alt="13"></li></ol><h4 id="管程机制" tabindex="-1">管程机制 <a class="header-anchor" href="#管程机制" aria-label="Permalink to &quot;管程机制&quot;">​</a></h4><ol><li>管程的定义 代表共享资源的数据结构以及由对该共享数据实施操作的一组过程所组成的资源管理程共同构成了一个操作系统的资源管理模块，称为管程 组成： （1）管程的名称 （2）局部于管程的共享数据结构说明 （3）对该数据结构进行操作的一组过程 （4）对局部于管程的共享数据设置初始值 管程包含了面向对象的思想，它将表征共享资源的数据结构及其数据结构操作的一组过程，包括同步机制，都集中并封装在一个对象内部，隐藏了实现细节 <img src="/Lyc-notes/assets/%E7%AE%A1%E7%A8%8B.BKhWfdQn.png" alt="14"></li><li>条件变量 conditionx,y (1)x.wait:正在调用管程的进程因 x 条件被阻塞或挂起，则调用 x.wait 将自己插入到 x 条件的等待队列上，并释放管程，直到 x 条件变化。 （2）x.signal:正在调用管程的进程发现 x 条件发生了变化，则调用 x.signal，重新启动一个因 x 条件而阻塞或挂起的进程，如果存在多个这样的进程，则选择其中的一个，如果没有，则继续执行原进程</li></ol><h3 id="经典进程的同步问题" tabindex="-1">经典进程的同步问题 <a class="header-anchor" href="#经典进程的同步问题" aria-label="Permalink to &quot;经典进程的同步问题&quot;">​</a></h3><h4 id="生产者-消费者" tabindex="-1">生产者-消费者 <a class="header-anchor" href="#生产者-消费者" aria-label="Permalink to &quot;生产者-消费者&quot;">​</a></h4><ol><li>利用记录型信号量解决生产者-消费者问题</li></ol><p>假定在生产者和消费者之间的公用缓冲池中具有 n 个缓冲区，这时可利用 mutex 互斥信号量实现进程对缓冲池的互斥使用。利用信号量 empty 和 full 分别表示缓冲池中空缓冲区和满缓冲区的数量。只要缓冲池未满，生产者便可将消息送入缓冲池；只要缓冲池未空，消费者便可从缓冲池中取走一个消息。 <strong>注意：</strong> 每个程序用于实现互斥的 wait 和 signal 必须成对地出现；其次，对资源信号量 empty 和 full 的 PV 操作，同样也需要成对出现，但它们分别处于不同的程序中。</p><p><img src="/Lyc-notes/assets/%E8%AE%B0%E5%BD%95%E5%9E%8B%E4%BF%A1%E5%8F%B7%E9%87%8F%E8%A7%A3%E5%86%B3%E7%94%9F%E4%BA%A7-%E6%B6%88%E8%B4%B9%E8%80%85%E9%97%AE%E9%A2%98.TEetLZtt.png" alt="15"></p><ol start="2"><li>利用 AND 信号量解决生产者-消费者问题 用 Swati(empty,mutex)来代替 wait(empty)和 wait(mutex)</li></ol><p><img src="/Lyc-notes/assets/%E5%88%A9%E7%94%A8AND%E4%BF%A1%E5%8F%B7%E9%87%8F%E8%A7%A3%E5%86%B3%E7%94%9F%E4%BA%A7%E8%80%85-%E6%B6%88%E8%B4%B9%E8%80%85%E9%97%AE%E9%A2%98.BKAnsoxH.png" alt="16"></p><ol start="3"><li>利用管程解决生产者-消费者问题 PC 管程描述： <img src="/Lyc-notes/assets/PC%E7%AE%A1%E7%A8%8B.C1bzd2Wg.png" alt="17"> 管程解决描述： <img src="/Lyc-notes/assets/PC%E7%AE%A1%E7%A8%8B%E8%A7%A3%E5%86%B3%E7%94%9F%E4%BA%A7%E8%80%85-%E6%B6%88%E8%B4%B9%E8%80%85%E9%97%AE%E9%A2%98.D9nVYgXt.png" alt="18"></li></ol><h3 id="哲学家进餐问题" tabindex="-1">哲学家进餐问题 <a class="header-anchor" href="#哲学家进餐问题" aria-label="Permalink to &quot;哲学家进餐问题&quot;">​</a></h3><p>一个圆桌，五把椅子，五个碗，五只筷子。只有拿到两只筷子才能进餐。</p><ol><li>利用记录型信号量解决哲学家进餐问题 筷子是临界资源，在一段时间内只允许一位哲学家使用。 <img src="/Lyc-notes/assets/%E5%93%B2%E5%AD%A6%E5%AE%B6%E8%BF%9B%E9%A4%90%E9%97%AE%E9%A2%98.DbXYYzq2.png" alt="19"></li></ol><p>当哲学家饥饿时，总是先去拿他左边的筷子，再去拿他右边的筷子。 问题：可能发生死锁，如果五位哲学家同时拿起左边的筷子，再去拿右边的筷子时，都会因为无筷子可拿而导致无限期等待。 解决办法： （1）至多只允许有四位哲学家同时取拿左边的筷子，最终能保证至少有一位哲学家能够进餐，并在用完时，能释放出他用过的两只筷子，从而使更多的哲学家能够进餐。 （2）仅当哲学家的左右两只筷子均可用时，才允许他拿起筷子进餐。 （3）规定奇数号哲学家先拿他左边的筷子，然后再去拿右边的筷子；而偶数号哲学家则相反。那么，1，2 号哲学家竞争 1 号筷子；3，4 号哲学家竞争 3 号筷子。即五位哲学家都先去竞争奇数筷子，获得后再去竞争偶数号筷子，最后总会有一位哲学家能获得两只筷子而进餐。</p><ol start="2"><li>利用 AND 信号量机制解决哲学家进餐问题 <img src="/Lyc-notes/assets/%E5%88%A9%E7%94%A8AND%E4%BF%A1%E5%8F%B7%E9%87%8F%E6%9C%BA%E5%88%B6%E8%A7%A3%E5%86%B3%E5%93%B2%E5%AD%A6%E5%AE%B6%E8%BF%9B%E9%A4%90%E9%97%AE%E9%A2%98%20.Btbz3EU5.png" alt="20"></li></ol><h4 id="读者-写者问题" tabindex="-1">读者-写者问题 <a class="header-anchor" href="#读者-写者问题" aria-label="Permalink to &quot;读者-写者问题&quot;">​</a></h4><p>一个数据文件可被多个进程共享，读该文件的进程称为“Reader 进程”，其它进程称为“Writer 进程”。允许多个进程同时读一个共享对象，因为读操作不会使数据文件混乱。但不允许一个 Writer 进程和其它 Reader 进程或 Writer 进程同时访问共享对象。-&gt; Writer 进程必须和其它进程互斥的访问共享对象。</p><ol><li><p>利用记录型信号量解决读者-写者问题 Wmutex：Reader 进程与 Writer 进程的互斥信号量 Readcount：正在读的进程数 Rmutex：Readcount：正在读的进程数是一个可被多个 Reader 进程访问的临界资源，所以为它设置一个互斥信号量 rmutex。</p><p><img src="/Lyc-notes/assets/%E5%88%A9%E7%94%A8%E8%AE%B0%E5%BD%95%E5%9E%8B%E4%BF%A1%E5%8F%B7%E9%87%8F%E8%A7%A3%E5%86%B3%E8%AF%BB%E8%80%85-%E5%86%99%E8%80%85%E9%97%AE%E9%A2%98.BSp5Bk1z.png" alt="21"></p></li><li><p>利用信号量集解决读者-写者问题</p></li></ol><h3 id="进程通信" tabindex="-1">进程通信 <a class="header-anchor" href="#进程通信" aria-label="Permalink to &quot;进程通信&quot;">​</a></h3><h4 id="进程通信的类型" tabindex="-1">进程通信的类型 <a class="header-anchor" href="#进程通信的类型" aria-label="Permalink to &quot;进程通信的类型&quot;">​</a></h4><ol><li>共享存储器系统 （1）基于共享数据结构的通信方式 （2）基于共享存储区的通信方式</li><li>管道(pipe)通信系统 所谓”管道“，是指用于连接一个读进程和一个写进程以实现它们之间通信的一个共享文件，又称为 pipe 文件。向管道(共享文件)提供输入的发送进程（即写进程）以字符流形式将大量的数据送入管道；而接受管道输出的接受进程（即读进程）则从管道中接受数据。由于发送进程和接受进程时利用管道进行通信的，故成为了管道通信。 为了协调双方的通信，管道机制必须提供以下三方面的协调功能： （1）互斥 （2）同步 （3）确定对方是否存在，只有确定了对方已存在时才能进行通信。</li><li>消息传递系统 在该机制中，进程不必借助任何共享存储区或数据结构，而是以格式化的消息为单位，将通信的数据封装在消息中，并利用操作系统提供的一组通信命令（原语），在进程间进行消息传递，完成进程间的数据交换。 （1）直接通信方式：指发送进程利用 OS 所提供的发送原语，直接把消息发送给目标进程； （2）间接通信方式：指发送和接受进程，都通过共享中间实体（邮箱）的方式进行消息的发送和接受，完成进程间的通信。</li><li>客户机-服务器系统</li></ol><p>1）套接字 2）远程过程调用和远程方法调用</p><h4 id="消息传递通信的实现方式" tabindex="-1">消息传递通信的实现方式 <a class="header-anchor" href="#消息传递通信的实现方式" aria-label="Permalink to &quot;消息传递通信的实现方式&quot;">​</a></h4><ol><li>直接消息传递系统 1）直接通信原语 （1）对称寻址方式 send（receiver，message） receive（sender，message） （2）非对称寻址方式 send（P，message） seceive（id，message） （2）消息的格式 （3）进程的同步方式 （4）通信链路</li><li>信箱通信 1）信箱的结构 （1）信箱头 （2）信箱体 2）信箱通信原语 （1）信箱的创建和撤销 （2）消息的发送和接受。 3）信箱的类型 （1）私用邮箱 （2）公用邮箱 （3）共享邮箱</li></ol><h4 id="直接消息传递系统实例" tabindex="-1">直接消息传递系统实例 <a class="header-anchor" href="#直接消息传递系统实例" aria-label="Permalink to &quot;直接消息传递系统实例&quot;">​</a></h4><ol><li>消息缓冲队列通信机制中的数据结构 （1）消息缓冲区 （2）PCB 中有关通信的数据项</li><li>发送原语</li><li>接受原语</li></ol><h3 id="线程的基本概念" tabindex="-1">线程的基本概念 <a class="header-anchor" href="#线程的基本概念" aria-label="Permalink to &quot;线程的基本概念&quot;">​</a></h3><h4 id="线程的引入" tabindex="-1">线程的引入 <a class="header-anchor" href="#线程的引入" aria-label="Permalink to &quot;线程的引入&quot;">​</a></h4><ol><li>进程的两个基本属性</li></ol><p>（1）进程是一个可拥有资源的独立单位。 （2）进程是一个可独立调度和分配的基本单位。</p><ol start="2"><li>程序并发执行所需付出的时空开销</li><li>线程--作为调度和分配的基本单位</li></ol><h4 id="线程与进程的比较" tabindex="-1">线程与进程的比较 <a class="header-anchor" href="#线程与进程的比较" aria-label="Permalink to &quot;线程与进程的比较&quot;">​</a></h4><ol><li>调度的基本单位 引入线程的 OS 中，线程作为调度和分配的基本单位，因而线程是能够独立运行的基本单位当线程切换时，仅需保存和设置少量寄存器内容，切换代价远低于进程。在同一进程中，线程的切换不会引起进程的切换，但从一个进程中的线程切换到另一个进程中的线程时，必然就会引起进程的切换。</li><li>并发性 在引入线程的 OS 中，不仅进程之间可以并发执行，而且在一个进程中的多个线程之间亦可并发执行，甚至还允许在一个进程中的所有线程都能并发执行。同样，不同进程中的线程也能并发执行。</li><li>拥有资源 进程可以拥有资源，并作为你系统中拥有资源的一个基本单位。然后，线程本身并不拥有系统资源，而是仅有一点必不可少的、能够保证独立运行的资源。允许多个线程共享该进程所拥有的所有的资源：属于同一进程的所有线程都具有相同的地址空间，意味着，线程可以访问该地址空间中的每一个虚拟地址；还可以访问进程所拥有的资源。</li><li>独立性 同一进程的不同线程的之间的独立性要比不同进程之间的独立性低得多。因为线程会共享同一进程的资源，访问所属进程地址空间中的所有地址。</li><li>系统开销 OS 创建或撤销进程所付出的开销要比线程所付出的开销大的多</li><li>支持多处理机系统</li></ol><h4 id="线程的状态和线程控制块" tabindex="-1">线程的状态和线程控制块 <a class="header-anchor" href="#线程的状态和线程控制块" aria-label="Permalink to &quot;线程的状态和线程控制块&quot;">​</a></h4><ol><li>线程运行的三个状态 （1）执行状态 （2）就绪状态 （3）阻塞状态</li><li>线程控制块 TCB （1）线程标识符 （2）一组寄存器，程序计数器 PC、状态寄存器和通用寄存器 （3）线程运行的状态 （4）优先级 （5）线程专有存储区 （6）信号屏蔽 （7）堆栈指针</li><li>多线程 OS 中的进程属性 （1）进程是一个可拥有资源的基本单位。 （2）多个线程可并发执行。 （3）进程已不是可执行的实体。在多线程中，把线程作为独立运行（或称为调度）的基本单位。</li></ol><h3 id="线程的实现" tabindex="-1">线程的实现 <a class="header-anchor" href="#线程的实现" aria-label="Permalink to &quot;线程的实现&quot;">​</a></h3><h4 id="线程的实现方式" tabindex="-1">线程的实现方式 <a class="header-anchor" href="#线程的实现方式" aria-label="Permalink to &quot;线程的实现方式&quot;">​</a></h4><ol><li>内核支持线程 （1）在多处理器系统中，内核能够同时调度同一进程中的多个线程并执行； （2）如果在进程中的一个线程被阻塞了，内核可以调度该进程中的其它线程占有处理器运行，也可以运行其它进程中的线程。 （3）内核支持线程具有很小的数据结构和堆栈，线程的切换比较快，切换开销小； （4）内核本身可以采用多线程技术，可以提高系统的执行速度和效率。 缺点：同一进程中，从一个线程切换到另一个线程，需要从用户态转到核心态，这是因为用户进程的线程在用户态运行，而线程调度和管理是在内核实现的，系统开销较大。</li><li>用户级线程 ULT 用户级线程是在用户空间中实现的。对线程的创建、撤销、同步与通信等功能，都无需内核的支持，即用户及线程是与内核无关的。 （1）线程的切换不需要轮换到内核空间。 （2）调度算法可以是进程专用的。 （3）用户及线程的实现与 OS 平台无关，因为对于线程管理的代码属于用户程序的一部分，所有的应用程序都可以对之共享。 缺点： （1）系统调用的阻塞问题。当一个线程执行系统调用，那么所属进程将被阻塞，该进程下的所有线程也会被阻塞。 （2）在单纯的用户及线程实现方式中，多线程应用不能利用多处理机进程多重处理的优点，内核每次分配给一个进程的仅有一个 CPU，因此，进程中仅有一个线程能执行，其它线程只能等待。</li><li>组合方式 将用户及线程和内核支持线程两种方式进行组合。 （1）多对一模型，即将用户及线程映射到一个内核控制线程。 多个线程同属于一个进程，运行在该进程的空间。仅当用户线程需要访问内核时，才将其映射到一个内核控制线程上，但每次只允许一个线程进程映射。 优点：线程管理的开销小，效率高。 缺点：如果一个线程阻塞，那么整个进程都会阻塞，任何时刻，只有线程能够访问内核。 （2）一对一模，即将每个用户及线程映射到一个内核支持线程。 优点：每个用户及线程都设置一个内核控制线程与之连接，当一个线程阻塞时，允许调度另一个线程运行，提供更好的并发功能 缺点：每创建一个用户及线程，响应地需要创建一个内核线程，开销较大，因此需要限制整个系统的线程数。 （3）多对多模型，即将许多用户线程映射到同样的数量或更少数量的内核线程上。结合了上述两个模型的优点。 <img src="/Lyc-notes/assets/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E6%A8%A1%E5%9E%8B.Dq1VcJt8.png" alt="22"></li></ol><h4 id="线程的实现-1" tabindex="-1">线程的实现 <a class="header-anchor" href="#线程的实现-1" aria-label="Permalink to &quot;线程的实现&quot;">​</a></h4><ol><li>内核支持线程的实现</li><li>用户及线程的实现 （1）运行时系统 （2）内核控制线程</li></ol><h4 id="线程的创建和终止" tabindex="-1">线程的创建和终止 <a class="header-anchor" href="#线程的创建和终止" aria-label="Permalink to &quot;线程的创建和终止&quot;">​</a></h4><ol><li>线程的创建</li><li>线程的终止</li></ol></div></div></main><footer class="VPDocFooter" data-v-68270971 data-v-f4c4c115><!--[--><!--[--><!--[--><!--[--><div class="doc-comments"><!----></div><!--]--><!--]--><!--]--><!--]--><div class="edit-info" data-v-f4c4c115><!----><div class="last-updated" data-v-f4c4c115><p class="VPLastUpdated" data-v-f4c4c115 data-v-270fbc60>上次更新: <time datetime="2024-06-03T11:10:59.000Z" data-v-270fbc60></time></p></div></div><nav class="prev-next" data-v-f4c4c115><div class="pager" data-v-f4c4c115><a class="VPLink link pager-link prev" href="/Lyc-notes/os/chapter1" data-v-f4c4c115><!--[--><span class="desc" data-v-f4c4c115>上一篇</span><span class="title" data-v-f4c4c115>第一章 操作系统引论</span><!--]--></a></div><div class="pager" data-v-f4c4c115><!----></div></nav></footer><!--[--><!--[--><!--[--><div style="" class="m-doc-footer" data-v-694eb995><div class="m-doc-footer-message" data-v-694eb995><img class="visitor" src="https://visitor-badge.laobi.icu/badge?page_id=LynnCen.Lyc-notes./os/chapter2" title="当前页面累计访问数" onerror="this.style.display=&#39;none&#39;" data-v-694eb995><p data-v-694eb995>如有转载或 CV 的请标注本站原文地址</p></div><p class="m-doc-footer-copyright" data-v-694eb995>Copyright © 2024-present LynnCen</p></div><!--]--><!--]--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-7cb4efe6 data-v-9980e494><div class="container" data-v-9980e494><p class="message" data-v-9980e494>如有转载或 CV 的请标注本站原文地址</p><p class="copyright" data-v-9980e494>Copyright © 2024-present LynnCen</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"utils_utils.md\":\"BGjBO8fP\",\"datastructure_chapter1.md\":\"DMItT4wl\",\"javascript_advance_browser.md\":\"C0vUJMwn\",\"datastructure_chapter3.md\":\"DD6BJKJ9\",\"architecture_base.md\":\"Ci-iERLM\",\"interview_css.md\":\"V1BUCjqK\",\"typescript_记录.md\":\"CxkuGEdK\",\"index.md\":\"C0POGgvl\",\"javascript_advance_executionstack.md\":\"BnvFsaAu\",\"datastructure_chapter6.md\":\"4nJM1u4r\",\"react_record_thinking.md\":\"_3sqF1OF\",\"browser_http.md\":\"DWA2fezt\",\"组成原理_chapter1.md\":\"CNmq5YZz\",\"react_utils_type.md\":\"DxBkvgxq\",\"os_chapter1.md\":\"e9kjpX11\",\"browser_rendersec.md\":\"CrncNfkj\",\"webpack_performance.md\":\"CftaNsHl\",\"browser_this.md\":\"CHPmB-_w\",\"javascript_advance_execution.md\":\"Bh20Vp4H\",\"browser_tcp协议.md\":\"CMAW8k9G\",\"browser_renderfirst.md\":\"Ck0jIHvo\",\"interview_browser.md\":\"n2bdMGiX\",\"welcome.md\":\"_pyk8yOH\",\"interview_html.md\":\"CE45tvOD\",\"browser_ introduce.md\":\"DlomH7jB\",\"interview_js.md\":\"DgOxON88\",\"interview_network.md\":\"Cw3EAr_v\",\"interview_react.md\":\"QdXhMHDS\",\"datastructure_chapter7.md\":\"BZg7WYU8\",\"test.md\":\"fi6TLgn2\",\"datastructure_chapter4.md\":\"BqjEO9iX\",\"datastructure_chapter5.md\":\"B7uGTaGM\",\"interview_coding.md\":\"BITuYqez\",\"interview_project.md\":\"SePxsYDx\",\"react_core_basic.md\":\"hkdwlWhA\",\"mobile_pha.md\":\"CnJSH5QF\",\"postgraduate_school.md\":\"DZe2KIT6\",\"browser_chrome架构.md\":\"BzfQ_QPZ\",\"interview_typescript.md\":\"DWzsxhVN\",\"docs_hello.md\":\"DtkAFhUR\",\"record_nvm.md\":\"KfXM6OCD\",\"vue_basic.md\":\"Bio5oO-F\",\"typescript_costums.md\":\"B__cDoix\",\"record_tallking.md\":\"D6WuWj_U\",\"react_core_basestruct.md\":\"rMwgNlqa\",\"browser_调用栈.md\":\"F1as1v-3\",\"browser_变量提升.md\":\"CsvPjOAV\",\"browser_作用域链和闭包.md\":\"BbAESXJ6\",\"browser_块级作用域.md\":\"C85hu1y4\",\"browser_导航流程.md\":\"Cgd7QoQK\",\"webpack_unocss.md\":\"BEXpJARr\",\"datastructure_chapter2.md\":\"9QkMECGd\",\"react_core_设计理念.md\":\"BzU6bn94\",\"react_core_innercore.md\":\"B2vKpcun\",\"react_core_前端ui框架简史.md\":\"DOEw66dR\",\"react_customhook_hooks.md\":\"BRJajaHb\",\"组成原理_chapter2.md\":\"B2dLuNe9\",\"record_amap.md\":\"CE4y0pU0\",\"architecture_jp架构.md\":\"BHCDF8AB\",\"javascript_basic_你不知道的js.md\":\"BZ60Fk2L\",\"javascript_advance_executioncontext.md\":\"BxvDROxy\",\"react_core_核心原理.md\":\"OBYNhesJ\",\"nav_index.md\":\"Ck7vIg4f\",\"webpack_埋点.md\":\"CYIB6Y_d\",\"interview_webpack.md\":\"-Bcqf521\",\"os_chapter2.md\":\"DMg4bONV\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"zh-CN\",\"dir\":\"ltr\",\"title\":\"林岑LynnCenʘᴗʘ \",\"description\":\"林岑的成长之路，包含前端常用知识、源码阅读笔记、各种奇淫技巧、日常提效工具等\",\"base\":\"/Lyc-notes/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"i18nRouting\":false,\"logo\":\"/LynnCenLogo.png\",\"nav\":[{\"text\":\"WebFront\",\"items\":[{\"text\":\"Javascript基础\",\"activeMatch\":\"Javascript/basic/\",\"link\":\"Javascript/basic/你不知道的js\"},{\"text\":\"Javascript进阶\",\"activeMatch\":\"Javascript/Advance/\",\"link\":\"Javascript/Advance/executionContext\"},{\"text\":\"Typescript\",\"activeMatch\":\"/typescript/\",\"link\":\"/typescript/记录\"},{\"text\":\"浏览器原理\",\"activeMatch\":\"/browser/\",\"link\":\"/browser/Chrome架构\"}]},{\"text\":\"ComputerBasics\",\"items\":[{\"text\":\"计算机组成原理\",\"items\":[{\"text\":\"计算机组成原理基础\",\"link\":\"/组成原理/chapter1\"}]},{\"text\":\"数据结构\",\"items\":[{\"text\":\"数据结构基础\",\"link\":\"/dataStructure/chapter1\"}]},{\"text\":\"操作系统OS\",\"items\":[{\"text\":\"操作系统基础\",\"link\":\"/os/chapter1\"}]},{\"text\":\"计算机网络\",\"items\":[]}]},{\"text\":\"Frameworks\",\"items\":[{\"text\":\"React\",\"activeMatch\":\"/react/\",\"link\":\"react/core/basic\"},{\"text\":\"Vue\",\"link\":\"Vue/basic\"}]},{\"text\":\"Engineering\",\"items\":[{\"text\":\"WebPack\",\"activeMatch\":\"/webpack/\",\"link\":\"webpack/performance\"},{\"text\":\"Vite\",\"items\":[]}]},{\"text\":\"Interview\",\"activeMatch\":\"/interview/\",\"link\":\"/interview/js\"}],\"sidebar\":{\"/Javascript/\":[{\"text\":\"JS引擎\",\"link\":\"Javascript/Advance/execution\"},{\"text\":\"调用堆栈\",\"items\":[{\"text\":\"执行上下文和执行栈\",\"link\":\"Javascript/Advance/executionContext\"},{\"text\":\"执行上下文栈和变量对象\",\"link\":\"Javascript/Advance/executionStack\"}]}],\"/react/\":[{\"text\":\"React源码\",\"items\":[{\"text\":\"核心概念\",\"link\":\"/react/core/basic\"},{\"text\":\"设计理念\",\"link\":\"/react/core/设计理念\"},{\"text\":\"内核关系\",\"link\":\"/react/core/innerCore\"},{\"text\":\"基本数据结构\",\"link\":\"/react/core/baseStruct\"}]},{\"text\":\"React实践\",\"items\":[{\"text\":\"思考\",\"link\":\"/react/record/thinking\"},{\"text\":\"自定义Hooks\",\"link\":\"/react/customHook/hooks\"},{\"text\":\"React with TS\",\"link\":\"/react/utils/type\"}]}],\"/interview/\":[{\"text\":\"HTML\",\"link\":\"/interview/html\"},{\"text\":\"CSS\",\"link\":\"/interview/css\"},{\"text\":\"Javascript\",\"link\":\"/interview/js\"},{\"text\":\"React\",\"link\":\"/interview/react\"},{\"text\":\"Typescript\",\"link\":\"/interview/typescript\"},{\"text\":\"WebPack\",\"link\":\"/interview/webpack\"},{\"text\":\"浏览器\",\"link\":\"/interview/browser\"},{\"text\":\"网络\",\"link\":\"/interview/network\"},{\"text\":\"项目总结\",\"link\":\"/project\"},{\"text\":\"笔试题\",\"link\":\"/interview/coding\"}],\"/os/\":[{\"text\":\"操作系统基础\",\"items\":[{\"text\":\"第一章 操作系统引论\",\"link\":\"/os/chapter1\"},{\"text\":\"第二章 进程与线程\",\"link\":\"/os/chapter2\"}]}],\"/dataStructure/\":[{\"text\":\"数据结构\",\"items\":[{\"text\":\"第一章 绪论\",\"link\":\"/dataStructure/chapter1\"},{\"text\":\"第二章 线性表\",\"link\":\"/dataStructure/chapter2\"},{\"text\":\"第三章 栈、队列和数组\",\"link\":\"/dataStructure/chapter3\"},{\"text\":\"第四章 串\",\"link\":\"/dataStructure/chapter4\"},{\"text\":\"第五章 树与二叉树\",\"link\":\"/dataStructure/chapter5\"},{\"text\":\"第六章 图\",\"link\":\"/dataStructure/chapter6\"},{\"text\":\"第七章 图\",\"link\":\"/dataStructure/chapter7\"}]}],\"/组成原理/\":[{\"text\":\"计算机组成原理\",\"items\":[{\"text\":\"第一章 计算机系统概述\",\"link\":\"/组成原理/chapter1\"},{\"text\":\"第二章 数据的表示和运算\",\"link\":\"/组成原理/chapter2\"}]}],\"/webpack/\":[{\"text\":\"WebPack性能优化\",\"link\":\"/webpack/performance\"},{\"text\":\"原子化Css\",\"link\":\"/webpack/unocss\"}],\"/browser/\":[{\"text\":\"宏观视角下的浏览器\",\"items\":[{\"text\":\"Chorme架构\",\"link\":\"/browser/Chrome架构\"},{\"text\":\"TCP协议\",\"link\":\"/browser/TCP协议\"},{\"text\":\"HTTP协议\",\"link\":\"/browser/HTTP\"},{\"text\":\"导航流程\",\"link\":\"/browser/导航流程\"},{\"text\":\"渲染流程（上）\",\"link\":\"/browser/renderfirst\"},{\"text\":\"渲染流程（下）\",\"link\":\"/browser/rendersec\"}]},{\"text\":\"Javascript中的执行机制\",\"items\":[{\"text\":\"变量提升\",\"link\":\"/browser/变量提升\"},{\"text\":\"调用栈\",\"link\":\"/browser/调用栈\"},{\"text\":\"块级作用域\",\"link\":\"/browser/块级作用域\"},{\"text\":\"作用域链和闭包\",\"link\":\"/browser/作用域链和闭包\"},{\"text\":\"This\",\"link\":\"/browser/this\"}]}]},\"search\":{\"provider\":\"local\"},\"outline\":{\"level\":\"deep\",\"label\":\"本页目录\"},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/LynnCen\"}],\"footer\":{\"message\":\"如有转载或 CV 的请标注本站原文地址\",\"copyright\":\"Copyright © 2024-present LynnCen\"},\"darkModeSwitchLabel\":\"外观\",\"returnToTopLabel\":\"返回顶部\",\"lastUpdatedText\":\"上次更新\",\"docFooter\":{\"prev\":\"上一篇\",\"next\":\"下一篇\"},\"visitor\":{\"badgeId\":\"LynnCen.Lyc-notes\"},\"comment\":{\"repo\":\"LynnCen/Lyc-notes\",\"repoId\":\"R_kgDOLsOwUg\",\"category\":\"Announcements\",\"categoryId\":\"DIC_kwDOLsOwUs4CenzY\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":true}");</script>
    
  </body>
</html>